{
  "SaveName": "Killzone: Munitorum Loading Bay",
  "GameMode": "BCB 40k Map - 6'x4' Sector Imperialis",
  "Gravity": 0.5,
  "PlayArea": 0.5,
  "Date": "3/16/2020 11:26:48 AM",
  "Table": "Table_None",
  "Sky": "Sky_Museum",
  "Note": "By default hands are NOT hidden. If you need to hide hands (e.g. Sealed Orders mission) click \"Options > Hands > Hiding: Default\"\r\n\r\nFor instructions on how to make your own map, click the Notebook in the top toolbar.\r\n\r\nObjective markers have a 2\" circle state so you can easily check range and a generic back for hidden objectives.\r\n\nCredits can be found in the Notepad.",
  "Rules": "",
  "XmlUI": "<!-- Xml UI. See documentation: https://api.tabletopsimulator.com/ui/introUI/ -->",
  "LuaScript": "--",
  "LuaScriptState": "",
  "MusicPlayer": {
    "RepeatSong": true,
    "PlaylistEntry": -1,
    "CurrentAudioTitle": "Ultramarines Chant",
    "CurrentAudioURL": "http://cloud-3.steamusercontent.com/ugc/773976977327440295/17C1CAA1F70F178395E93C05E55946061E695598/",
    "AudioLibrary": [
      {
        "Item1": "http://cloud-3.steamusercontent.com/ugc/773976977327440295/17C1CAA1F70F178395E93C05E55946061E695598/",
        "Item2": "Ultramarines Chant"
      }
    ]
  },
  "Grid": {
    "Type": 0,
    "Lines": false,
    "Color": {
      "r": 0.0,
      "g": 0.0,
      "b": 0.0
    },
    "Opacity": 0.75,
    "ThickLines": true,
    "Snapping": false,
    "Offset": false,
    "BothSnapping": false,
    "xSize": 0.5,
    "ySize": 0.5,
    "PosOffset": {
      "x": 0.0,
      "y": 1.0,
      "z": 0.0
    }
  },
  "Lighting": {
    "LightIntensity": 0.54,
    "LightColor": {
      "r": 1.0,
      "g": 0.9804,
      "b": 0.8902
    },
    "AmbientIntensity": 1.3,
    "AmbientType": 0,
    "AmbientSkyColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientEquatorColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientGroundColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "ReflectionIntensity": 1.0,
    "LutIndex": 0,
    "LutContribution": 1.0
  },
  "Hands": {
    "Enable": true,
    "DisableUnused": true,
    "Hiding": 2,
    "HandTransforms": [
      {
        "Color": "Red",
        "Transform": {
          "posX": -18.5,
          "posY": 1.00000048,
          "posZ": 37.5,
          "rotX": 0.0,
          "rotY": 180.0,
          "rotZ": 0.0,
          "scaleX": 38.135006,
          "scaleY": 9.077269,
          "scaleZ": 7.8216
        }
      },
      {
        "Color": "Blue",
        "Transform": {
          "posX": -18.5,
          "posY": 1.00000048,
          "posZ": -37.5,
          "rotX": 0.0,
          "rotY": -4.00605277E-05,
          "rotZ": 0.0,
          "scaleX": 38.135006,
          "scaleY": 9.077269,
          "scaleZ": 7.8216
        }
      },
      {
        "Color": "White",
        "Transform": {
          "posX": -58.9286346,
          "posY": 4.999999,
          "posZ": -2.59820223,
          "rotX": 0.0,
          "rotY": 90.0,
          "rotZ": 0.0,
          "scaleX": 1.31356609,
          "scaleY": 1.29675269,
          "scaleZ": 1.32561445
        }
      }
    ]
  },
  "Turns": {
    "Enable": false,
    "Type": 0,
    "TurnOrder": [],
    "Reverse": false,
    "SkipEmpty": false,
    "DisableInteractions": false,
    "PassTurns": true,
    "TurnColor": ""
  },
  "ObjectStates": [
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -36.0,
        "posY": -9.0,
        "posZ": -72.0,
        "rotX": 6.536436E-07,
        "rotY": -2.39176334E-05,
        "rotZ": -3.84849864E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "http://cloud-3.steamusercontent.com/ugc/879750610978795929/723C50F43FAB3DE3DC12CB8460536E8CB34B60A3/",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 2,
        "TypeIndex": 4,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "afc863"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -36.0,
        "posY": -9.0,
        "posZ": 72.0,
        "rotX": 6.536436E-07,
        "rotY": 90.0,
        "rotZ": -3.84849864E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "http://cloud-3.steamusercontent.com/ugc/879750610978795929/723C50F43FAB3DE3DC12CB8460536E8CB34B60A3/",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 2,
        "TypeIndex": 4,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "c8edca"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": 36.0,
        "posY": -9.0,
        "posZ": 72.0,
        "rotX": 6.536436E-07,
        "rotY": 180.0,
        "rotZ": -3.84849864E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "http://cloud-3.steamusercontent.com/ugc/879750610978795929/723C50F43FAB3DE3DC12CB8460536E8CB34B60A3/",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 2,
        "TypeIndex": 4,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "393bf7"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": 36.0,
        "posY": -9.0,
        "posZ": -72.0,
        "rotX": 6.536436E-07,
        "rotY": 270.0,
        "rotZ": -3.84849864E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "http://cloud-3.steamusercontent.com/ugc/879750610978795929/723C50F43FAB3DE3DC12CB8460536E8CB34B60A3/",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 2,
        "TypeIndex": 4,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "12c65e"
    },
    {
      "Name": "Chinese_Checkers_Piece",
      "Transform": {
        "posX": 55.1600037,
        "posY": -0.259998322,
        "posZ": -94.12,
        "rotX": 0.00190076465,
        "rotY": 180.0,
        "rotZ": 0.000379891542,
        "scaleX": 1.6499995,
        "scaleY": 1.6499995,
        "scaleZ": 1.6499995
      },
      "Nickname": "Flex Table Control",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": false,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 1,
      "XmlUI": "",
      "LuaScript": "tableHeightOffset = -9\n\nfunction onSave()\n    saved_data = JSON.encode({tid=tableImageData, cd=checkData})\n    --saved_data = \"\"\n    return saved_data\nend\n\nfunction onload(saved_data)\n    --Loads the tracking for if the game has started yet\n    if saved_data ~= \"\" then\n         local loaded_data = JSON.decode(saved_data)\n         tableImageData = loaded_data.tid\n         checkData = loaded_data.cd\n    else\n        tableImageData = {}\n        checkData = {move=false, scale=false}\n    end\n\n    --Disables interactable status of objects with GUID in list\n    for _, guid in ipairs(ref_noninteractable) do\n        local obj = getObjectFromGUID(guid)\n        if obj then obj.interactable = false end\n    end\n\n    --Establish references to table parts\n    obj_leg1 = getObjectFromGUID(\"afc863\")\n    obj_leg2 = getObjectFromGUID(\"c8edca\")\n    obj_leg3 = getObjectFromGUID(\"393bf7\")\n    obj_leg4 = getObjectFromGUID(\"12c65e\")\n    obj_surface = getObjectFromGUID(\"4ee1f2\")\n    obj_side_top = getObjectFromGUID(\"35b95f\")\n    obj_side_bot = getObjectFromGUID(\"f938a2\")\n    obj_side_lef = getObjectFromGUID(\"9f95fd\")\n    obj_side_rig = getObjectFromGUID(\"5af8f2\")\n\n    controlActive = false\n    createOpenCloseButton()\nend\n\n\n\n--Activation/deactivation of control panel\n\n\n\n--Activated by clicking on\nfunction click_toggleControl(_, color)\n    if permissionCheck(color) then\n        if not controlActive then\n            --Activate control panel\n            controlActive = true\n            self.clearButtons()\n            createOpenCloseButton()\n            createSurfaceInput()\n            createSurfaceButtons()\n            createScaleInput()\n            createScaleButtons()\n        else\n            --Deactivate control panel\n            controlActive = false\n            self.clearButtons()\n            self.clearInputs()\n            createOpenCloseButton()\n\n        end\n    end\nend\n\n\n\n\n--Table surface control\n\n\n\n--Changes table surface\nfunction click_applySurface(_, color)\n    if permissionCheck(color) then\n        updateSurface()\n        broadcastToAll(\"New Table Image Applied\", {0.2,0.9,0.2})\n    end\nend\n\n--Saves table surface\nfunction click_saveSurface(_, color)\n    if permissionCheck(color) then\n        local nickname = self.getInputs()[1].value\n        local url = self.getInputs()[2].value\n        if nickname == \"\" then\n            --No nickname\n            broadcastToAll(\"Please supply a nickname for this save.\", {0.9,0.2,0.2})\n        else\n            --Nickname exists\n\n            if findInImageDataIndex(url, nickname) == nil then\n                --Save doesn't exist already\n                table.insert(tableImageData, {url=url, name=nickname})\n                broadcastToAll(\"Image URL saved to memory.\", {0.2,0.9,0.2})\n                --Refresh buttons\n                self.clearButtons()\n                createOpenCloseButton()\n                createSurfaceButtons()\n                createScaleButtons()\n            else\n                --Save exists already\n                broadcastToAll(\"Memory already contains a save with this Name or URL. Delete it first.\", {0.9,0.2,0.2})\n            end\n        end\n    end\nend\n\n--Loads table surface\nfunction click_loadMemory(_, color, index)\n    if permissionCheck(color) then\n        self.editInput({index=0, value=tableImageData[index].name})\n        self.editInput({index=1, value=tableImageData[index].url})\n        updateSurface()\n        broadcastToAll(\"Table Image Loaded\", {0.2,0.9,0.2})\n    end\nend\n\n--Deletes table surface\nfunction click_deleteMemory(_, color, index)\n    if permissionCheck(color) then\n        table.remove(tableImageData, index)\n        self.clearButtons()\n        createOpenCloseButton()\n        createSurfaceButtons()\n        createScaleButtons()\n        broadcastToAll(\"Element Removed from Memory\", {0.2,0.9,0.2})\n    end\nend\n\n--Updates surface from the values in the input field\nfunction updateSurface()\n    local customInfo = obj_surface.getCustomObject()\n    customInfo.diffuse = self.getInputs()[2].value\n    obj_surface.setCustomObject(customInfo)\n    obj_surface = obj_surface.reload()\nend\n\n\n\n--Table Scale control\n\n\n\n--Applies Scale to table pieces\nfunction click_applyScale(_, color)\n    if permissionCheck(color) then\n        local newWidth = tonumber(self.getInputs()[3].value)\n        local newDepth = tonumber(self.getInputs()[4].value)\n        if type(newWidth) ~= \"number\" then\n            broadcastToAll(\"Invalid Width\", {0.9,0.2,0.2})\n            return\n        elseif type(newDepth) ~= \"number\" then\n            broadcastToAll(\"Invalid Depth\", {0.9,0.2,0.2})\n            return\n        elseif newWidth<0.1 or newDepth<0.1 then\n            broadcastToAll(\"Scale cannot go below 0.1\", {0.9,0.2,0.2})\n            return\n        elseif newWidth>12 or newDepth>12 then\n            broadcastToAll(\"Scale should not go over 12 (world size limitation)\", {0.9,0.2,0.2})\n            return\n        else\n            changeTableScale(math.abs(newWidth), math.abs(newDepth))\n            broadcastToAll(\"Scale applied.\", {0.2,0.9,0.2})\n        end\n    end\nend\n\n--Checks/unchecks move box for hands\nfunction click_checkMove(_, color)\n    if permissionCheck(color) then\n        local find_func = function(o) return o.click_function==\"click_checkMove\" end\n        if checkData.move == true then\n            checkData.move = false\n            local buttonEntry = findButton(self, find_func)\n            self.editButton({index=buttonEntry.index, label=\"\"})\n        else\n            checkData.move = true\n            local buttonEntry = findButton(self, find_func)\n            self.editButton({index=buttonEntry.index, label=string.char(10008)})\n        end\n    end\nend\n\n--Checks/unchecks scale box for hands\n--This button was disabled for technical reasons\n--[[\nfunction click_checkScale(_, color)\n    if permissionCheck(color) then\n        local find_func = function(o) return o.click_function==\"click_checkScale\" end\n        if checkData.scale == true then\n            checkData.scale = false\n            local buttonEntry = findButton(self, find_func)\n            self.editButton({index=buttonEntry.index, label=\"\"})\n        else\n            checkData.scale = true\n            local buttonEntry = findButton(self, find_func)\n            self.editButton({index=buttonEntry.index, label=string.char(10008)})\n        end\n    end\nend\n]]\n\n--Alters scale of elements and moves them\nfunction changeTableScale(width, depth)\n    --Scaling factors used to translate scale to position offset\n    local width2pos = (width-1) * 18\n    local depth2pos = (depth-1) * 18\n\n    --Hand zone movement\n    if checkData.move == true then\n        for _, pc in ipairs(ref_playerColor) do\n            if Player[pc].getHandCount() > 0 then\n                moveHandZone(Player[pc], width2pos, depth2pos)\n            end\n        end\n    end\n    --Hand zone scaling\n    --The button to enable this was disabled for technical reasons\n    if checkData.scale == true then\n        for _, pc in ipairs(ref_playerColor) do\n            if Player[pc].getHandCount() > 0 then\n                scaleHandZone(Player[pc], width, depth)\n            end\n        end\n    end\n\n    --Resizing table elements\n    obj_side_top.setScale({width, 1, 1})\n    obj_side_bot.setScale({width, 1, 1})\n    obj_side_lef.setScale({depth, 1, 1})\n    obj_side_rig.setScale({depth, 1, 1})\n    obj_surface.setScale({width, 1, depth})\n\n    --Moving table elements to accomodate new scale\n    obj_side_lef.setPosition({-width2pos,tableHeightOffset,0})\n    obj_side_rig.setPosition({ width2pos,tableHeightOffset,0})\n    obj_side_top.setPosition({0,tableHeightOffset, depth2pos})\n    obj_side_bot.setPosition({0,tableHeightOffset,-depth2pos})\n    obj_leg1.setPosition({-width2pos,tableHeightOffset,-depth2pos})\n    obj_leg2.setPosition({-width2pos,tableHeightOffset, depth2pos})\n    obj_leg3.setPosition({ width2pos,tableHeightOffset, depth2pos})\n    obj_leg4.setPosition({ width2pos,tableHeightOffset,-depth2pos})\n    self.setPosition(obj_leg4.positionToWorld({-22.12, 8.74,-19.16}))\n    --Only enabled when changing tableHeightOffset\n    --obj_surface.setPosition({0,tableHeightOffset,0})\nend\n\n--Move hand zone, p=player reference, facts are scaling factors\nfunction moveHandZone(p, width2pos, depth2pos)\n    local widthX = obj_side_rig.getPosition().x\n    local depthZ = obj_side_top.getPosition().z\n    for i=1, p.getHandCount() do\n        local handT = p.getHandTransform()\n        local pos = handT.position\n        local y = handT.rotation.y\n\n        if y<45 or y>320 or y>135 and y<225 then\n            if pos.z > 0 then\n                pos.z = pos.z + depth2pos - depthZ\n            else\n                pos.z = pos.z - depth2pos + depthZ\n            end\n        else\n            if pos.x > 0 then\n                pos.x = pos.x + width2pos - widthX\n            else\n                pos.x = pos.x - width2pos + widthX\n            end\n        end\n\n        --Only enabled when changing tableHeightOffset\n        --pos.y = tableHeightOffset + 14\n\n        handT.position = pos\n        p.setHandTransform(handT, i)\n    end\nend\n\n\n---Scales hand zones, p=player reference, facts are scaling factors\nfunction scaleHandZone(p, width, depth)\n    local widthFact = width / obj_side_top.getScale().x\n    local depthFact = depth / obj_side_lef.getScale().x\n    for i=1, p.getHandCount() do\n        local handT = p.getHandTransform()\n        local scale = handT.scale\n        local y = handT.rotation.y\n        if y<45 or y>320 or y>135 and y<225 then\n            scale.x = scale.x * widthFact\n        else\n            scale.x = scale.x * depthFact\n        end\n        handT.scale = scale\n        p.setHandTransform(handT, i)\n    end\nend\n\n\n\n--Information gathering\n\n\n\n--Checks if a color is promoted or host\nfunction permissionCheck(color)\n    if Player[color].host==true or Player[color].promoted==true then\n        return true\n    else\n        return false\n    end\nend\n\n--Locates a string saved within memory file\nfunction findInImageDataIndex(...)\n    for _, str in ipairs({...}) do\n        for i, v in ipairs(tableImageData) do\n            if v.url == str or v.name == str then\n                return i\n            end\n        end\n    end\n    return nil\nend\n\n--Round number (num) to the Nth decimal (dec)\nfunction round(num, dec)\n  local mult = 10^(dec or 0)\n  return math.floor(num * mult + 0.5) / mult\nend\n\n--Locates a button with a helper function\nfunction findButton(obj, func)\n    if func==nil then error(\"No func supplied to findButton\") end\n    for _, v in ipairs(obj.getButtons()) do\n        if func(v) then\n            return v\n        end\n    end\n    return nil\nend\n\n\n\n--Creation of buttons/inputs\n\n\n\nfunction createOpenCloseButton()\n    local tooltip = \"Open Table Control Panel\"\n    if controlActive then\n        tooltip = \"Close Table Control Panel\"\n    end\n    self.createButton({\n        click_function=\"click_toggleControl\", function_owner=self,\n        position={0,0,0}, rotation={-45,0,0}, height=400, width=400,\n        color={1,1,1,0}, tooltip=tooltip\n    })\nend\n\nfunction createSurfaceInput()\n    local currentURL = obj_surface.getCustomObject().diffuse\n    local nickname = \"\"\n    if findInImageDataIndex(currentURL) ~= nil then\n        nickname = tableImageData[findInImageDataIndex(currentURL)].name\n    end\n    self.createInput({\n        label=\"Nickname\", input_function=\"none\", function_owner=self,\n        alignment=3, position={0,0,2}, height=224, width=4000,\n        font_size=200, tooltip=\"Enter nickname for table image (only used for save)\",\n        value=nickname\n    })\n    self.createInput({\n        label=\"URL\", input_function=\"none\", function_owner=self,\n        alignment=3, position={0,0,3}, height=224, width=4000,\n        font_size=200, tooltip=\"Enter URL for tabletop image\",\n        value=currentURL\n    })\nend\n\nfunction createSurfaceButtons()\n    --Label\n    self.createButton({\n        label=\"Tabletop Surface Image\", click_function=\"none\",\n        position={0,0,1}, height=0, width=0, font_size=300, font_color={1,1,1}\n    })\n    --Functional\n    self.createButton({\n        label=\"Apply Image\\nTo Table\", click_function=\"click_applySurface\",\n        function_owner=self, tooltip=\"Apply URL as table image\",\n        position={2,0,4}, height=440, width=1400, font_size=200,\n    })\n    self.createButton({\n        label=\"Save Image\\nTo Memory\", click_function=\"click_saveSurface\",\n        function_owner=self, tooltip=\"Record URL into memory (requires nickname)\",\n        position={-2,0,4}, height=440, width=1400, font_size=200,\n    })\n    --Label\n    self.createButton({\n        label=\"Load From Memory\", click_function=\"none\",\n        position={0,0,5.5}, height=0, width=0, font_size=300, font_color={1,1,1}\n    })\n    --Saves, created dynamically from memory file\n    for i, memoryEntry in ipairs(tableImageData) do\n        --Load\n        local funcName = i..\"loadMemory\"\n        local func = function(x,y) click_loadMemory(x,y,i) end\n        self.setVar(funcName, func)\n        self.createButton({\n            label=memoryEntry.name, click_function=funcName,\n            function_owner=self, tooltip=memoryEntry.url, font_size=200,\n            position={-0.6,0,6.5+0.5*(i-1)}, height=240, width=3300,\n        })\n        --Delete\n        local funcName = i..\"deleteMemory\"\n        local func = function(x,y) click_deleteMemory(x,y,i) end\n        self.setVar(funcName, func)\n        self.createButton({\n            label=\"DELETE\", click_function=funcName,\n            function_owner=self, tooltip=\"\",\n            position={3.6,0,6.5+0.5*(i-1)}, height=240, width=600,\n            font_size=160, font_color={1,0,0}, color={0.8,0.8,0.8}\n        })\n    end\nend\n\nfunction createScaleInput()\n    self.createInput({\n        label=string.char(8644), input_function=\"none\", function_owner=self,\n        alignment=3, position={-8.5,0,2}, height=224, width=400,\n        font_size=200, tooltip=\"Table Width\",\n        value=round(obj_side_top.getScale().x, 1)\n    })\n    self.createInput({\n        label=string.char(8645), input_function=\"none\", function_owner=self,\n        alignment=3, position={-7.5,0,2}, height=224, width=400,\n        font_size=200, tooltip=\"Table Depth\",\n        value=round(obj_side_lef.getScale().x, 1)\n    })\nend\n\nfunction createScaleButtons()\n    --Labels\n    self.createButton({\n        label=\"Table Scale\", click_function=\"none\",\n        position={-8,0,1}, height=0, width=0, font_size=300, font_color={1,1,1}\n    })\n    self.createButton({\n        label=string.char(8644)..\"            \"..string.char(8645),\n        click_function=\"none\",\n        position={-8,0,2}, height=0, width=0, font_size=300, font_color={1,1,1}\n    })\n    self.createButton({\n        label=\"Move Hands:\", click_function=\"none\",\n        position={-8.3,0,3}, height=0, width=0, font_size=200, font_color={1,1,1}\n    })\n    --Disabled due to me removing the feature for technical reasons\n    --[[\n    self.createButton({\n        label=\"Scale Hands:\", click_function=\"none\",\n        position={-8.3,0,4}, height=0, width=0, font_size=200, font_color={1,1,1}\n    })\n    ]]\n    --Checkboxes\n    local label = \"\"\n    if checkData.move == true then label = string.char(10008) end\n    self.createButton({\n        label=label, click_function=\"click_checkMove\",\n        function_owner=self, tooltip=\"Check to move hands when table is rescaled\",\n        position={-6.8,0,3}, height=224, width=224, font_size=200,\n    })\n    --[[\n    local label = \"\"\n    if checkData.scale == true then label = string.char(10008) end\n    self.createButton({\n        label=label, click_function=\"click_checkScale\",\n        function_owner=self, tooltip=\"Check to scale the width of hands when table is rescaled\",\n        position={-6.8,0,4}, height=224, width=224, font_size=200,\n    })\n    ]]\n    --Apply button\n    self.createButton({\n        label=\"Apply Scale\", click_function=\"click_applyScale\",\n        function_owner=self, tooltip=\"Apply width/depth to table\",\n        position={-8,0,4}, height=440, width=1400, font_size=200,\n    })\nend\n\n\n\n\n\n--Data tables\n\n\n\n\nref_noninteractable = {\n    \"afc863\",\"c8edca\",\"393bf7\",\"12c65e\",\"f938a2\",\"9f95fd\",\"35b95f\",\n    \"5af8f2\",\"4ee1f2\",\"bd69bd\"\n}\n\nref_playerColor = {\n    \"White\", \"Brown\", \"Red\", \"Orange\", \"Yellow\",\n    \"Green\", \"Teal\", \"Blue\", \"Purple\", \"Pink\", \"Black\"\n}\n\n--Dummy function, absorbs unwanted triggers\nfunction none() end\n",
      "LuaScriptState": "{\"cd\":{\"move\":true,\"scale\":false},\"tid\":[{\"name\":\"Kill Team Template\",\"url\":\"http://cloud-3.steamusercontent.com/ugc/947332417663104520/010A582F024AE03A6DFE0DBA501A6C0C8DCE4C10/\"}]}",
      "GUID": "bd69bd"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": 0.0,
        "posY": -9.0,
        "posZ": -72.0,
        "rotX": -1.01777751E-13,
        "rotY": 0.0,
        "rotZ": 0.0,
        "scaleX": 3.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "http://cloud-3.steamusercontent.com/ugc/879750610978796471/14ED0DBD593370733A0309B0950004F33EB9FACA/",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 1,
        "TypeIndex": 4,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f938a2"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -36.0,
        "posY": -9.0,
        "posZ": 0.0,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 5.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "http://cloud-3.steamusercontent.com/ugc/879750610978796471/14ED0DBD593370733A0309B0950004F33EB9FACA/",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 1,
        "TypeIndex": 4,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "9f95fd"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": 0.0,
        "posY": -9.0,
        "posZ": 72.0,
        "rotX": -1.01777751E-13,
        "rotY": 180.0,
        "rotZ": 0.0,
        "scaleX": 3.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "http://cloud-3.steamusercontent.com/ugc/879750610978796471/14ED0DBD593370733A0309B0950004F33EB9FACA/",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 1,
        "TypeIndex": 4,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "35b95f"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": 36.0,
        "posY": -9.0,
        "posZ": 0.0,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 5.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "http://cloud-3.steamusercontent.com/ugc/879750610978796471/14ED0DBD593370733A0309B0950004F33EB9FACA/",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 1,
        "TypeIndex": 4,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5af8f2"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": 25.0,
        "posY": 1.77000093,
        "posZ": -2.54716724E-07,
        "rotX": 90.0,
        "rotY": 89.96399,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "Battle Round",
        "colorstate": {
          "r": 1.0,
          "g": 1.0,
          "b": 1.0
        },
        "fontSize": 64
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a6713e"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": 32.5073967,
        "posY": 1.77000117,
        "posZ": 5.0607543,
        "rotX": 90.0,
        "rotY": 89.9637451,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "Player A Victory Points",
        "colorstate": {
          "r": 1.0,
          "g": 1.0,
          "b": 1.0
        },
        "fontSize": 64
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a82365"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": 32.5073929,
        "posY": 1.77000093,
        "posZ": 15.5609007,
        "rotX": 90.0,
        "rotY": 90.0000153,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "Player A Command Points",
        "colorstate": {
          "r": 1.0,
          "g": 1.0,
          "b": 1.0
        },
        "fontSize": 60
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "bc85f9"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": 32.4933739,
        "posY": 1.77000093,
        "posZ": -5.24338675,
        "rotX": 90.0,
        "rotY": 90.4634247,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "Player B Victory Points ",
        "colorstate": {
          "r": 1.0,
          "g": 1.0,
          "b": 1.0
        },
        "fontSize": 68
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "cf826c"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": 32.4933739,
        "posY": 1.77000093,
        "posZ": -15.7435942,
        "rotX": 90.0,
        "rotY": 89.96374,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "Player B Command Points",
        "colorstate": {
          "r": 1.0,
          "g": 1.0,
          "b": 1.0
        },
        "fontSize": 60
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "9a85e3"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": -18.0,
        "posY": 1.51833928,
        "posZ": 37.5001869,
        "rotX": -1.01777751E-13,
        "rotY": 0.0,
        "rotZ": 0.0,
        "scaleX": 3.97366214,
        "scaleY": 1.0,
        "scaleZ": 3.97366214
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138762295156522/9AE9544371D8CB983EDC79C6145684E4804437FB/",
        "ImageSecondaryURL": "",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.2,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d4fb23",
      "AttachedSnapPoints": [
        {
          "Position": {
            "x": -6.053131,
            "y": 0.199751481,
            "z": -0.000283774774
          }
        },
        {
          "Position": {
            "x": 6.03900146,
            "y": 0.200247228,
            "z": 0.000218760062
          }
        }
      ]
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": -45.1912575,
        "posY": 1.54836857,
        "posZ": 1.47756994,
        "rotX": 359.920135,
        "rotY": 269.997375,
        "rotZ": 0.0168749653,
        "scaleX": 9.258874,
        "scaleY": 1.0,
        "scaleZ": 8.787912
      },
      "Nickname": "Kill Team Rules",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/990115005953145298/FE4E91029F0FBA678F2C1F3A2DF188ED9350C71B/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "03e90e"
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": 2.4298,
        "posY": 1.95000029,
        "posZ": 29.8475,
        "rotX": -1.30796622E-07,
        "rotY": 0.00122796791,
        "rotZ": 270.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.996078432,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 1,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "3971f9",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": 2.429799,
        "posY": 1.95000029,
        "posZ": 30.8474,
        "rotX": 270.0,
        "rotY": 0.0002645328,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.996078432,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 1,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5c59c2",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": 2.4298,
        "posY": 1.95000017,
        "posZ": 28.8475,
        "rotX": 2.46179047E-06,
        "rotY": -0.001817518,
        "rotZ": 90.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.996078432,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 1,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5ded3d",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": 2.4297,
        "posY": 1.95000017,
        "posZ": 31.8474,
        "rotX": 2.538508E-07,
        "rotY": -0.000789881044,
        "rotZ": 180.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.996078432,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 1,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "958084",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": 2.4298,
        "posY": 1.95,
        "posZ": 26.8475,
        "rotX": -1.55422936E-06,
        "rotY": 0.00156021432,
        "rotZ": 1.12091129E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.996078432,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 1,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "aaa6d1",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": 2.4298,
        "posY": 1.95000029,
        "posZ": 27.8475,
        "rotX": 90.0,
        "rotY": 0.000929133035,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.996078432,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 1,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "ba183a",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": 52.7057343,
        "posY": 1.51973307,
        "posZ": 46.44829,
        "rotX": 90.0,
        "rotY": 89.50016,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "Specialist Tactics",
        "colorstate": {
          "r": 1.0,
          "g": 1.0,
          "b": 1.0
        },
        "fontSize": 92
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "70c4aa"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": 53.12358,
        "posY": 1.519404,
        "posZ": -45.11739,
        "rotX": 90.0,
        "rotY": 89.50016,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "Commander Tactics",
        "colorstate": {
          "r": 1.0,
          "g": 1.0,
          "b": 1.0
        },
        "fontSize": 92
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f4315b"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -24.26,
        "posY": 6.359998,
        "posZ": 1.16,
        "rotX": 0.0490873232,
        "rotY": 154.999985,
        "rotZ": 180.065323,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "afc846"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -24.26,
        "posY": 3.93777347,
        "posZ": 1.16,
        "rotX": 0.04906909,
        "rotY": 155.000168,
        "rotZ": 180.0653,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d916c7"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": 0.0,
        "posY": -9.0,
        "posZ": 0.0,
        "rotX": 359.983124,
        "rotY": -0.00189453643,
        "rotZ": 359.920135,
        "scaleX": 3.0,
        "scaleY": 1.0,
        "scaleZ": 5.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": true,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/879750610978796176/4A5A65543B98BCFBF57E910D06EC984208223D38/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/782977030076274702/2EB51532D771AF57894D094320FE5B8939B7694C/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 1,
        "TypeIndex": 4,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4ee1f2"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -23.9067917,
        "posY": 3.9388392,
        "posZ": 6.467573,
        "rotX": 0.04906325,
        "rotY": 155.0,
        "rotZ": 180.065292,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "47640f"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -21.97188,
        "posY": 3.93488884,
        "posZ": 2.20988274,
        "rotX": 0.04906842,
        "rotY": 155.000046,
        "rotZ": 180.0653,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "efdc32"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -26.22,
        "posY": 3.94174361,
        "posZ": 5.36,
        "rotX": 0.0490676053,
        "rotY": 154.999969,
        "rotZ": 180.065323,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "50c5ea"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -28.480135,
        "posY": 3.94458127,
        "posZ": 4.31377125,
        "rotX": 0.0490673669,
        "rotY": 155.0,
        "rotZ": 180.0653,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "9a5c9f"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -26.2199955,
        "posY": 6.36370468,
        "posZ": 5.35999966,
        "rotX": 0.0490901247,
        "rotY": 155.000015,
        "rotZ": 180.065369,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "53aa1f"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -30.9364853,
        "posY": 3.94443655,
        "posZ": -7.80998,
        "rotX": 0.0490558781,
        "rotY": 155.01,
        "rotZ": 180.0653,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "14411f"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -20.3,
        "posY": 3.92974281,
        "posZ": -7.37,
        "rotX": 0.0490655638,
        "rotY": 154.999985,
        "rotZ": 180.0653,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "bf4f11"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -22.51,
        "posY": 3.93252373,
        "posZ": -8.39,
        "rotX": 0.0490623377,
        "rotY": 155.000061,
        "rotZ": 180.0653,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "3d2efe"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -18.0763111,
        "posY": 3.9269402,
        "posZ": -6.34191465,
        "rotX": 0.04906731,
        "rotY": 154.999969,
        "rotZ": 180.0653,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a58e2d"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -22.51,
        "posY": 6.355007,
        "posZ": -8.39,
        "rotX": 0.0490844361,
        "rotY": 154.999985,
        "rotZ": 180.065338,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2b46a3"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -20.3,
        "posY": 6.35177755,
        "posZ": -7.37,
        "rotX": 0.0489943065,
        "rotY": 154.999985,
        "rotZ": 180.065247,
        "scaleX": 0.75,
        "scaleY": 0.75,
        "scaleZ": 0.603640854
      },
      "Nickname": "Armored Munitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.8,
        "g": 0.8,
        "b": 0.8
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzNl9aSkJ1ejhTZTQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "62b176"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": 8.09287,
        "posY": 1.47535515,
        "posZ": 17.4160385,
        "rotX": 0.07781237,
        "rotY": 120.000343,
        "rotZ": 0.025325615,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Extra Terrain",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "89de27"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -29.2518959,
        "posY": 2.8160727,
        "posZ": -5.63943052,
        "rotX": 359.9471,
        "rotY": 334.906,
        "rotZ": 328.4862,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "15dc76"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": 10.3971748,
        "posY": 1.47213471,
        "posZ": 17.388586,
        "rotX": 0.0801003,
        "rotY": 90.0214157,
        "rotZ": 359.983154,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Extra Terrain",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "b05616"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -5.756523,
        "posY": 2.51596522,
        "posZ": 1.649931,
        "rotX": 0.03283547,
        "rotY": 74.98743,
        "rotZ": 359.942932,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "de6609"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -21.4884911,
        "posY": 1.513533,
        "posZ": 7.01405334,
        "rotX": 0.0648188442,
        "rotY": 63.6998253,
        "rotZ": 359.948975,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "dd7f3f"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -9.638644,
        "posY": 2.51208019,
        "posZ": 8.756733,
        "rotX": 0.0769345,
        "rotY": 120.012573,
        "rotZ": 0.0242512133,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "9a91ee"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": 9.453646,
        "posY": 1.47272944,
        "posZ": 14.9405813,
        "rotX": 359.9199,
        "rotY": 270.001984,
        "rotZ": 0.016919842,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Extra Terrain",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "db6c7a"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": 7.700553,
        "posY": 1.47477663,
        "posZ": 13.593915,
        "rotX": 0.0800841451,
        "rotY": 90.0211945,
        "rotZ": 359.983124,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Extra Terrain",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "786fc8"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.2779188,
        "posY": 1.49794066,
        "posZ": -3.85089445,
        "rotX": 359.851868,
        "rotY": 155.0,
        "rotZ": 0.452621,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e5427c"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -27.1399975,
        "posY": 2.02707267,
        "posZ": 1.51000023,
        "rotX": 0.065405935,
        "rotY": 65.00003,
        "rotZ": 359.950562,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "6f9cc0"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -27.14,
        "posY": 1.51978385,
        "posZ": 1.51204574,
        "rotX": 0.06593567,
        "rotY": 65.00005,
        "rotZ": 359.9506,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f3e29e"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -26.6957531,
        "posY": 2.53394413,
        "posZ": 1.97311234,
        "rotX": 0.0513807721,
        "rotY": 155.0,
        "rotZ": 0.0585255437,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "79f8be"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -26.23,
        "posY": 1.51852429,
        "posZ": 1.52,
        "rotX": 0.06537011,
        "rotY": 65.00009,
        "rotZ": 359.950928,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "efdf2d"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -26.23,
        "posY": 2.025895,
        "posZ": 1.52,
        "rotX": 0.06552254,
        "rotY": 65.00001,
        "rotZ": 359.950928,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d9fb82"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.27143,
        "posY": 2.005008,
        "posZ": -3.84001184,
        "rotX": 0.0965281948,
        "rotY": 155.0,
        "rotZ": 0.0411345139,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e05d10"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.2734642,
        "posY": 2.51208615,
        "posZ": -3.84661126,
        "rotX": 0.125260875,
        "rotY": 155.0,
        "rotZ": 0.0301255342,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "aadc57"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.5685167,
        "posY": 1.5027436,
        "posZ": -3.160094,
        "rotX": 359.851868,
        "rotY": 155.0,
        "rotZ": 0.452621,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "42838b"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.5620279,
        "posY": 2.00981545,
        "posZ": -3.14921141,
        "rotX": 0.0965281948,
        "rotY": 155.0,
        "rotZ": 0.0411345139,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "0fd952"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.5640621,
        "posY": 2.51689219,
        "posZ": -3.15581083,
        "rotX": 0.125260875,
        "rotY": 155.0,
        "rotZ": 0.0301255342,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5c268c"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.4390869,
        "posY": 1.498155,
        "posZ": -2.26514173,
        "rotX": 0.0549457744,
        "rotY": 155.0,
        "rotZ": 0.0605818629,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "c48d6c"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.4390869,
        "posY": 2.00540113,
        "posZ": -2.26514173,
        "rotX": 0.0533919446,
        "rotY": 155.0,
        "rotZ": 0.0608199537,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "c8dc8e"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.762085,
        "posY": 2.0060792,
        "posZ": -1.59148145,
        "rotX": 0.0533919446,
        "rotY": 155.0,
        "rotZ": 0.0608199537,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "7df9a0"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -12.762085,
        "posY": 1.49882293,
        "posZ": -1.59148145,
        "rotX": 0.0549457744,
        "rotY": 155.0,
        "rotZ": 0.0605818629,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "34bd9b"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -15.7395535,
        "posY": 1.50085974,
        "posZ": -9.028879,
        "rotX": 0.061447598,
        "rotY": 65.00002,
        "rotZ": 359.94516,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "af7a61"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -15.7395535,
        "posY": 2.00814676,
        "posZ": -9.028879,
        "rotX": 0.06413186,
        "rotY": 65.0000153,
        "rotZ": 359.9451,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "69b32e"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -16.4483852,
        "posY": 2.00683713,
        "posZ": -9.35067,
        "rotX": 0.06413186,
        "rotY": 65.0000153,
        "rotZ": 359.9451,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4b4d3e"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -16.4483852,
        "posY": 1.49954557,
        "posZ": -9.35067,
        "rotX": 0.061447598,
        "rotY": 65.00002,
        "rotZ": 359.94516,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "83ff66"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -28.878849,
        "posY": 2.00388741,
        "posZ": -8.189236,
        "rotX": 0.06413186,
        "rotY": 65.0000153,
        "rotZ": 359.9451,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "34908e"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -28.878849,
        "posY": 1.49659348,
        "posZ": -8.189236,
        "rotX": 0.061447598,
        "rotY": 65.00002,
        "rotZ": 359.94516,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f91d8b"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -30.2011471,
        "posY": 2.00919819,
        "posZ": -5.34475374,
        "rotX": 0.06413186,
        "rotY": 65.0000153,
        "rotZ": 359.9451,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "73d7b9"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -30.2011471,
        "posY": 1.50191045,
        "posZ": -5.34475374,
        "rotX": 0.061447598,
        "rotY": 65.00002,
        "rotZ": 359.94516,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4b2504"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -30.25678,
        "posY": 2.516554,
        "posZ": -5.3611207,
        "rotX": 0.0592275076,
        "rotY": 59.98077,
        "rotZ": 359.9397,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "c0852e"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -27.9792747,
        "posY": 2.025357,
        "posZ": -8.270454,
        "rotX": 0.06819354,
        "rotY": 65.00023,
        "rotZ": 359.950317,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2a03dd"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -27.9890137,
        "posY": 1.5180887,
        "posZ": -8.286642,
        "rotX": 0.0659191161,
        "rotY": 65.00011,
        "rotZ": 359.9505,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a08b52"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -28.636034,
        "posY": 2.01253343,
        "posZ": -5.327853,
        "rotX": 0.0533919446,
        "rotY": 155.0,
        "rotZ": 0.0608199537,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a6f010"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -28.636034,
        "posY": 1.5052762,
        "posZ": -5.327853,
        "rotX": 0.0549457744,
        "rotY": 155.0,
        "rotZ": 0.0605818629,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2a39f1"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -5.786155,
        "posY": 1.50186765,
        "posZ": 1.9264853,
        "rotX": 359.8151,
        "rotY": 159.723221,
        "rotZ": 0.4388877,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "ac6c7f"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -5.779019,
        "posY": 2.0089345,
        "posZ": 1.93705916,
        "rotX": 0.05976071,
        "rotY": 159.72316,
        "rotZ": 0.0274006873,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f90352"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -5.546288,
        "posY": 2.00460076,
        "posZ": 1.22467482,
        "rotX": 0.05976071,
        "rotY": 159.72316,
        "rotZ": 0.0274006873,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "26081f"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -5.55342436,
        "posY": 1.49753869,
        "posZ": 1.214101,
        "rotX": 359.8151,
        "rotY": 159.72,
        "rotZ": 0.438887715,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "7546d4"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -5.219977,
        "posY": 1.48892593,
        "posZ": 0.4748764,
        "rotX": 0.043601077,
        "rotY": 159.720047,
        "rotZ": 0.06912418,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "8f5e7e"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": -7.61141729,
        "posY": 1.63455057,
        "posZ": -2.92946863,
        "rotX": 359.934723,
        "rotY": 245.0,
        "rotZ": 0.049057696,
        "scaleX": 1.205785,
        "scaleY": 1.58510709,
        "scaleZ": 0.8471797
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9999998,
        "g": 0.992160261,
        "b": 0.9999998
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/264960974882351964/6E6A45AD0B40F03829E0924D2FC46581389E9120/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/264960974882339638/713D120DC0F70C6ED9C464A09CCCD99CC4ADB663/",
        "NormalURL": "",
        "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/264960974882351964/6E6A45AD0B40F03829E0924D2FC46581389E9120/",
        "Convex": false,
        "MaterialIndex": 1,
        "TypeIndex": 1,
        "CustomShader": {
          "SpecularColor": {
            "r": 0.8745098,
            "g": 0.8117647,
            "b": 0.745098054
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 3.0,
          "FresnelStrength": 0.1
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "3520e4"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": -13.6673851,
        "posY": 1.64570248,
        "posZ": 6.253597,
        "rotX": 0.06527306,
        "rotY": 65.00001,
        "rotZ": 359.950928,
        "scaleX": 1.205785,
        "scaleY": 1.58510709,
        "scaleZ": 0.8471797
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9999998,
        "g": 0.992160261,
        "b": 0.9999998
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/264960974882351964/6E6A45AD0B40F03829E0924D2FC46581389E9120/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/264960974882339638/713D120DC0F70C6ED9C464A09CCCD99CC4ADB663/",
        "NormalURL": "",
        "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/264960974882351964/6E6A45AD0B40F03829E0924D2FC46581389E9120/",
        "Convex": false,
        "MaterialIndex": 1,
        "TypeIndex": 1,
        "CustomShader": {
          "SpecularColor": {
            "r": 0.8745098,
            "g": 0.8117647,
            "b": 0.745098054
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 3.0,
          "FresnelStrength": 0.1
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d4fd82"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -5.408714,
        "posY": 2.27813435,
        "posZ": 0.47788322,
        "rotX": 2.428728,
        "rotY": 73.44992,
        "rotZ": 327.7875,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "64b561"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -22.1486359,
        "posY": 2.01241183,
        "posZ": 6.53022861,
        "rotX": 0.06413186,
        "rotY": 65.0000153,
        "rotZ": 359.9451,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "7e7cc3"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -22.1486359,
        "posY": 1.50511944,
        "posZ": 6.53022861,
        "rotX": 0.061447598,
        "rotY": 65.00002,
        "rotZ": 359.94516,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "ecc504"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -21.232748,
        "posY": 2.010551,
        "posZ": 4.48028851,
        "rotX": 0.06413186,
        "rotY": 65.0000153,
        "rotZ": 359.9451,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "cee1ad"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -21.232748,
        "posY": 1.50325954,
        "posZ": 4.48028851,
        "rotX": 0.061447598,
        "rotY": 65.00002,
        "rotZ": 359.94516,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f76719"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -20.9793987,
        "posY": 2.005772,
        "posZ": 5.85536861,
        "rotX": 0.06819354,
        "rotY": 65.00023,
        "rotZ": 359.950317,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "91cb4f"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -20.9891376,
        "posY": 1.498507,
        "posZ": 5.839181,
        "rotX": 0.0659191161,
        "rotY": 65.00011,
        "rotZ": 359.9505,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "de89be"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -20.429184,
        "posY": 1.51137233,
        "posZ": 4.69103575,
        "rotX": 0.06383787,
        "rotY": 63.2921524,
        "rotZ": 359.948975,
        "scaleX": 0.3584426,
        "scaleY": 0.16,
        "scaleZ": 0.23714003
      },
      "Nickname": "Storage Chest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2df3a4"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -10.2415409,
        "posY": 1.49796927,
        "posZ": 7.4307723,
        "rotX": 359.983429,
        "rotY": 0.0325863175,
        "rotZ": 359.9198,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "542557"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -10.2448759,
        "posY": 2.00524569,
        "posZ": 7.436156,
        "rotX": 359.985931,
        "rotY": 359.983978,
        "rotZ": 359.9197,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "b1ef6a"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -10.2732849,
        "posY": 2.00551915,
        "posZ": 8.230932,
        "rotX": 359.985931,
        "rotY": 359.984283,
        "rotZ": 359.9197,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2d91f9"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -10.2699423,
        "posY": 1.49824286,
        "posZ": 8.225554,
        "rotX": 359.9834,
        "rotY": 0.0327070653,
        "rotZ": 359.9198,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a13faa"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -9.043725,
        "posY": 1.49678922,
        "posZ": 9.088979,
        "rotX": 359.983215,
        "rotY": 359.979858,
        "rotZ": 359.919952,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "7af834"
    },
    {
      "Name": "Custom_Assetbundle",
      "Transform": {
        "posX": -9.015002,
        "posY": 2.003989,
        "posZ": 8.954456,
        "rotX": 359.9847,
        "rotY": 359.984344,
        "rotZ": 359.9198,
        "scaleX": 0.6476979,
        "scaleY": 0.16,
        "scaleZ": 0.23102425
      },
      "Nickname": "Lchest",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomAssetbundle": {
        "AssetbundleURL": "https://drive.google.com/uc?export=download&id=0BwpXdiEgZ5GzanVYdFMwTWp5RjQ",
        "AssetbundleSecondaryURL": "",
        "MaterialIndex": 0,
        "TypeIndex": 0,
        "LoopingEffectIndex": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2e6d01"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": -28.2735615,
        "posY": 1.520236,
        "posZ": -2.34177971,
        "rotX": 0.0253764875,
        "rotY": 30.0024872,
        "rotZ": 359.922363,
        "scaleX": 0.5558874,
        "scaleY": 0.474997848,
        "scaleZ": 0.546627
      },
      "Nickname": "Galvanic Servo Hauler",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "https://pastebin.com/raw/sYSCZMbt",
        "DiffuseURL": "https://orig00.deviantart.net/b5f6/f/2018/107/a/e/fork_by_itchydani3l-dc9536g.jpg",
        "NormalURL": "",
        "ColliderURL": "https://pastebin.com/raw/XmNiQmwM",
        "Convex": true,
        "MaterialIndex": 2,
        "TypeIndex": 1,
        "CustomShader": {
          "SpecularColor": {
            "r": 0.7372549,
            "g": 0.7372549,
            "b": 0.7372549
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "72520a"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": -18.5976,
        "posY": 1.50988007,
        "posZ": 8.298978,
        "rotX": -0.004353303,
        "rotY": 195.000076,
        "rotZ": 0.0815301239,
        "scaleX": 0.5558874,
        "scaleY": 0.474997848,
        "scaleZ": 0.546627
      },
      "Nickname": "Galvanic Servo Hauler",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "https://pastebin.com/raw/sYSCZMbt",
        "DiffuseURL": "https://orig00.deviantart.net/b5f6/f/2018/107/a/e/fork_by_itchydani3l-dc9536g.jpg",
        "NormalURL": "",
        "ColliderURL": "https://pastebin.com/raw/XmNiQmwM",
        "Convex": true,
        "MaterialIndex": 2,
        "TypeIndex": 1,
        "CustomShader": {
          "SpecularColor": {
            "r": 0.7372549,
            "g": 0.7372549,
            "b": 0.7372549
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d40d8c"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": -16.4003086,
        "posY": 1.49849689,
        "posZ": -1.0545,
        "rotX": 359.963623,
        "rotY": 149.9998,
        "rotZ": 0.445034742,
        "scaleX": 1.4108448,
        "scaleY": 1.9472208,
        "scaleZ": 1.50000346
      },
      "Nickname": "tractor",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "https://pastebin.com/raw/bbjpJaCr",
        "DiffuseURL": "http://i.imgur.com/L6FsKrT.png",
        "NormalURL": "http://i.imgur.com/5k9Qb60.png",
        "ColliderURL": "https://pastebin.com/raw/bbjpJaCr",
        "Convex": false,
        "MaterialIndex": 3,
        "TypeIndex": 0,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d57ca0"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": -7.26663256,
        "posY": 1.49302,
        "posZ": 4.68603563,
        "rotX": 359.939178,
        "rotY": 239.986481,
        "rotZ": 0.0546544641,
        "scaleX": 0.20529066,
        "scaleY": 0.1987382,
        "scaleZ": 0.232630759
      },
      "Nickname": "Galvanic Servo Crane",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "https://pastebin.com/raw/ztwyukDu",
        "DiffuseURL": "http://orig00.deviantart.net/acd2/f/2017/110/a/f/concrane2_by_itchydani3l-db6k7jo.jpg",
        "NormalURL": "",
        "ColliderURL": "https://pastebin.com/raw/f8aVy1v5",
        "Convex": false,
        "MaterialIndex": 2,
        "TypeIndex": 1,
        "CustomShader": {
          "SpecularColor": {
            "r": 0.7372549,
            "g": 0.7372549,
            "b": 0.7372549
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "8f323c"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": -8.65476,
        "posY": 1.48690581,
        "posZ": -9.292804,
        "rotX": 0.109388627,
        "rotY": 120.030617,
        "rotZ": 0.5163819,
        "scaleX": 1.4108448,
        "scaleY": 1.9472208,
        "scaleZ": 1.50000346
      },
      "Nickname": "tractor",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "https://pastebin.com/raw/bbjpJaCr",
        "DiffuseURL": "http://i.imgur.com/L6FsKrT.png",
        "NormalURL": "http://i.imgur.com/5k9Qb60.png",
        "ColliderURL": "https://pastebin.com/raw/bbjpJaCr",
        "Convex": false,
        "MaterialIndex": 3,
        "TypeIndex": 0,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "63b980"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 40.86076,
        "posY": 3.43854547,
        "posZ": 47.5385628,
        "rotX": 0.0168776717,
        "rotY": 180.003479,
        "rotZ": 0.07997999,
        "scaleX": 0.800000131,
        "scaleY": 0.800000131,
        "scaleZ": 0.800000131
      },
      "Nickname": "Psychic Powers",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,-2.04,-3}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,-2.04,-3}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,-2.04,-3.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,-2.04,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
      "LuaScriptState": "{\"ml\":{\"0a56ec\":{\"lock\":false,\"pos\":{\"x\":30.37,\"y\":1.5286,\"z\":61.7954},\"rot\":{\"x\":359.9201,\"y\":270.0146,\"z\":0.0169}},\"0abb54\":{\"lock\":false,\"pos\":{\"x\":30.37,\"y\":1.5266,\"z\":50.2854},\"rot\":{\"x\":359.9201,\"y\":270.0139,\"z\":0.0169}},\"0b315c\":{\"lock\":false,\"pos\":{\"x\":30.37,\"y\":1.5264,\"z\":54.2654},\"rot\":{\"x\":359.9201,\"y\":270.0146,\"z\":0.0169}},\"2d2b93\":{\"lock\":false,\"pos\":{\"x\":30.37,\"y\":1.5289,\"z\":58.0954},\"rot\":{\"x\":359.9201,\"y\":270.0147,\"z\":0.0169}},\"35ab08\":{\"lock\":false,\"pos\":{\"x\":33.5309,\"y\":1.5293,\"z\":65.5919},\"rot\":{\"x\":359.9201,\"y\":270.0043,\"z\":0.0169}},\"4b7eaa\":{\"lock\":false,\"pos\":{\"x\":36.4501,\"y\":1.5191,\"z\":58.0954},\"rot\":{\"x\":359.9201,\"y\":270.0157,\"z\":0.0169}},\"54b9c0\":{\"lock\":false,\"pos\":{\"x\":36.4501,\"y\":1.5241,\"z\":61.7953},\"rot\":{\"x\":359.9201,\"y\":270.0145,\"z\":0.0169}},\"adbc4e\":{\"lock\":false,\"pos\":{\"x\":36.45,\"y\":1.5168,\"z\":50.2854},\"rot\":{\"x\":359.9201,\"y\":269.9965,\"z\":0.0169}},\"de9a2d\":{\"lock\":false,\"pos\":{\"x\":36.45,\"y\":1.5179,\"z\":54.2655},\"rot\":{\"x\":359.9201,\"y\":270.0167,\"z\":0.0169}}}}",
      "ContainedObjects": [
        {
          "Name": "Deck",
          "Transform": {
            "posX": 36.4501038,
            "posY": 1.52413261,
            "posZ": 61.79531,
            "rotX": 359.9201,
            "rotY": 270.0144,
            "rotZ": 0.016854858,
            "scaleX": 1.53204679,
            "scaleY": 1.0,
            "scaleZ": 1.53204679
          },
          "Nickname": "Adeptus Astartes",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": false,
          "SidewaysCard": false,
          "DeckIDs": [
            6408,
            4228,
            4229,
            6407,
            6405,
            4227,
            6406
          ],
          "CustomDeck": {
            "64": {
              "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 5,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            },
            "42": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 7,
              "NumHeight": 5,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "ContainedObjects": [
            {
              "Name": "Card",
              "Transform": {
                "posX": -34.3072968,
                "posY": 1.62360036,
                "posZ": 76.57792,
                "rotX": 0.0168707352,
                "rotY": 180.000015,
                "rotZ": 0.0798801556,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Adeptus Astartes",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 6408,
              "SidewaysCard": false,
              "CustomDeck": {
                "64": {
                  "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 5,
                  "NumHeight": 2,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f40b9d"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -46.3072777,
                "posY": 1.64032948,
                "posZ": 76.57791,
                "rotX": 0.01687161,
                "rotY": 180.0,
                "rotZ": 0.07987791,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Adeptus Astartes",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4228,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "523ff8"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -42.3072777,
                "posY": 1.63475311,
                "posZ": 76.57792,
                "rotX": 0.0168713722,
                "rotY": 180.000031,
                "rotZ": 0.07987874,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Adeptus Astartes",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4229,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f3476b"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -42.3072853,
                "posY": 1.63328087,
                "posZ": 71.57792,
                "rotX": 0.0168711934,
                "rotY": 180.000015,
                "rotZ": 0.07987797,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Adeptus Astartes",
              "Description": "Librarian in Phobos",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 6407,
              "SidewaysCard": false,
              "CustomDeck": {
                "64": {
                  "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 5,
                  "NumHeight": 2,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "3788e1"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -46.3072777,
                "posY": 1.63885725,
                "posZ": 71.57791,
                "rotX": 0.0168716721,
                "rotY": 180.000031,
                "rotZ": 0.079880625,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Adeptus Astartes",
              "Description": "Librarian in Phobos",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 6405,
              "SidewaysCard": false,
              "CustomDeck": {
                "64": {
                  "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 5,
                  "NumHeight": 2,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "635a0c"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -38.3072929,
                "posY": 1.62917674,
                "posZ": 76.57792,
                "rotX": 0.0168711264,
                "rotY": 180.000015,
                "rotZ": 0.07987999,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Adeptus Astartes",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4227,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "7cd0df"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": 43.0243263,
                "posY": 1.66626728,
                "posZ": 61.9737854,
                "rotX": 359.949982,
                "rotY": 269.999725,
                "rotZ": 0.06269299,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Adeptus Astartes",
              "Description": "Librarian in Phobos",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 6406,
              "SidewaysCard": false,
              "CustomDeck": {
                "64": {
                  "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 5,
                  "NumHeight": 2,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f7445b"
            }
          ],
          "GUID": "54b9c0"
        },
        {
          "Name": "Deck",
          "Transform": {
            "posX": 33.5309029,
            "posY": 1.52932048,
            "posZ": 65.59191,
            "rotX": 359.920135,
            "rotY": 270.004364,
            "rotZ": 0.0168679636,
            "scaleX": 1.53204679,
            "scaleY": 1.0,
            "scaleZ": 1.53204679
          },
          "Nickname": "Common Psychic Powers",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": false,
          "SidewaysCard": false,
          "DeckIDs": [
            4230,
            4201,
            4231,
            4200,
            4204,
            4202,
            4203
          ],
          "CustomDeck": {
            "42": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 7,
              "NumHeight": 5,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "ContainedObjects": [
            {
              "Name": "Card",
              "Transform": {
                "posX": -11.060565,
                "posY": 1.59387851,
                "posZ": 85.80318,
                "rotX": 0.0171364434,
                "rotY": 179.996689,
                "rotZ": 0.08055123,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4230,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "c1ac27"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -10.71516,
                "posY": 1.7433579,
                "posZ": 85.288765,
                "rotX": 0.0114222365,
                "rotY": 180.006058,
                "rotZ": 0.06749735,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4201,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "a8ac6a"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -10.3351564,
                "posY": 1.75594115,
                "posZ": 85.62184,
                "rotX": 0.0172635373,
                "rotY": 179.998825,
                "rotZ": 0.07030076,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4231,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "82e0c3"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -10.54718,
                "posY": 1.7405802,
                "posZ": 85.1752548,
                "rotX": 0.0167361274,
                "rotY": 180.005768,
                "rotZ": 0.04628564,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4200,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "e5ff13"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -11.18367,
                "posY": 1.73973751,
                "posZ": 85.84546,
                "rotX": 0.0125013422,
                "rotY": 180.003021,
                "rotZ": 0.061383903,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4204,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "df07f1"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -10.6367683,
                "posY": 1.74243557,
                "posZ": 85.02346,
                "rotX": 0.0164701566,
                "rotY": 180.0,
                "rotZ": 0.06500255,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4202,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "aefcdb"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": 43.7987137,
                "posY": 1.67610645,
                "posZ": 44.62183,
                "rotX": 359.92038,
                "rotY": 270.003967,
                "rotZ": 0.0166123174,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4203,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "b37858"
            }
          ],
          "GUID": "35ab08"
        },
        {
          "Name": "Deck",
          "Transform": {
            "posX": 30.3700066,
            "posY": 1.52862048,
            "posZ": 61.7954063,
            "rotX": 359.9201,
            "rotY": 270.0146,
            "rotZ": 0.0168520864,
            "scaleX": 1.53204679,
            "scaleY": 1.0,
            "scaleZ": 1.53204679
          },
          "Nickname": "Grey Knights",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": false,
          "SidewaysCard": false,
          "DeckIDs": [
            4223,
            6403,
            6404
          ],
          "CustomDeck": {
            "42": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 7,
              "NumHeight": 5,
              "BackIsHidden": false,
              "UniqueBack": false
            },
            "64": {
              "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 5,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "ContainedObjects": [
            {
              "Name": "Card",
              "Transform": {
                "posX": -42.30728,
                "posY": 1.63033617,
                "posZ": 61.5779152,
                "rotX": 0.01687131,
                "rotY": 180.000061,
                "rotZ": 0.0798805,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Grey Knights",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4223,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "b94033"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -46.3072777,
                "posY": 1.63591266,
                "posZ": 61.5779152,
                "rotX": 0.0168708228,
                "rotY": 180.000046,
                "rotZ": 0.07987887,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Grey Knights ",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 6403,
              "SidewaysCard": false,
              "CustomDeck": {
                "64": {
                  "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 5,
                  "NumHeight": 2,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "46bd6c"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -38.3072929,
                "posY": 1.62475979,
                "posZ": 61.5779152,
                "rotX": 0.0168706812,
                "rotY": 180.0,
                "rotZ": 0.07987955,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Grey Knights ",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 6404,
              "SidewaysCard": false,
              "CustomDeck": {
                "64": {
                  "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 5,
                  "NumHeight": 2,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "222a77"
            }
          ],
          "GUID": "0a56ec"
        },
        {
          "Name": "Deck",
          "Transform": {
            "posX": 30.3700047,
            "posY": 1.526403,
            "posZ": 54.2654037,
            "rotX": 359.9201,
            "rotY": 270.0146,
            "rotZ": 0.016855225,
            "scaleX": 1.53204679,
            "scaleY": 1.0,
            "scaleZ": 1.53204679
          },
          "Nickname": "Genestealer Cults",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": false,
          "SidewaysCard": false,
          "DeckIDs": [
            4216,
            4215,
            4214
          ],
          "CustomDeck": {
            "42": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 7,
              "NumHeight": 5,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "ContainedObjects": [
            {
              "Name": "Card",
              "Transform": {
                "posX": -10.3072348,
                "posY": 1.587197,
                "posZ": 66.57791,
                "rotX": 0.01687047,
                "rotY": 180.000046,
                "rotZ": 0.07987944,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Genestealer Cults",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4216,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "ceb8fd"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -6.30724144,
                "posY": 1.58162057,
                "posZ": 66.5779,
                "rotX": 0.016870996,
                "rotY": 180.000015,
                "rotZ": 0.07987776,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Genestealer Cults",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4215,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "441189"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -2.30724764,
                "posY": 1.5760442,
                "posZ": 66.57791,
                "rotX": 0.0168713778,
                "rotY": 180.000015,
                "rotZ": 0.079877384,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Genestealer Cults",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4214,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "c849a2"
            }
          ],
          "GUID": "0b315c"
        },
        {
          "Name": "Deck",
          "Transform": {
            "posX": 30.3700027,
            "posY": 1.5288558,
            "posZ": 58.0954056,
            "rotX": 359.9201,
            "rotY": 270.01474,
            "rotZ": 0.0168560427,
            "scaleX": 1.53204679,
            "scaleY": 1.0,
            "scaleZ": 1.53204679
          },
          "Nickname": "Heretic Astartes",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": false,
          "SidewaysCard": false,
          "DeckIDs": [
            4220,
            4222,
            6402,
            6401,
            4221,
            6400
          ],
          "CustomDeck": {
            "42": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 7,
              "NumHeight": 5,
              "BackIsHidden": false,
              "UniqueBack": false
            },
            "64": {
              "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 5,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "ContainedObjects": [
            {
              "Name": "Card",
              "Transform": {
                "posX": -26.3071918,
                "posY": 1.61244738,
                "posZ": 76.57791,
                "rotX": 0.016870562,
                "rotY": 180.000076,
                "rotZ": 0.07987858,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Heretic Astartes",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4220,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "bfb2cd"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -22.3072414,
                "posY": 1.60687077,
                "posZ": 76.57793,
                "rotX": 0.0168718845,
                "rotY": 179.999939,
                "rotZ": 0.0798785,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Heretic Astartes",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4222,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f7fcef"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -26.3071861,
                "posY": 1.61097491,
                "posZ": 71.57791,
                "rotX": 0.01687247,
                "rotY": 179.999725,
                "rotZ": 0.0798795745,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Heretic Astartes - Master of Possession",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 6402,
              "SidewaysCard": false,
              "CustomDeck": {
                "64": {
                  "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 5,
                  "NumHeight": 2,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "6a43d6"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -22.3071957,
                "posY": 1.60539865,
                "posZ": 71.57791,
                "rotX": 0.0168719329,
                "rotY": 179.999878,
                "rotZ": 0.07987792,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Heretic Astartes - Master of Possession",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 6401,
              "SidewaysCard": false,
              "CustomDeck": {
                "64": {
                  "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 5,
                  "NumHeight": 2,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "301772"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -18.3072014,
                "posY": 1.60129452,
                "posZ": 76.57791,
                "rotX": 0.0168705881,
                "rotY": 179.999985,
                "rotZ": 0.07987868,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Heretic Astartes",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4221,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "a4362d"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -18.3072052,
                "posY": 1.59982216,
                "posZ": 71.5779,
                "rotX": 0.01687188,
                "rotY": 180.000122,
                "rotZ": 0.07987848,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Heretic Astartes - Master of Possession",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 6400,
              "SidewaysCard": false,
              "CustomDeck": {
                "64": {
                  "FaceURL": "https://i.imgur.com/74G4Qdq.jpg",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 5,
                  "NumHeight": 2,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "be70e6"
            }
          ],
          "GUID": "2d2b93"
        },
        {
          "Name": "Deck",
          "Transform": {
            "posX": 30.3700047,
            "posY": 1.5265559,
            "posZ": 50.2854042,
            "rotX": 359.9201,
            "rotY": 270.013947,
            "rotZ": 0.0168557763,
            "scaleX": 1.53204679,
            "scaleY": 1.0,
            "scaleZ": 1.53204679
          },
          "Nickname": "Asuryani",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": false,
          "SidewaysCard": false,
          "DeckIDs": [
            4207,
            4206,
            4208,
            4210,
            4205,
            4209
          ],
          "CustomDeck": {
            "42": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 7,
              "NumHeight": 5,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "ContainedObjects": [
            {
              "Name": "Card",
              "Transform": {
                "posX": 13.6927242,
                "posY": 1.55373847,
                "posZ": 66.57791,
                "rotX": 0.0168267358,
                "rotY": 180.031525,
                "rotZ": 0.0798874,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Asuryani",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4207,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "e7317e"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": 9.692729,
                "posY": 1.55931485,
                "posZ": 66.57791,
                "rotX": 0.01688215,
                "rotY": 179.991669,
                "rotZ": 0.07987562,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Asuryani",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4206,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "711193"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": 9.692729,
                "posY": 1.55784273,
                "posZ": 61.57792,
                "rotX": 0.0168259442,
                "rotY": 180.0324,
                "rotZ": 0.07988889,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Asuryani",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4208,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "18ddba"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": 13.6927252,
                "posY": 1.55226612,
                "posZ": 61.57792,
                "rotX": 0.0168453138,
                "rotY": 180.01918,
                "rotZ": 0.07988588,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Asuryani",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4210,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "a2855b"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": 17.6926212,
                "posY": 1.5481621,
                "posZ": 66.5779,
                "rotX": 0.0168714169,
                "rotY": 180.000122,
                "rotZ": 0.07988023,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Asuryani",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4205,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "033fb1"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": 17.6926937,
                "posY": 1.54668987,
                "posZ": 61.57792,
                "rotX": 0.0168710928,
                "rotY": 179.999985,
                "rotZ": 0.0798794,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Asuryani",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4209,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "043728"
            }
          ],
          "GUID": "0abb54"
        },
        {
          "Name": "Deck",
          "Transform": {
            "posX": 36.45,
            "posY": 1.51792681,
            "posZ": 54.2655067,
            "rotX": 359.9201,
            "rotY": 270.016724,
            "rotZ": 0.0168523919,
            "scaleX": 1.53204679,
            "scaleY": 1.0,
            "scaleZ": 1.53204679
          },
          "Nickname": "Tyranids",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": false,
          "SidewaysCard": false,
          "DeckIDs": [
            4224,
            4226,
            4225
          ],
          "CustomDeck": {
            "42": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 7,
              "NumHeight": 5,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "ContainedObjects": [
            {
              "Name": "Card",
              "Transform": {
                "posX": -10.30723,
                "posY": 1.59014177,
                "posZ": 76.57791,
                "rotX": 0.016870711,
                "rotY": 180.000076,
                "rotZ": 0.0798789561,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Tyranids",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4224,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "817faa"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -6.307236,
                "posY": 1.58456516,
                "posZ": 76.5779,
                "rotX": 0.0168717355,
                "rotY": 180.000031,
                "rotZ": 0.0798794255,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Tyranids",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4226,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "0c5eb1"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -2.307244,
                "posY": 1.57898879,
                "posZ": 76.57791,
                "rotX": 0.0168706067,
                "rotY": 180.000015,
                "rotZ": 0.07987754,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Tyranids",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4225,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "289f61"
            }
          ],
          "GUID": "de9a2d"
        },
        {
          "Name": "Deck",
          "Transform": {
            "posX": 36.4501038,
            "posY": 1.51905441,
            "posZ": 58.09541,
            "rotX": 359.9201,
            "rotY": 270.0156,
            "rotZ": 0.0168537423,
            "scaleX": 1.53204679,
            "scaleY": 1.0,
            "scaleZ": 1.53204679
          },
          "Nickname": "Thousand Sons",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": false,
          "SidewaysCard": false,
          "DeckIDs": [
            4219,
            4217,
            4218
          ],
          "CustomDeck": {
            "42": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 7,
              "NumHeight": 5,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "ContainedObjects": [
            {
              "Name": "Card",
              "Transform": {
                "posX": -26.3077888,
                "posY": 1.60789967,
                "posZ": 61.5775871,
                "rotX": 0.01768732,
                "rotY": 180.006378,
                "rotZ": 0.07221035,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Thousand Sons",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4219,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "d0ff0d"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -26.12309,
                "posY": 1.74653876,
                "posZ": 61.67409,
                "rotX": 0.006738789,
                "rotY": 180.005234,
                "rotZ": 0.07687066,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Thousand Sons",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4217,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "49ea6f"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": -26.556139,
                "posY": 1.7711978,
                "posZ": 61.48735,
                "rotX": 0.015264391,
                "rotY": 180.000427,
                "rotZ": 0.0784828737,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Thousand Sons",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4218,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "6c03f8"
            }
          ],
          "GUID": "4b7eaa"
        },
        {
          "Name": "Deck",
          "Transform": {
            "posX": 36.4499969,
            "posY": 1.516755,
            "posZ": 50.285408,
            "rotX": 359.920135,
            "rotY": 269.996338,
            "rotZ": 0.01688019,
            "scaleX": 1.53204679,
            "scaleY": 1.0,
            "scaleZ": 1.53204679
          },
          "Nickname": "Harlequins",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": false,
          "SidewaysCard": false,
          "DeckIDs": [
            4211,
            4213,
            4212
          ],
          "CustomDeck": {
            "42": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 7,
              "NumHeight": 5,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "ContainedObjects": [
            {
              "Name": "Card",
              "Transform": {
                "posX": 17.69272,
                "posY": 1.55110669,
                "posZ": 76.57793,
                "rotX": 0.0168701131,
                "rotY": 180.0,
                "rotZ": 0.07987885,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Harlequins",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4211,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "4fe2b2"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": 9.692735,
                "posY": 1.56225955,
                "posZ": 76.5779,
                "rotX": 0.0168705732,
                "rotY": 180.0001,
                "rotZ": 0.0798773,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Harlequins",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4213,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "69cbe0"
            },
            {
              "Name": "Card",
              "Transform": {
                "posX": 13.692729,
                "posY": 1.55668306,
                "posZ": 76.57792,
                "rotX": 0.0168716572,
                "rotY": 180.000061,
                "rotZ": 0.07988216,
                "scaleX": 1.53204679,
                "scaleY": 1.0,
                "scaleZ": 1.53204679
              },
              "Nickname": "Harlequins",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": 4212,
              "SidewaysCard": false,
              "CustomDeck": {
                "42": {
                  "FaceURL": "http://cloud-3.steamusercontent.com/ugc/940583049501010262/B0F7FF50D67D198A755E6B28E353D88488248DA3/",
                  "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
                  "NumWidth": 7,
                  "NumHeight": 5,
                  "BackIsHidden": false,
                  "UniqueBack": false
                }
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f0a860"
            }
          ],
          "GUID": "adbc4e"
        }
      ],
      "GUID": "03e097"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": 23.8733139,
        "posY": 1.44997072,
        "posZ": 5.92050552,
        "rotX": 359.983276,
        "rotY": 0.09776156,
        "rotZ": 359.920044,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311994734161091/2BAD73E62C0F2E14552B8069710A5EF4FD025083/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/929311994734161196/04A296A963E0FAABE95E0E8E0B4673AB3D71ACC0/",
        "NormalURL": "",
        "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311994734161091/2BAD73E62C0F2E14552B8069710A5EF4FD025083/",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 1,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 7.0,
          "FresnelStrength": 0.4
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2774e8"
    },
    {
      "Name": "Custom_Model",
      "Transform": {
        "posX": 24.0015335,
        "posY": 1.44628119,
        "posZ": -6.000424,
        "rotX": 0.01689497,
        "rotY": 179.982727,
        "rotZ": 0.07993165,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311994734161091/2BAD73E62C0F2E14552B8069710A5EF4FD025083/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/929311994734161196/04A296A963E0FAABE95E0E8E0B4673AB3D71ACC0/",
        "NormalURL": "",
        "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311994734161091/2BAD73E62C0F2E14552B8069710A5EF4FD025083/",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 1,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 7.0,
          "FresnelStrength": 0.4
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "359765"
    },
    {
      "Name": "Counter",
      "Transform": {
        "posX": 29.5,
        "posY": -0.79,
        "posZ": 5.2,
        "rotX": -8.33763336E-10,
        "rotY": 89.99997,
        "rotZ": 0.0,
        "scaleX": 3.59999728,
        "scaleY": 3.59999728,
        "scaleZ": 3.59999728
      },
      "Nickname": "Victory Points",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.03529412,
        "g": 0.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "8b0541"
    },
    {
      "Name": "Counter",
      "Transform": {
        "posX": 29.5,
        "posY": -0.79,
        "posZ": -5.2,
        "rotX": 0.0,
        "rotY": 89.99998,
        "rotZ": 0.0,
        "scaleX": 3.59999728,
        "scaleY": 3.59999728,
        "scaleZ": 3.59999728
      },
      "Nickname": "Victory Points",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0371747,
        "g": 0.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a77a54"
    },
    {
      "Name": "Counter",
      "Transform": {
        "posX": 22.0,
        "posY": -0.79,
        "posZ": 0.0,
        "rotX": 0.07988592,
        "rotY": 89.99998,
        "rotZ": 359.983124,
        "scaleX": 3.59999728,
        "scaleY": 3.59999728,
        "scaleZ": 3.59999728
      },
      "Nickname": "Battle Round",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.560975552,
        "g": 0.560975552,
        "b": 0.560975552
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "befafd"
    },
    {
      "Name": "Counter",
      "Transform": {
        "posX": 29.5,
        "posY": -0.79,
        "posZ": -15.6,
        "rotX": 0.0,
        "rotY": 89.99988,
        "rotZ": 0.0,
        "scaleX": 3.59999728,
        "scaleY": 3.59999728,
        "scaleZ": 3.59999728
      },
      "Nickname": "Command Points",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "deb9f2"
    },
    {
      "Name": "Counter",
      "Transform": {
        "posX": 29.5,
        "posY": -0.8,
        "posZ": 15.6,
        "rotX": 0.0,
        "rotY": 89.99996,
        "rotZ": 0.0,
        "scaleX": 3.59999728,
        "scaleY": 3.59999728,
        "scaleZ": 3.59999728
      },
      "Nickname": "Command Points",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e446f7"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 3.4298,
        "posY": 1.5878,
        "posZ": 25.8474,
        "rotX": -5.24135046E-08,
        "rotY": 0.0,
        "rotZ": 1.05297765E-07,
        "scaleX": 0.55000037,
        "scaleY": 0.55000037,
        "scaleZ": 0.55000037
      },
      "Nickname": "Kustom 40k Dice Roller Mk2.5",
      "Description": "{\n  \"Results\": \"no\",\n  \"Rows\": \"yes\",\n  \"SmoothDice\": \"no\",\n  \"SortNoRows\": \"asc\",\n  \"Step\": 1,\n  \"Version\": \"BCB-2018-12-16\"\n}",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9999998,
        "g": 0.992160261,
        "b": 0.9999998
      },
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "Number": 0,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/94979895601488369/894F4E9B36D9116E12A24DAAFE1B4FD26A1880D2/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/773996263556569093/84B19E8B1DD60E76DADDD3802E7105DCF76721CF/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "--Based off: https://steamcommunity.com/sharedfiles/filedetails/?id=726800282\r\n--Link for this mod: https://steamcommunity.com/sharedfiles/filedetails/?id=959360907\r\n\r\n--Initialize Global Variables and pRNG Seed\r\nmath.randomseed(tonumber(tostring(os.time()):reverse():sub(1,7))+tonumber(tostring(os.clock()):reverse():sub(1,7)))\r\nver = 'BCB-2018-12-16'\r\nlastHolder = {}\r\ncustomFace = {4, 6, 8, 10, 12, 20}\r\ndiceGuidFaces = {}\r\nsortedKeys = {}\r\nresultsTable = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}\r\n\r\n--Determine the person who put the dice in the box.\r\nfunction onObjectPickedUp(playerColor, obj)\r\n\tlastHolder[obj] = playerColor\r\nend\r\n\r\n--Reset the person holding the dice when no dice are held.\r\nfunction onObjectDestroyed(obj)\r\n\tlastHolder[obj] = nil\r\nend\r\n\r\n--Reset description on load if empty.\r\nfunction onLoad(save_state)\r\n\tif self.getDescription() == '' then\r\n\t\tsetDefaultState()\r\n\tend\r\nend\r\n\r\n--Returns description on game save.\r\nfunction onSave()\r\n\treturn self.getDescription()\r\nend\r\n\r\n--Reset description on drop if empty.\r\nfunction onDropped(player_color)\r\n\tif self.getDescription() == '' then\r\n\t\tsetDefaultState()\r\n\tend\r\nend\r\n\r\n--Sets default description.\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode_pretty({Results = 'no', SmoothDice = 'no', Rows = 'yes', SortNoRows = 'asc', Step = 1, Version = ver}))\r\nend\r\n\r\n--Creates a table and sorts the dice guids by value.\r\nfunction sortByVal(t, type)\r\n\tlocal keys = {}\r\n\tfor key in pairs(t) do\r\n\t\ttable.insert(keys, key)\r\n\tend\r\n\tif type == 'asc' then\r\n\t\ttable.sort(keys, function(a, b) return t[a] < t[b] end)\r\n\telseif type == 'desc' then\r\n\t\ttable.sort(keys, function(a, b) return t[a] > t[b] end)\r\n\tend\r\n\treturn keys\r\nend\r\n\r\n--Checks the item dropped in the bag has a guid.\r\nfunction hasGuid(t, g)\r\n\tfor k, v in ipairs(t) do\r\n\t\tif v.guid == g then return true end\r\n\tend\r\n\r\n\treturn false\r\nend\r\n--Runs when non-dice is put into bag\r\nfunction onObjectEnterContainer(container, obj)\r\n    if container == self and obj.tag ~= \"Dice\" then\r\n        local pos = self.getPosition()\r\n        local f = self.getTransformRight()\r\n        self.takeObject({\r\n            position          = {pos.x+20,pos.y+50,pos.z+20},\r\n            smooth            = false,\r\n        })\r\n        return\r\n    end\r\nend\r\n--Runs when an object is dropped in bag.\r\nfunction onCollisionEnter(collision_info)\r\n\tplayerColor = lastHolder[collision_info.collision_object]\r\n\tif collision_info.collision_object.getGUID() == nil then return end\r\n\tdiceGuidFaces = {}\r\n\tsortedKeys = {}\r\n\r\n--Save number of faces on dice\r\n\tfor k, v in ipairs(getAllObjects()) do\r\n\t\tif v.tag == 'Dice' then\r\n\t\t\tobjType = tostring(v)\r\n\t\t\tfaces = tonumber(string.match(objType, 'Die_(%d+).*'))\r\n\t\t\tif faces == nil then\r\n\t\t\t\tfaces = tonumber(customFace[v.getCustomObject().type + 1])\r\n\t\t\tend\r\n\t\tdiceGuidFaces[v.getGUID()] = faces\r\n\t\ttable.insert(sortedKeys, v.getGUID())\r\n\t\tend\r\n\tend\r\n\r\n--[[Benchmarking code\r\nif resetclock ~= 1 then\r\nclockstart = os.clock()\r\nresetclock = 1\r\nend--]]\r\n\r\n--Creates a timer to take the dice out and position them.\r\n\tWait.time(|| takeDiceOut(), 0.3)\r\nend\r\n\r\n--Function to take the dice out of the bag and position them.\r\nfunction takeDiceOut(tab)\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data == nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored default configuration.', {0.8, 0.5, 0})\r\n\tend\r\n\r\n\tif data.Step < 1 then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - \"step\" can\\'t be lower than 1. Restored default configuration.', {0.8, 0.5, 0})\r\n\tend\r\n\r\n\tdiceGuids = {}\r\n\tfor k, v in pairs(self.getObjects()) do\r\n\t\tfaces = diceGuidFaces[v.guid]\r\n\t\tr = math.random(faces)\r\n\t\tdiceGuids[v.guid] = r\r\n\tend\r\n\r\n\tlocal objs = self.getObjects()\r\n\tlocal position = self.getPosition()\r\n\trotation = self.getRotation()\r\n\tsortedKeys = sortByVal(diceGuids, data.SortNoRows)\r\n\tRows = {}\r\n\tn = 1\r\n\tfor _, key in pairs(sortedKeys) do\r\n\t\tif diceGuids[key] == math.floor(diceGuids[key]) then\r\n\t\t\tresultsTable[diceGuids[key]] = resultsTable[diceGuids[key]] + 1\r\n\t\tend\r\n\r\n\tif hasGuid(objs, key) then\r\n\t\tif Rows[diceGuids[key]] == nil then\r\n\t\t\tRows[diceGuids[key]] = 0\r\n\t\tend\r\n\t\tRows[diceGuids[key]] = Rows[diceGuids[key]] + 1\r\n\t\tparams = {}\r\n\t\tparams.guid = key\r\n\t\tif data.Rows == 'no' then\r\n\t\t\tparams.position = { position.x + (-1) * math.sin((90 + rotation.y) * 0.0174532) * (n + 0.5) * data.Step,\r\n\t\t\tposition.y + 1,\r\n\t\t\tposition.z + (-1) * math.cos((90 + rotation.y) * 0.0174532) * (n + 0.5) * data.Step}\r\n\t\telse\r\n\t\t\tparams.position = {\r\n\t\t\tposition.x + (Rows[diceGuids[key]] * math.cos((180 + self.getRotation().y) * 0.0174532)) * data.Step - (diceGuids[key] * math.sin((180 + self.getRotation().y) * 0.0174532)) * data.Step,\r\n\t\t\tposition.y + 2,\r\n\t\t\tposition.z + (Rows[diceGuids[key]] * math.sin((self.getRotation().y) * 0.0174532)) * data.Step + (diceGuids[key] * math.cos((0 + self.getRotation().y) * 0.0174532)) * data.Step}\r\n\t\tend\r\n\r\n--params.rotation = {rotation.x, rotation.y, rotation.z}\r\n\t\tparams.callback = 'setValueCallback'\r\n\t\tparams.params = {diceGuids[key]}\r\n\t\tparams.smooth = false\r\n\t\tif data.SmoothDice == 'yes' then params.smooth = true end\r\n\t\t\tself.takeObject(params)\r\n\t\t\tn = n + 1\r\n\t\tend\r\n\tend\r\n\r\n\tprintresultsTable()\r\n--[[Benchmarking code\r\n\tclockend = os.clock()\r\n\tresetclock=0\r\n\tprint('Runtime: ' .. clockend-clockstart .. ' seconds.')--]]\r\nend\r\n\r\n--Function to count resultsTable for printing.\r\nfunction sum(t)\r\n\tlocal sum = 0\r\n\tfor k, v in pairs(t) do\r\n\t\tsum = sum + v\r\n\tend\r\n\r\n\treturn sum\r\nend\r\n\r\n--Prints resultsTable.\r\nfunction printresultsTable()\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif sum(resultsTable) > 0 and data.Results == 'yes' then\r\n\t\tlocal description = {'Ones.', 'Twos.', 'Threes.', 'Fours.', 'Fives.', 'Sixes.', 'Sevens.', 'Eights.', 'Nines.', 'Tens.', 'Elevens.', 'Twelves.', 'Thirteens.', 'Fourteens.', 'Fifteens.', 'Sixteens.', 'Seventeens', 'Eighteens.', 'Nineteens.', 'Twenties.'}\r\n\t\tlocal msg = ''\r\n\t\tfor dieFace, numRolled in ipairs(resultsTable) do\r\n\t\t\tif numRolled > 0 then\r\n\t\t\t\tmsg = msg .. numRolled .. ' ' .. description[dieFace] .. ' '\r\n\t\t\tend\r\n\t\tend\r\n\r\n\t\tlocal time = '[' .. os.date(\"%H\") .. ':' .. os.date(\"%M\") .. ':' .. os.date(\"%S\") .. ' UTC] ' \r\n\t\tif playerColor == nil then\r\n\t\t\tprintToAll('*******************************************************\\n' .. time .. '~UNKNOWN PLAYER~ rolls:\\n' .. msg .. '*******************************************************', {1, 1, 1})\r\n\t\telse\r\n\t\t\tprintToAll('*******************************************************\\n' .. time .. Player[playerColor].steam_name .. ' rolls:\\n' .. msg .. '*******************************************************', stringColorToRGB(playerColor))\r\n\t\tend\r\n\tend\r\n\r\n\tfor k,v in ipairs(resultsTable) do\r\n\t\tresultsTable[k] = 0\r\n\tend\r\nend\r\n\r\n--Sets the value of the physical dice object and reorients them if needed.\r\nfunction setValueCallback(obj, tab)\r\n\tlocal isSquare = false\r\n\tif (rotation.y < 2) or (88 < rotation.y and rotation.y < 92) or (178 < rotation.y and rotation.y < 182) or (268 < rotation.y and rotation.y < 272) or (rotation.y > 358) then isSquare = true end\r\n\tfunction insidef()\r\n\t\tobj.setValue(tab[1])\r\n\t\tlocal isThisABloodyCustomDie = obj.getCustomObject()\r\n\t\tlocal reorientAllDice = false\r\n\t\tif obj.tag == 'Dice' then\r\n\t\t\tobjType = tostring(obj)\r\n\t\t\tcallFaces = tonumber(string.match(objType, 'Die_(%d+).*'))\r\n\t\t\tif callFaces == nil then callFaces = tonumber(customFace[obj.getCustomObject().type + 1]) end\r\n\t\t\tdiceGuidFaces[obj.getGUID()] = callFaces\r\n\t\tend\r\n\r\n\t\tif isSquare then\r\n\t\t\tif isThisABloodyCustomDie.image ~= nil and callFaces == 6 then\r\n\t\t\t\twaitFrames(35)\r\n\t\t\t\tlocal rot = self.getRotation()\r\n\t\t\t\tlocal r = obj.getRotation()\r\n\t\t\t\tobj.setRotation({r.x, rot.y + 180, r.z})\r\n\t\t\tend\r\n\t\telse\r\n\t\t\tif callFaces == 6 then\r\n\t\t\t\twaitFrames(35)\r\n\t\t\t\tlocal rot = self.getRotation()\r\n\t\t\t\tlocal r = obj.getRotation()\r\n\t\t\t\tobj.setRotation({r.x, rot.y + 180, r.z})\r\n\t\t\tend\r\n\t\tend\r\n\r\n\t\treturn 1\r\n\tend\r\n\r\n\tstartLuaCoroutine(self, 'insidef')\r\nend\r\n\r\n--Coroutine to wait to allow for custom dice positional data to be altered.\r\nfunction waitFrames(frames)\r\n\twhile frames > 0 do\r\n\t\tcoroutine.yield(0)\r\n\t\tframes = frames - 1\r\n\tend\r\nend\r\n\r\n\r\n--Function to print table contents.\r\n--[[\r\nfunction printTable(tempTable)\r\n\tfor k, v in pairs(tempTable) do\r\n\t\tprint('key = ' .. k)\r\n\t\tprint('value =' .. v)\r\n\tend\r\nend\r\n--]]",
      "LuaScriptState": "{\n  \"Results\": \"no\",\n  \"Rows\": \"yes\",\n  \"SmoothDice\": \"no\",\n  \"SortNoRows\": \"asc\",\n  \"Step\": 1,\n  \"Version\": \"BCB-2018-12-16\"\n}",
      "GUID": "7a8c48"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -39.4298,
        "posY": 1.5878,
        "posZ": -25.8474,
        "rotX": 1.22602287E-07,
        "rotY": 180.0,
        "rotZ": 5.427715E-08,
        "scaleX": 0.55000037,
        "scaleY": 0.55000037,
        "scaleZ": 0.55000037
      },
      "Nickname": "Kustom 40k Dice Roller Mk2.5",
      "Description": "{\n  \"Results\": \"no\",\n  \"Rows\": \"yes\",\n  \"SmoothDice\": \"no\",\n  \"SortNoRows\": \"asc\",\n  \"Step\": 1,\n  \"Version\": \"BCB-2018-12-16\"\n}",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9999998,
        "g": 0.992160261,
        "b": 0.9999998
      },
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "Number": 0,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/94979895601488369/894F4E9B36D9116E12A24DAAFE1B4FD26A1880D2/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/773996263556569093/84B19E8B1DD60E76DADDD3802E7105DCF76721CF/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "--Based off: https://steamcommunity.com/sharedfiles/filedetails/?id=726800282\r\n--Link for this mod: https://steamcommunity.com/sharedfiles/filedetails/?id=959360907\r\n\r\n--Initialize Global Variables and pRNG Seed\r\nmath.randomseed(tonumber(tostring(os.time()):reverse():sub(1,7))+tonumber(tostring(os.clock()):reverse():sub(1,7)))\r\nver = 'BCB-2018-12-16'\r\nlastHolder = {}\r\ncustomFace = {4, 6, 8, 10, 12, 20}\r\ndiceGuidFaces = {}\r\nsortedKeys = {}\r\nresultsTable = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}\r\n\r\n--Determine the person who put the dice in the box.\r\nfunction onObjectPickedUp(playerColor, obj)\r\n\tlastHolder[obj] = playerColor\r\nend\r\n\r\n--Reset the person holding the dice when no dice are held.\r\nfunction onObjectDestroyed(obj)\r\n\tlastHolder[obj] = nil\r\nend\r\n\r\n--Reset description on load if empty.\r\nfunction onLoad(save_state)\r\n\tif self.getDescription() == '' then\r\n\t\tsetDefaultState()\r\n\tend\r\nend\r\n\r\n--Returns description on game save.\r\nfunction onSave()\r\n\treturn self.getDescription()\r\nend\r\n\r\n--Reset description on drop if empty.\r\nfunction onDropped(player_color)\r\n\tif self.getDescription() == '' then\r\n\t\tsetDefaultState()\r\n\tend\r\nend\r\n\r\n--Sets default description.\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode_pretty({Results = 'no', SmoothDice = 'no', Rows = 'yes', SortNoRows = 'asc', Step = 1, Version = ver}))\r\nend\r\n\r\n--Creates a table and sorts the dice guids by value.\r\nfunction sortByVal(t, type)\r\n\tlocal keys = {}\r\n\tfor key in pairs(t) do\r\n\t\ttable.insert(keys, key)\r\n\tend\r\n\tif type == 'asc' then\r\n\t\ttable.sort(keys, function(a, b) return t[a] < t[b] end)\r\n\telseif type == 'desc' then\r\n\t\ttable.sort(keys, function(a, b) return t[a] > t[b] end)\r\n\tend\r\n\treturn keys\r\nend\r\n\r\n--Checks the item dropped in the bag has a guid.\r\nfunction hasGuid(t, g)\r\n\tfor k, v in ipairs(t) do\r\n\t\tif v.guid == g then return true end\r\n\tend\r\n\r\n\treturn false\r\nend\r\n--Runs when non-dice is put into bag\r\nfunction onObjectEnterContainer(container, obj)\r\n    if container == self and obj.tag ~= \"Dice\" then\r\n        local pos = self.getPosition()\r\n        local f = self.getTransformRight()\r\n        self.takeObject({\r\n            position          = {pos.x+20,pos.y+50,pos.z+20},\r\n            smooth            = false,\r\n        })\r\n        return\r\n    end\r\nend\r\n--Runs when an object is dropped in bag.\r\nfunction onCollisionEnter(collision_info)\r\n\tplayerColor = lastHolder[collision_info.collision_object]\r\n\tif collision_info.collision_object.getGUID() == nil then return end\r\n\tdiceGuidFaces = {}\r\n\tsortedKeys = {}\r\n\r\n--Save number of faces on dice\r\n\tfor k, v in ipairs(getAllObjects()) do\r\n\t\tif v.tag == 'Dice' then\r\n\t\t\tobjType = tostring(v)\r\n\t\t\tfaces = tonumber(string.match(objType, 'Die_(%d+).*'))\r\n\t\t\tif faces == nil then\r\n\t\t\t\tfaces = tonumber(customFace[v.getCustomObject().type + 1])\r\n\t\t\tend\r\n\t\tdiceGuidFaces[v.getGUID()] = faces\r\n\t\ttable.insert(sortedKeys, v.getGUID())\r\n\t\tend\r\n\tend\r\n\r\n--[[Benchmarking code\r\nif resetclock ~= 1 then\r\nclockstart = os.clock()\r\nresetclock = 1\r\nend--]]\r\n\r\n--Creates a timer to take the dice out and position them.\r\n\tWait.time(|| takeDiceOut(), 0.3)\r\nend\r\n\r\n--Function to take the dice out of the bag and position them.\r\nfunction takeDiceOut(tab)\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data == nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored default configuration.', {0.8, 0.5, 0})\r\n\tend\r\n\r\n\tif data.Step < 1 then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - \"step\" can\\'t be lower than 1. Restored default configuration.', {0.8, 0.5, 0})\r\n\tend\r\n\r\n\tdiceGuids = {}\r\n\tfor k, v in pairs(self.getObjects()) do\r\n\t\tfaces = diceGuidFaces[v.guid]\r\n\t\tr = math.random(faces)\r\n\t\tdiceGuids[v.guid] = r\r\n\tend\r\n\r\n\tlocal objs = self.getObjects()\r\n\tlocal position = self.getPosition()\r\n\trotation = self.getRotation()\r\n\tsortedKeys = sortByVal(diceGuids, data.SortNoRows)\r\n\tRows = {}\r\n\tn = 1\r\n\tfor _, key in pairs(sortedKeys) do\r\n\t\tif diceGuids[key] == math.floor(diceGuids[key]) then\r\n\t\t\tresultsTable[diceGuids[key]] = resultsTable[diceGuids[key]] + 1\r\n\t\tend\r\n\r\n\tif hasGuid(objs, key) then\r\n\t\tif Rows[diceGuids[key]] == nil then\r\n\t\t\tRows[diceGuids[key]] = 0\r\n\t\tend\r\n\t\tRows[diceGuids[key]] = Rows[diceGuids[key]] + 1\r\n\t\tparams = {}\r\n\t\tparams.guid = key\r\n\t\tif data.Rows == 'no' then\r\n\t\t\tparams.position = { position.x + (-1) * math.sin((90 + rotation.y) * 0.0174532) * (n + 0.5) * data.Step,\r\n\t\t\tposition.y + 1,\r\n\t\t\tposition.z + (-1) * math.cos((90 + rotation.y) * 0.0174532) * (n + 0.5) * data.Step}\r\n\t\telse\r\n\t\t\tparams.position = {\r\n\t\t\tposition.x + (Rows[diceGuids[key]] * math.cos((180 + self.getRotation().y) * 0.0174532)) * data.Step - (diceGuids[key] * math.sin((180 + self.getRotation().y) * 0.0174532)) * data.Step,\r\n\t\t\tposition.y + 2,\r\n\t\t\tposition.z + (Rows[diceGuids[key]] * math.sin((self.getRotation().y) * 0.0174532)) * data.Step + (diceGuids[key] * math.cos((0 + self.getRotation().y) * 0.0174532)) * data.Step}\r\n\t\tend\r\n\r\n--params.rotation = {rotation.x, rotation.y, rotation.z}\r\n\t\tparams.callback = 'setValueCallback'\r\n\t\tparams.params = {diceGuids[key]}\r\n\t\tparams.smooth = false\r\n\t\tif data.SmoothDice == 'yes' then params.smooth = true end\r\n\t\t\tself.takeObject(params)\r\n\t\t\tn = n + 1\r\n\t\tend\r\n\tend\r\n\r\n\tprintresultsTable()\r\n--[[Benchmarking code\r\n\tclockend = os.clock()\r\n\tresetclock=0\r\n\tprint('Runtime: ' .. clockend-clockstart .. ' seconds.')--]]\r\nend\r\n\r\n--Function to count resultsTable for printing.\r\nfunction sum(t)\r\n\tlocal sum = 0\r\n\tfor k, v in pairs(t) do\r\n\t\tsum = sum + v\r\n\tend\r\n\r\n\treturn sum\r\nend\r\n\r\n--Prints resultsTable.\r\nfunction printresultsTable()\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif sum(resultsTable) > 0 and data.Results == 'yes' then\r\n\t\tlocal description = {'Ones.', 'Twos.', 'Threes.', 'Fours.', 'Fives.', 'Sixes.', 'Sevens.', 'Eights.', 'Nines.', 'Tens.', 'Elevens.', 'Twelves.', 'Thirteens.', 'Fourteens.', 'Fifteens.', 'Sixteens.', 'Seventeens', 'Eighteens.', 'Nineteens.', 'Twenties.'}\r\n\t\tlocal msg = ''\r\n\t\tfor dieFace, numRolled in ipairs(resultsTable) do\r\n\t\t\tif numRolled > 0 then\r\n\t\t\t\tmsg = msg .. numRolled .. ' ' .. description[dieFace] .. ' '\r\n\t\t\tend\r\n\t\tend\r\n\r\n\t\tlocal time = '[' .. os.date(\"%H\") .. ':' .. os.date(\"%M\") .. ':' .. os.date(\"%S\") .. ' UTC] ' \r\n\t\tif playerColor == nil then\r\n\t\t\tprintToAll('*******************************************************\\n' .. time .. '~UNKNOWN PLAYER~ rolls:\\n' .. msg .. '*******************************************************', {1, 1, 1})\r\n\t\telse\r\n\t\t\tprintToAll('*******************************************************\\n' .. time .. Player[playerColor].steam_name .. ' rolls:\\n' .. msg .. '*******************************************************', stringColorToRGB(playerColor))\r\n\t\tend\r\n\tend\r\n\r\n\tfor k,v in ipairs(resultsTable) do\r\n\t\tresultsTable[k] = 0\r\n\tend\r\nend\r\n\r\n--Sets the value of the physical dice object and reorients them if needed.\r\nfunction setValueCallback(obj, tab)\r\n\tlocal isSquare = false\r\n\tif (rotation.y < 2) or (88 < rotation.y and rotation.y < 92) or (178 < rotation.y and rotation.y < 182) or (268 < rotation.y and rotation.y < 272) or (rotation.y > 358) then isSquare = true end\r\n\tfunction insidef()\r\n\t\tobj.setValue(tab[1])\r\n\t\tlocal isThisABloodyCustomDie = obj.getCustomObject()\r\n\t\tlocal reorientAllDice = false\r\n\t\tif obj.tag == 'Dice' then\r\n\t\t\tobjType = tostring(obj)\r\n\t\t\tcallFaces = tonumber(string.match(objType, 'Die_(%d+).*'))\r\n\t\t\tif callFaces == nil then callFaces = tonumber(customFace[obj.getCustomObject().type + 1]) end\r\n\t\t\tdiceGuidFaces[obj.getGUID()] = callFaces\r\n\t\tend\r\n\r\n\t\tif isSquare then\r\n\t\t\tif isThisABloodyCustomDie.image ~= nil and callFaces == 6 then\r\n\t\t\t\twaitFrames(35)\r\n\t\t\t\tlocal rot = self.getRotation()\r\n\t\t\t\tlocal r = obj.getRotation()\r\n\t\t\t\tobj.setRotation({r.x, rot.y + 180, r.z})\r\n\t\t\tend\r\n\t\telse\r\n\t\t\tif callFaces == 6 then\r\n\t\t\t\twaitFrames(35)\r\n\t\t\t\tlocal rot = self.getRotation()\r\n\t\t\t\tlocal r = obj.getRotation()\r\n\t\t\t\tobj.setRotation({r.x, rot.y + 180, r.z})\r\n\t\t\tend\r\n\t\tend\r\n\r\n\t\treturn 1\r\n\tend\r\n\r\n\tstartLuaCoroutine(self, 'insidef')\r\nend\r\n\r\n--Coroutine to wait to allow for custom dice positional data to be altered.\r\nfunction waitFrames(frames)\r\n\twhile frames > 0 do\r\n\t\tcoroutine.yield(0)\r\n\t\tframes = frames - 1\r\n\tend\r\nend\r\n\r\n\r\n--Function to print table contents.\r\n--[[\r\nfunction printTable(tempTable)\r\n\tfor k, v in pairs(tempTable) do\r\n\t\tprint('key = ' .. k)\r\n\t\tprint('value =' .. v)\r\n\tend\r\nend\r\n--]]",
      "LuaScriptState": "{\n  \"Results\": \"no\",\n  \"Rows\": \"yes\",\n  \"SmoothDice\": \"no\",\n  \"SortNoRows\": \"asc\",\n  \"Step\": 1,\n  \"Version\": \"BCB-2018-12-16\"\n}",
      "GUID": "e1ec96"
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": -38.4296379,
        "posY": 1.95000064,
        "posZ": -27.8473816,
        "rotX": 90.0,
        "rotY": 0.00063490076,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0,
        "g": 0.4235294,
        "b": 0.996078432
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 3,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2935da",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": -38.4295349,
        "posY": 1.95000041,
        "posZ": -30.8474331,
        "rotX": 270.0,
        "rotY": -0.000296719954,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0,
        "g": 0.4235294,
        "b": 0.996078432
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 3,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "1d2044",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": -38.4295044,
        "posY": 1.95000017,
        "posZ": -31.8474255,
        "rotX": 3.95571163E-07,
        "rotY": -0.000509194564,
        "rotZ": 180.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0,
        "g": 0.4235294,
        "b": 0.996078432
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 3,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "936e44",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": -38.4296036,
        "posY": 1.95000029,
        "posZ": -28.8474331,
        "rotX": -5.208415E-07,
        "rotY": -0.000335687975,
        "rotZ": 90.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0,
        "g": 0.4235294,
        "b": 0.996078432
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 3,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "045215",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": -38.4295654,
        "posY": 1.95000029,
        "posZ": -29.8473816,
        "rotX": -4.111756E-07,
        "rotY": 0.0007488342,
        "rotZ": 270.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0,
        "g": 0.4235294,
        "b": 0.996078432
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 3,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a9e102",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Die_6_Rounded",
      "Transform": {
        "posX": -38.4296646,
        "posY": 1.95000017,
        "posZ": -26.8473816,
        "rotX": 1.02855563E-06,
        "rotY": 0.000843764,
        "rotZ": -1.64596941E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0,
        "g": 0.4235294,
        "b": 0.996078432
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": false,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": 3,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "7aeac9",
      "RotationValues": [
        {
          "Value": 1,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 2,
          "Rotation": {
            "x": 90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 3,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": 90.0
          }
        },
        {
          "Value": 4,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -90.0
          }
        },
        {
          "Value": 5,
          "Rotation": {
            "x": -90.0,
            "y": 0.0,
            "z": 0.0
          }
        },
        {
          "Value": 6,
          "Rotation": {
            "x": 0.0,
            "y": 0.0,
            "z": -180.0
          }
        }
      ]
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": -18.0,
        "posY": 1.5,
        "posZ": -29.0,
        "rotX": 0.0,
        "rotY": 180.0,
        "rotZ": 0.0,
        "scaleX": 3.75,
        "scaleY": 1.0,
        "scaleZ": 3.75
      },
      "Nickname": "Dice Table",
      "Description": "{\n  \"Cumulative\": \"no\"\n}",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/773996263556575561/DD070EE95478CD5CD45223A0D270247C931F178A/",
        "ImageSecondaryURL": "",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "function onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n\tif self.getDescription() == '' then\r\n\t\tsetDefaultState()\r\n\tend\r\n    emptyText = ' '\r\nend\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode_pretty({\r\n\t\tCumulative = 'no'\r\n\t}))\r\nend\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n\tlocal textLines = {}\r\n\tif data.Cumulative == 'yes' then\r\n\t\ttable.sort(valuesToSort)\r\n\t\tfor i=1,6 do\r\n\t\t\tif valueToCounter[i]==nil then\r\n\t\t\t\tvalueToCounter[i]=0\r\n\t\t\tend\r\n\t\tend\r\n\t\tvalueToCounter[5]=valueToCounter[6]+valueToCounter[5]\r\n\t\tvalueToCounter[4]=valueToCounter[5]+valueToCounter[4]\r\n\t\tvalueToCounter[3]=valueToCounter[4]+valueToCounter[3]\r\n\t\tvalueToCounter[2]=valueToCounter[3]+valueToCounter[2]\r\n\t\tfor index, value in ipairs(valuesToSort) do\r\n\t\t\tlocal counter = valueToCounter[value]\r\n\t\t\tlocal xxx = ''\r\n\t\t\tif value == 1 then\r\n\t\t\t\txxx = \"'s:\"\r\n\t\t\telse\r\n\t\t\t\txxx = \"+:\"\r\n\t\t\tend\r\n\t\t\tlocal line = value .. xxx .. counter\r\n\t\t\ttextLines[#textLines + 1] = line\r\n\t\tend\r\n\telse\r\n\t\ttable.sort(valuesToSort)\r\n\t\tfor index, value in ipairs(valuesToSort) do\r\n\t\t\tlocal counter = valueToCounter[value]\r\n\t\t\tlocal line = '#' .. value .. ': ' .. counter\r\n\t\t\ttextLines[#textLines + 1] = line\r\n\t\tend\r\n\tend\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
      "LuaScriptState": "",
      "GUID": "9f2b3a",
      "AttachedSnapPoints": [
        {
          "Position": {
            "x": 5.714623,
            "y": 0.1,
            "z": -0.8406986
          }
        }
      ],
      "States": {
        "2": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 0.0,
            "posY": 0.9600073,
            "posZ": 5.0,
            "rotX": 0.000119499586,
            "rotY": 180.00032,
            "rotZ": 1.63384618E-06,
            "scaleX": 3.75,
            "scaleY": 1.0,
            "scaleZ": 3.75
          },
          "Nickname": "Player 2's Dice Table",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": true,
          "Grid": true,
          "Snap": false,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/860600666563525727/F3A6BD42039C56A655E48E64904AC91FEF7C4EE0/",
            "ImageSecondaryURL": "",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "--[[ Lua code. See documentation: http://berserk-games.com/knowledgebase/scripting/ --]]\r\n--[[ The OnLoad function. This is called after everything in the game save finishes loading.\r\nMost of your script code goes here. --]]\r\nfunction onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n       \r\n    emptyText = ' '\r\nend\r\n\t--[[Function to reset description\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode({\r\n\t\tdice=6\r\n\t}))\r\nend\r\n\t]]--\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--[[ Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t-- Set text size based on description or reset if invalid.\r\n\tif     data.dice==4 then\r\n\t\tself.editButton({ position={1.3,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==6 then\r\n\t\tself.editButton({ position={0.7,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==8 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=680})\r\n\telseif data.dice==10 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=550})\r\n\telseif data.dice==12 then\r\n\t\tself.editButton({ position={0.1,0.03,-2.1}, font_size=450})\r\n\telseif data.dice==20 then\r\n\t\tself.editButton({ position={0.05,0.03,-2.5}, font_size=275})\r\n\telse\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t\r\n\t]]--\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n    local textLines = {}\r\n    table.sort(valuesToSort)\r\n    for index, value in ipairs(valuesToSort) do\r\n        local counter = valueToCounter[value]\r\n        local line = '#' .. value .. ': ' .. counter\r\n        textLines[#textLines + 1] = line\r\n    end\r\n\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
          "LuaScriptState": "",
          "GUID": "ef397b",
          "AttachedSnapPoints": [
            {
              "Position": {
                "x": 5.714623,
                "y": 0.1,
                "z": -0.8406986
              }
            }
          ]
        },
        "3": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 0.0,
            "posY": 0.9600073,
            "posZ": 5.0,
            "rotX": 0.000119499586,
            "rotY": 180.00032,
            "rotZ": 1.63384618E-06,
            "scaleX": 3.75,
            "scaleY": 1.0,
            "scaleZ": 3.75
          },
          "Nickname": "Player 3's Dice Table",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": true,
          "Grid": true,
          "Snap": false,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/860600666563526408/6C742612F250CBA70020FADE0580DCC2F4083D6D/",
            "ImageSecondaryURL": "",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "--[[ Lua code. See documentation: http://berserk-games.com/knowledgebase/scripting/ --]]\r\n--[[ The OnLoad function. This is called after everything in the game save finishes loading.\r\nMost of your script code goes here. --]]\r\nfunction onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n       \r\n    emptyText = ' '\r\nend\r\n\t--[[Function to reset description\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode({\r\n\t\tdice=6\r\n\t}))\r\nend\r\n\t]]--\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--[[ Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t-- Set text size based on description or reset if invalid.\r\n\tif     data.dice==4 then\r\n\t\tself.editButton({ position={1.3,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==6 then\r\n\t\tself.editButton({ position={0.7,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==8 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=680})\r\n\telseif data.dice==10 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=550})\r\n\telseif data.dice==12 then\r\n\t\tself.editButton({ position={0.1,0.03,-2.1}, font_size=450})\r\n\telseif data.dice==20 then\r\n\t\tself.editButton({ position={0.05,0.03,-2.5}, font_size=275})\r\n\telse\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t\r\n\t]]--\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n    local textLines = {}\r\n    table.sort(valuesToSort)\r\n    for index, value in ipairs(valuesToSort) do\r\n        local counter = valueToCounter[value]\r\n        local line = '#' .. value .. ': ' .. counter\r\n        textLines[#textLines + 1] = line\r\n    end\r\n\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
          "LuaScriptState": "",
          "GUID": "e0648b",
          "AttachedSnapPoints": [
            {
              "Position": {
                "x": 5.714623,
                "y": 0.1,
                "z": -0.8406986
              }
            }
          ]
        },
        "4": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 0.0,
            "posY": 0.9600073,
            "posZ": 5.0,
            "rotX": 0.000119499586,
            "rotY": 180.00032,
            "rotZ": 1.63384618E-06,
            "scaleX": 3.75,
            "scaleY": 1.0,
            "scaleZ": 3.75
          },
          "Nickname": "Player 4's Dice Table",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": true,
          "Grid": true,
          "Snap": false,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/860600666563527020/5DE01D97E718DC1A442A1A600C1AC4FDE56E9ECD/",
            "ImageSecondaryURL": "",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "--[[ Lua code. See documentation: http://berserk-games.com/knowledgebase/scripting/ --]]\r\n--[[ The OnLoad function. This is called after everything in the game save finishes loading.\r\nMost of your script code goes here. --]]\r\nfunction onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n       \r\n    emptyText = ' '\r\nend\r\n\t--[[Function to reset description\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode({\r\n\t\tdice=6\r\n\t}))\r\nend\r\n\t]]--\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--[[ Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t-- Set text size based on description or reset if invalid.\r\n\tif     data.dice==4 then\r\n\t\tself.editButton({ position={1.3,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==6 then\r\n\t\tself.editButton({ position={0.7,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==8 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=680})\r\n\telseif data.dice==10 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=550})\r\n\telseif data.dice==12 then\r\n\t\tself.editButton({ position={0.1,0.03,-2.1}, font_size=450})\r\n\telseif data.dice==20 then\r\n\t\tself.editButton({ position={0.05,0.03,-2.5}, font_size=275})\r\n\telse\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t\r\n\t]]--\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n    local textLines = {}\r\n    table.sort(valuesToSort)\r\n    for index, value in ipairs(valuesToSort) do\r\n        local counter = valueToCounter[value]\r\n        local line = '#' .. value .. ': ' .. counter\r\n        textLines[#textLines + 1] = line\r\n    end\r\n\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
          "LuaScriptState": "",
          "GUID": "6448ab",
          "AttachedSnapPoints": [
            {
              "Position": {
                "x": 5.714623,
                "y": 0.1,
                "z": -0.8406986
              }
            }
          ]
        },
        "1": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 0.0,
            "posY": 0.9600073,
            "posZ": 5.0,
            "rotX": 0.000119499586,
            "rotY": 180.00032,
            "rotZ": 1.63384618E-06,
            "scaleX": 3.75,
            "scaleY": 1.0,
            "scaleZ": 3.75
          },
          "Nickname": "Player 1's Dice Table",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": true,
          "Grid": true,
          "Snap": false,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/860600666563521669/DF2D28047217A50B6045B03A1D76227F94F07CC0/",
            "ImageSecondaryURL": "",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "--[[ Lua code. See documentation: http://berserk-games.com/knowledgebase/scripting/ --]]\r\n--[[ The OnLoad function. This is called after everything in the game save finishes loading.\r\nMost of your script code goes here. --]]\r\nfunction onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n       \r\n    emptyText = ' '\r\nend\r\n\t--[[Function to reset description\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode({\r\n\t\tdice=6\r\n\t}))\r\nend\r\n\t]]--\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--[[ Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t-- Set text size based on description or reset if invalid.\r\n\tif     data.dice==4 then\r\n\t\tself.editButton({ position={1.3,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==6 then\r\n\t\tself.editButton({ position={0.7,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==8 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=680})\r\n\telseif data.dice==10 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=550})\r\n\telseif data.dice==12 then\r\n\t\tself.editButton({ position={0.1,0.03,-2.1}, font_size=450})\r\n\telseif data.dice==20 then\r\n\t\tself.editButton({ position={0.05,0.03,-2.5}, font_size=275})\r\n\telse\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t\r\n\t]]--\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n    local textLines = {}\r\n    table.sort(valuesToSort)\r\n    for index, value in ipairs(valuesToSort) do\r\n        local counter = valueToCounter[value]\r\n        local line = '#' .. value .. ': ' .. counter\r\n        textLines[#textLines + 1] = line\r\n    end\r\n\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
          "LuaScriptState": "",
          "GUID": "36657c",
          "AttachedSnapPoints": [
            {
              "Position": {
                "x": 5.714623,
                "y": 0.1,
                "z": -0.8406986
              }
            }
          ]
        }
      }
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": -18.0,
        "posY": 1.5,
        "posZ": 29.0,
        "rotX": 0.0,
        "rotY": 5.008956E-06,
        "rotZ": 0.0,
        "scaleX": 3.75,
        "scaleY": 1.0,
        "scaleZ": 3.75
      },
      "Nickname": "Dice Table",
      "Description": "{\n  \"Cumulative\": \"no\"\n}",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/773996263556575561/DD070EE95478CD5CD45223A0D270247C931F178A/",
        "ImageSecondaryURL": "",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "function onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n\tif self.getDescription() == '' then\r\n\t\tsetDefaultState()\r\n\tend\r\n    emptyText = ' '\r\nend\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode_pretty({\r\n\t\tCumulative = 'no'\r\n\t}))\r\nend\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n\tlocal textLines = {}\r\n\tif data.Cumulative == 'yes' then\r\n\t\ttable.sort(valuesToSort)\r\n\t\tfor i=1,6 do\r\n\t\t\tif valueToCounter[i]==nil then\r\n\t\t\t\tvalueToCounter[i]=0\r\n\t\t\tend\r\n\t\tend\r\n\t\tvalueToCounter[5]=valueToCounter[6]+valueToCounter[5]\r\n\t\tvalueToCounter[4]=valueToCounter[5]+valueToCounter[4]\r\n\t\tvalueToCounter[3]=valueToCounter[4]+valueToCounter[3]\r\n\t\tvalueToCounter[2]=valueToCounter[3]+valueToCounter[2]\r\n\t\tfor index, value in ipairs(valuesToSort) do\r\n\t\t\tlocal counter = valueToCounter[value]\r\n\t\t\tlocal xxx = ''\r\n\t\t\tif value == 1 then\r\n\t\t\t\txxx = \"'s:\"\r\n\t\t\telse\r\n\t\t\t\txxx = \"+:\"\r\n\t\t\tend\r\n\t\t\tlocal line = value .. xxx .. counter\r\n\t\t\ttextLines[#textLines + 1] = line\r\n\t\tend\r\n\telse\r\n\t\ttable.sort(valuesToSort)\r\n\t\tfor index, value in ipairs(valuesToSort) do\r\n\t\t\tlocal counter = valueToCounter[value]\r\n\t\t\tlocal line = '#' .. value .. ': ' .. counter\r\n\t\t\ttextLines[#textLines + 1] = line\r\n\t\tend\r\n\tend\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
      "LuaScriptState": "",
      "GUID": "69ea1c",
      "AttachedSnapPoints": [
        {
          "Position": {
            "x": 5.714623,
            "y": 0.1,
            "z": -0.8406986
          }
        }
      ],
      "States": {
        "2": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 0.0,
            "posY": 0.9600073,
            "posZ": 5.0,
            "rotX": 0.000119499586,
            "rotY": 180.00032,
            "rotZ": 1.63384618E-06,
            "scaleX": 3.75,
            "scaleY": 1.0,
            "scaleZ": 3.75
          },
          "Nickname": "Player 2's Dice Table",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": true,
          "Grid": true,
          "Snap": false,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/860600666563525727/F3A6BD42039C56A655E48E64904AC91FEF7C4EE0/",
            "ImageSecondaryURL": "",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "--[[ Lua code. See documentation: http://berserk-games.com/knowledgebase/scripting/ --]]\r\n--[[ The OnLoad function. This is called after everything in the game save finishes loading.\r\nMost of your script code goes here. --]]\r\nfunction onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n       \r\n    emptyText = ' '\r\nend\r\n\t--[[Function to reset description\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode({\r\n\t\tdice=6\r\n\t}))\r\nend\r\n\t]]--\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--[[ Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t-- Set text size based on description or reset if invalid.\r\n\tif     data.dice==4 then\r\n\t\tself.editButton({ position={1.3,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==6 then\r\n\t\tself.editButton({ position={0.7,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==8 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=680})\r\n\telseif data.dice==10 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=550})\r\n\telseif data.dice==12 then\r\n\t\tself.editButton({ position={0.1,0.03,-2.1}, font_size=450})\r\n\telseif data.dice==20 then\r\n\t\tself.editButton({ position={0.05,0.03,-2.5}, font_size=275})\r\n\telse\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t\r\n\t]]--\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n    local textLines = {}\r\n    table.sort(valuesToSort)\r\n    for index, value in ipairs(valuesToSort) do\r\n        local counter = valueToCounter[value]\r\n        local line = '#' .. value .. ': ' .. counter\r\n        textLines[#textLines + 1] = line\r\n    end\r\n\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
          "LuaScriptState": "",
          "GUID": "ef397b",
          "AttachedSnapPoints": [
            {
              "Position": {
                "x": 5.714623,
                "y": 0.1,
                "z": -0.8406986
              }
            }
          ]
        },
        "3": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 0.0,
            "posY": 0.9600073,
            "posZ": 5.0,
            "rotX": 0.000119499586,
            "rotY": 180.00032,
            "rotZ": 1.63384618E-06,
            "scaleX": 3.75,
            "scaleY": 1.0,
            "scaleZ": 3.75
          },
          "Nickname": "Player 3's Dice Table",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": true,
          "Grid": true,
          "Snap": false,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/860600666563526408/6C742612F250CBA70020FADE0580DCC2F4083D6D/",
            "ImageSecondaryURL": "",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "--[[ Lua code. See documentation: http://berserk-games.com/knowledgebase/scripting/ --]]\r\n--[[ The OnLoad function. This is called after everything in the game save finishes loading.\r\nMost of your script code goes here. --]]\r\nfunction onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n       \r\n    emptyText = ' '\r\nend\r\n\t--[[Function to reset description\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode({\r\n\t\tdice=6\r\n\t}))\r\nend\r\n\t]]--\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--[[ Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t-- Set text size based on description or reset if invalid.\r\n\tif     data.dice==4 then\r\n\t\tself.editButton({ position={1.3,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==6 then\r\n\t\tself.editButton({ position={0.7,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==8 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=680})\r\n\telseif data.dice==10 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=550})\r\n\telseif data.dice==12 then\r\n\t\tself.editButton({ position={0.1,0.03,-2.1}, font_size=450})\r\n\telseif data.dice==20 then\r\n\t\tself.editButton({ position={0.05,0.03,-2.5}, font_size=275})\r\n\telse\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t\r\n\t]]--\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n    local textLines = {}\r\n    table.sort(valuesToSort)\r\n    for index, value in ipairs(valuesToSort) do\r\n        local counter = valueToCounter[value]\r\n        local line = '#' .. value .. ': ' .. counter\r\n        textLines[#textLines + 1] = line\r\n    end\r\n\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
          "LuaScriptState": "",
          "GUID": "e0648b",
          "AttachedSnapPoints": [
            {
              "Position": {
                "x": 5.714623,
                "y": 0.1,
                "z": -0.8406986
              }
            }
          ]
        },
        "4": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 0.0,
            "posY": 0.9600073,
            "posZ": 5.0,
            "rotX": 0.000119499586,
            "rotY": 180.00032,
            "rotZ": 1.63384618E-06,
            "scaleX": 3.75,
            "scaleY": 1.0,
            "scaleZ": 3.75
          },
          "Nickname": "Player 4's Dice Table",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": true,
          "Grid": true,
          "Snap": false,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/860600666563527020/5DE01D97E718DC1A442A1A600C1AC4FDE56E9ECD/",
            "ImageSecondaryURL": "",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "--[[ Lua code. See documentation: http://berserk-games.com/knowledgebase/scripting/ --]]\r\n--[[ The OnLoad function. This is called after everything in the game save finishes loading.\r\nMost of your script code goes here. --]]\r\nfunction onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n       \r\n    emptyText = ' '\r\nend\r\n\t--[[Function to reset description\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode({\r\n\t\tdice=6\r\n\t}))\r\nend\r\n\t]]--\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--[[ Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t-- Set text size based on description or reset if invalid.\r\n\tif     data.dice==4 then\r\n\t\tself.editButton({ position={1.3,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==6 then\r\n\t\tself.editButton({ position={0.7,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==8 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=680})\r\n\telseif data.dice==10 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=550})\r\n\telseif data.dice==12 then\r\n\t\tself.editButton({ position={0.1,0.03,-2.1}, font_size=450})\r\n\telseif data.dice==20 then\r\n\t\tself.editButton({ position={0.05,0.03,-2.5}, font_size=275})\r\n\telse\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t\r\n\t]]--\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n    local textLines = {}\r\n    table.sort(valuesToSort)\r\n    for index, value in ipairs(valuesToSort) do\r\n        local counter = valueToCounter[value]\r\n        local line = '#' .. value .. ': ' .. counter\r\n        textLines[#textLines + 1] = line\r\n    end\r\n\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
          "LuaScriptState": "",
          "GUID": "6448ab",
          "AttachedSnapPoints": [
            {
              "Position": {
                "x": 5.714623,
                "y": 0.1,
                "z": -0.8406986
              }
            }
          ]
        },
        "1": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 0.0,
            "posY": 0.9600073,
            "posZ": 5.0,
            "rotX": 0.000119499586,
            "rotY": 180.00032,
            "rotZ": 1.63384618E-06,
            "scaleX": 3.75,
            "scaleY": 1.0,
            "scaleZ": 3.75
          },
          "Nickname": "Player 1's Dice Table",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": true,
          "Grid": true,
          "Snap": false,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/860600666563521669/DF2D28047217A50B6045B03A1D76227F94F07CC0/",
            "ImageSecondaryURL": "",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "--[[ Lua code. See documentation: http://berserk-games.com/knowledgebase/scripting/ --]]\r\n--[[ The OnLoad function. This is called after everything in the game save finishes loading.\r\nMost of your script code goes here. --]]\r\nfunction onload()\r\n    self.createButton({\r\n        label=\"---\", click_function=\"none\", function_owner=Global,\r\n        position={-6.4,0.11,0.01}, rotation={0,0,0}, height=0, width=0, font_size=650,\r\n        font_color={1, 1, 1},\r\n        scale={0.25, 0.25, 0.25},\r\n\t\talignment=2\r\n    })\r\n       \r\n    emptyText = ' '\r\nend\r\n\t--[[Function to reset description\r\nfunction setDefaultState()\r\n\tself.setDescription(JSON.encode({\r\n\t\tdice=6\r\n\t}))\r\nend\r\n\t]]--\r\n--[[ The Update function. This is called once per frame. --]]\r\nfunction update ()\r\n    \r\n\t--[[ Reset description on null\r\n\tlocal data = JSON.decode(self.getDescription())\r\n\tif data==nil then\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t-- Set text size based on description or reset if invalid.\r\n\tif     data.dice==4 then\r\n\t\tself.editButton({ position={1.3,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==6 then\r\n\t\tself.editButton({ position={0.7,0.03,-1.99}, font_size=700})\r\n\telseif data.dice==8 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=680})\r\n\telseif data.dice==10 then\r\n\t\tself.editButton({ position={0.1,0.03,-1.99}, font_size=550})\r\n\telseif data.dice==12 then\r\n\t\tself.editButton({ position={0.1,0.03,-2.1}, font_size=450})\r\n\telseif data.dice==20 then\r\n\t\tself.editButton({ position={0.05,0.03,-2.5}, font_size=275})\r\n\telse\r\n\t\tsetDefaultState()\r\n\t\tdata = JSON.decode(self.getDescription())\r\n\t\tprintToAll('Warning - invalid description. Restored defaut configuration.', {0.8,0.5,0})\r\n\tend\r\n\t\r\n\t]]--\r\n    -- If the zone is moving, wait\r\n    if not self.resting then\r\n        return\r\n    end\r\n\r\n    local ownPos = self.getPosition()\r\n    local ownRotation = self.getRotation()['x']\r\n    local ownScale = self.getScale()['x']\r\n    local Rotation = self.getRotation()\r\n    -- Compute the bounds of the box.\r\n\t-- Manipulate the offset to account for tray borders.\r\n\t-- y offset will affect how above and below it will see dice.\r\n\t-- I was too lazy to split the y offset to only extend above the tray.\r\n\t-- If you want to fix do so and message me. ~(^_^;~)\r\n\t\r\n    local xboundOffset = 6.9 --Horizontal Offset\r\n    local yboundOffset = 2.5 --Up/Down Offset\r\n    local zboundOffset = 1 --Vertical Offset\r\n\tif Rotation.y > 89 and Rotation.y < 91 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n\tif Rotation.y > 269 and Rotation.y < 270 then\r\n\t\txboundOffset = 1\r\n\t\tzboundOffset = 6.9\r\n\t\tend\r\n    local leftBound = ownPos['x'] - xboundOffset * ownScale\r\n    local rightBound = ownPos['x'] + xboundOffset * ownScale\r\n    local upperBound = ownPos['z'] + zboundOffset * ownScale\r\n    local lowerBound = ownPos['z'] - zboundOffset * ownScale\r\n\tlocal yupperBound = ownPos['y'] + yboundOffset --* ownScale\r\n\tlocal ylowerBound = ownPos['y'] - yboundOffset --* ownScale\r\n\r\n    local valueToCounter = {}\r\n    local valuesToSort = {}\r\n\t\r\n    -- Iterate all objects in the zone\r\n    for _, obj in pairs(getAllObjects()) do\r\n        -- Fetch resting dices\r\n        if obj != nil and obj.tag == 'Dice' and obj.resting then\r\n            -- Only use objects inside the zone\r\n            local objPos = obj.getPosition()\r\n            if objPos['x'] > leftBound and objPos['x'] < rightBound and objPos['z'] > lowerBound and objPos['z'] < upperBound and objPos['y'] < yupperBound and objPos['y'] > ylowerBound then\r\n                local value = obj.getValue()\r\n                local counter = valueToCounter[value]\r\n                -- First occurrence of this value\r\n                if counter == nil then\r\n                    counter = 0\r\n                    valuesToSort[#valuesToSort + 1] = value\r\n                end\r\n                -- Increase the occurrence of this value\r\n                counter = counter + 1\r\n                valueToCounter[value] = counter\r\n            end\r\n        end\r\n    end\r\n\r\n    -- Process the tracked values, sorted and build the lines to display\r\n    local textLines = {}\r\n    table.sort(valuesToSort)\r\n    for index, value in ipairs(valuesToSort) do\r\n        local counter = valueToCounter[value]\r\n        local line = '#' .. value .. ': ' .. counter\r\n        textLines[#textLines + 1] = line\r\n    end\r\n\r\n    -- Display the text\r\n    local text = table.concat(textLines, '\\n')\r\n    if text == '' then\r\n        -- Suppress the default text 'Type Here'\r\n        text = emptyText\r\n    end\r\n    self.editButton({index=0, label=text})\r\nend\r\n",
          "LuaScriptState": "",
          "GUID": "36657c",
          "AttachedSnapPoints": [
            {
              "Position": {
                "x": 5.714623,
                "y": 0.1,
                "z": -0.8406986
              }
            }
          ]
        }
      }
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.444622,
        "posY": 2.800184,
        "posZ": 42.7978134,
        "rotX": 0.01689244,
        "rotY": 179.996658,
        "rotZ": 0.08002317,
        "scaleX": 0.5500004,
        "scaleY": 0.5500004,
        "scaleZ": 0.5500004
      },
      "Nickname": "Demolitions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 28.0009,
            "posY": 6.06367159,
            "posZ": -4.99983931,
            "rotX": 0.345160365,
            "rotY": 180.039185,
            "rotZ": 0.1044924,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Demolitions Level 3 - High Explosive",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486803004/623121B12D2F11F6E282791EC0218BFFC7DC5DD2/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "134c86"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 28.0009041,
            "posY": 6.02169371,
            "posZ": -7.00629139,
            "rotX": 358.9231,
            "rotY": 180.018814,
            "rotZ": 0.0774986744,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Demolitions Level 2 - Lucky Escape",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486802369/547399353D39EF177BBEB38AF4C63F5C4A7AFB74/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "3bd572"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 28.0008717,
            "posY": 6.05089951,
            "posZ": -5.999768,
            "rotX": 0.01980586,
            "rotY": 180.005569,
            "rotZ": 0.08065213,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Demolitions Level 1 - Custom Ammo",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486801539/9C453F6E58EF9CE9913507671C0AE1CA6F6BE871/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "e2fc8f"
        }
      ],
      "GUID": "02e60a"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.7298164,
        "posY": 2.77265143,
        "posZ": -49.34461,
        "rotX": 359.9831,
        "rotY": -0.00258374843,
        "rotZ": 359.919952,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Logistics",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -10.0,
            "posY": 5.979803,
            "posZ": -32.5,
            "rotX": -3.95035458E-05,
            "rotY": 180.004211,
            "rotZ": -3.916568E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Logistics Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498943562/0CAB9E20194DA0C6E15DD3B1250E07E9700012AF/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "c8006f"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -10.0,
            "posY": 5.97809458,
            "posZ": -27.5,
            "rotX": -1.14303845E-07,
            "rotY": 180.00592,
            "rotZ": -5.19925081E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Logistics Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498942332/4C629C49D952DD19CB019B4B6C12CB4FB2FD91E0/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "ede1bd"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -10.0,
            "posY": 5.97809458,
            "posZ": -22.5,
            "rotX": 2.91399886E-07,
            "rotY": 180.024643,
            "rotZ": -7.967207E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Logistics Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498942984/74C0BF5A7855F2F73B355CAC9788D42B7667E240/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "6e9ff3"
        }
      ],
      "GUID": "09dfba"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 8.224801,
        "posY": 1.47175848,
        "posZ": 5.82640076,
        "rotX": 359.920135,
        "rotY": 269.999969,
        "rotZ": 0.016867213,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Charge[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.117999829,
        "g": 0.53,
        "b": 1.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886942940/9C6A0FD05044AF72CE5D3C19575B0FC33AE10B60/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886934811/E5B6AEC06CEBDCC2B0DE979D626739FFF946B442/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "0c4eb0"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 43.0651169,
        "posY": 1.413204,
        "posZ": -28.0783,
        "rotX": 359.920135,
        "rotY": 270.000031,
        "rotZ": 0.0168712754,
        "scaleX": 9.109029,
        "scaleY": 1.0,
        "scaleZ": 9.109029
      },
      "Nickname": "NP: Binary Targets",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976605391/99CDD437DF2F37D870DA7E72586D433706E7316C/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976605643/4567BD01E9508C045815CC71B251138C65565376/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.1,
          "Stackable": true,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "109bfd",
      "States": {
        "3": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 42.91723,
            "posY": 1.51339245,
            "posZ": -28.1392,
            "rotX": 359.920135,
            "rotY": 269.999939,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Defend the Settlement",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976643093/F973F0E350ED0DDA4F67A4FE5A7CAE6B28A18F64/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976644710/95CF20052836D52CAD46AEF6DA49CDE60BBEEA9B/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "e1a64e"
        },
        "12": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 42.9172974,
            "posY": 1.51339233,
            "posZ": -28.1392,
            "rotX": 359.920135,
            "rotY": 269.999939,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Uprising",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976731136/EA542F6BA38D5FF4606D7560404C2191F81DC8C4/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976731448/76EA6CDFF503C4CE62827BB85A95FEEFB7AB2683/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "7ab9d7"
        },
        "4": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.06494,
            "posY": 1.51320422,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.9998,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Extreme Measures",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976667957/CB0CEF6076059ED8C2544DFD3AE8987E59D49486/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976668302/C33356182C5B2048A78FA29681E0A75E37BD8A7B/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "0e2c71"
        },
        "5": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.06495,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999756,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Destroy the Facility",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976651272/B35932A4E099680A2A4ADD1667390743C8F49ACD/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976651796/CF7C6A62F97836D6DA703DFF1E315881C9A2B9F1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b2e92a"
        },
        "6": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.0649567,
            "posY": 1.51320457,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999725,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: The Purging",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976727907/59FC1FA88356ED0E7D1F595C013E5B8DD0974870/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976728367/5D1E60111E0581A77782D81777448DFBD2A20F6C/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "215589"
        },
        "7": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.06496,
            "posY": 1.51320446,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.9997,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Mindshackle Abduction",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976695528/329F760FA20F3EA6F69F1626991CE3A3FE74350C/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976695844/CC650FB43375B5368965D6BF682400057844E02C/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "3f18bf"
        },
        "8": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.06497,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999664,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Rescue",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976696588/82AA3978B5BD36C03C87821826D82AF9AC02D2D2/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976696970/B5C04A9D0F027371D86093E25C11462B27205EDF/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b6a9d3"
        },
        "9": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.0649757,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999634,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Revive The Shrine",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976697611/19A9821C7070EA76DEAAE31001B3A29EDAAB1878/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976697976/9BC573E4BF29C4356635D3731CFCAF969A9C1CDB/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "87e523"
        },
        "10": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.0649948,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.9995,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Stowaway",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976711371/9B18275EA4325BD5824B05DF3DBA549F46741DD5/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976711816/3287153359D669FEFBD96C265EF5A98DAE32474D/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4c7050"
        },
        "11": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.065,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999481,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: The Cull",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976725755/5649DDD98C75178B00D7172C9E08B195253631F2/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976726123/3F3A6D9B62F0C8A25B80726740D39E7E0A2E3DD0/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1c2fb7"
        },
        "2": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.0650063,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999451,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Daring Ambush",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976638079/9079C0A1AC8E8D275BED9EA2F33B93AEB56DEF10/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976638568/EBE170C40D913773CE7FB9159D0D7B33D2816718/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "bd9e9e"
        },
        "13": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.0650139,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999451,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Vanguard",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976731991/E4FA8699119D6A39D151DF2BABF73150DA8483D1/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976732272/3DA99B4D83F51648611E4EEAC407C035DD431239/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "f5e3e3"
        },
        "14": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.06502,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999451,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Break Their Will",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976607876/62A1763C57ABAA5CE2458558E92F96BD9931C59E/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976608189/3A3447735AF8A818836CDD5AFB1B6FAB561F9659/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "e5c037"
        },
        "15": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.06503,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999451,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Da Mega-Pyre",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976635543/E43DB51CD3AA6A471FA8EE8124CAD5D1E13627FF/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976635920/D85500D309A6BFD4F5BBD3CD3277606FE82980DF/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "02af96"
        },
        "16": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.0650368,
            "posY": 1.51320434,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999451,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Desperate Recovery",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976646897/86DDD2971A2AEF29063BDBDAD3746F7D6E395EB5/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976647395/61F4CA8DBCECE478C28198F428C5A62B650AB48A/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "ccea0b"
        },
        "17": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.06504,
            "posY": 1.51320422,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.99942,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Marked For Destruction",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976694150/BCAC2C55EB74C010717B6851450548FA8A1A14E8/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976694588/2C492551D1D33B09E2C2B3AC646ABBF55D313CC2/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "83d0d8"
        },
        "18": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.06505,
            "posY": 1.51320422,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.9994,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Infestation",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976683679/3FD7F591C6645B3334BB0BE77831733F62CA6E8A/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976684124/6A8AAE90E792FB549426D16CFAF49F0B95FB1D34/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "c3ab52"
        },
        "19": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.0650558,
            "posY": 1.51320422,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.9994,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Forward Position",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976672954/9416CF1D11D609D3D18800350E66DD44294B5832/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976673332/57D20E6F4B8E264AB569092B74846EEA7A37DECF/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "22ab8e"
        },
        "20": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.06506,
            "posY": 1.51320422,
            "posZ": -28.0783443,
            "rotX": 359.920135,
            "rotY": 269.999359,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "NP: Light the Beacons",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976685974/323B2CE33351099B2B38541A3C8DFCC5C3EF4CC0/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976686351/B719BF22FEDA953685B400C544E44F60C087E54E/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "01989a"
        }
      }
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 2.44470048,
        "posY": 1.4785918,
        "posZ": 1.66629982,
        "rotX": 359.920074,
        "rotY": 269.999634,
        "rotZ": 0.0169219356,
        "scaleX": 0.2911521,
        "scaleY": 1.0,
        "scaleZ": 0.2911521
      },
      "Nickname": "[b]Shaken[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.627,
        "g": 0.124999829,
        "b": 0.941
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886937308/08ED346CFCB04AC096423AED44A8F2661042A59E/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886941613/8A2E9CC136EB628B7092DF2B739E07E8011DF01E/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "14791f"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 3.264701,
        "posY": 1.47500443,
        "posZ": -6.633701,
        "rotX": 359.9201,
        "rotY": 269.999817,
        "rotZ": 0.0168448649,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Fall Back[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.1289998,
        "g": 0.694,
        "b": 0.606999934
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886941091/0EE4A94A070A08FA50DD14625FED4776446962BE/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935931/83E55AB6BE501486333B0BF677071EC284F5850F/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "166d28"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 3.26470065,
        "posY": 1.47566688,
        "posZ": -4.383701,
        "rotX": 359.9201,
        "rotY": 269.999451,
        "rotZ": 0.0168528147,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Charge[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.1289998,
        "g": 0.694,
        "b": 0.606999934
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886943908/14701A7813302F36C3CAD8CEE89D376A00B0C153/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935931/83E55AB6BE501486333B0BF677071EC284F5850F/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "17fc7f"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 6.16480064,
        "posY": 1.475302,
        "posZ": 8.106401,
        "rotX": 359.920135,
        "rotY": 270.0003,
        "rotZ": 0.0168948118,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Advance[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.117999829,
        "g": 0.53,
        "b": 1.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886945459/DBE4057A156D7230100E0E213FF22F11F751602F/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886934811/E5B6AEC06CEBDCC2B0DE979D626739FFF946B442/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "1a4a13"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 14.612505,
        "posY": 1.46266866,
        "posZ": 5.198101,
        "rotX": 359.920135,
        "rotY": 269.982239,
        "rotZ": 0.0169003736,
        "scaleX": 0.508209646,
        "scaleY": 1.0,
        "scaleZ": 0.508209646
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313470/15585C097BA4309CB2981F273CAC56E3AF0F7F7D/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.25,
          "Stackable": false,
          "Stretch": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "25aef5",
      "States": {
        "2": {
          "Name": "Custom_Model",
          "Transform": {
            "posX": 16.880085,
            "posY": 1.440762,
            "posZ": -53.4807625,
            "rotX": 359.920044,
            "rotY": 270.030731,
            "rotZ": 0.0167835,
            "scaleX": 0.8,
            "scaleY": 0.8,
            "scaleZ": 0.8
          },
          "Nickname": "2\" Objective Sphere",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomMesh": {
            "MeshURL": "https://my.mixtape.moe/emagjw.obj",
            "DiffuseURL": "",
            "NormalURL": "",
            "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
            "Convex": true,
            "MaterialIndex": 1,
            "TypeIndex": 0,
            "CastShadows": true
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "72bbf1"
        }
      }
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 45.6758156,
        "posY": 2.80543733,
        "posZ": 42.7949142,
        "rotX": 0.0168899316,
        "rotY": 179.995667,
        "rotZ": 0.0800251961,
        "scaleX": 0.5500004,
        "scaleY": 0.5500004,
        "scaleZ": 0.5500004
      },
      "Nickname": "Veteran",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 23.0000019,
            "posY": 6.052157,
            "posZ": 7.0,
            "rotX": -1.51830482E-05,
            "rotY": 180.0002,
            "rotZ": 0.00155202043,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Veteran Level 3 - Roll with the Hits",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173487068095/3F9A2EBEF97BA4103F08259B9E1F295589527862/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "8e88f1"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 23.0,
            "posY": 6.05209732,
            "posZ": 6.99999952,
            "rotX": 0.000207238059,
            "rotY": 180.005508,
            "rotZ": 0.00045336294,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Veteran Level 2 - Well Drilled",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173487066979/2CC6634CFC36E85AC389886706A1300686F01791/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "e00a73"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 22.0,
            "posY": 6.0520606,
            "posZ": 6.99999952,
            "rotX": 3.20828485E-06,
            "rotY": 180.008026,
            "rotZ": -3.15802765E-07,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Veteran Level 1 - Adaptive Tactics",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173487065531/28CD0C67DFE34A3E4C8EEA4A2711627ADBD303EB/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "db439f"
        }
      ],
      "GUID": "30e7a9"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 20.8939,
        "posY": 1.4391,
        "posZ": -45.0018,
        "rotX": 0.01690682,
        "rotY": 179.974487,
        "rotZ": 0.07986842,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Tactical Re-roll",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486397816/2FF6B1363454BB836C0EB9C21F8355564580C64D/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "31db30"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.4407158,
        "posY": 2.80372334,
        "posZ": 54.7978134,
        "rotX": 0.0168819949,
        "rotY": 180.000122,
        "rotZ": 0.08000234,
        "scaleX": 0.5500004,
        "scaleY": 0.5500004,
        "scaleZ": 0.5500004
      },
      "Nickname": "Leader",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 20.162405,
            "posY": 4.22743464,
            "posZ": 24.494524,
            "rotX": 359.970062,
            "rotY": 359.977631,
            "rotZ": 0.2860378,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Leader Level 2 - Fire on my Target",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486454176/C6BC3F59EFC713B2E5D8712CA74572FBD1A83FB5/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "0d98d2"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 20.1637268,
            "posY": 4.0444293,
            "posZ": 29.4948864,
            "rotX": 2.863177E-07,
            "rotY": 359.979279,
            "rotZ": 2.32750779E-07,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Leader Level 3 - Force of Will",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486463119/BD45762454A47811F0A5CDDC00DBB6CA3B6E59CA/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1971d2"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 20.1636887,
            "posY": 4.0444293,
            "posZ": 19.49497,
            "rotX": -1.39073933E-07,
            "rotY": 359.985168,
            "rotZ": 2.27099719E-07,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Leader Level 1 - Lead By Example",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486441344/E9C385523B81E16A23AC2E0E938A7E06362739A8/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "3e468a"
        }
      ],
      "GUID": "367a30"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 20.89,
        "posY": 1.4488,
        "posZ": 35.7339,
        "rotX": 0.0163155161,
        "rotY": 8.14222E-13,
        "rotZ": 0.0799912959,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Tactical Re-roll",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486397816/2FF6B1363454BB836C0EB9C21F8355564580C64D/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "39f38d"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 13.46,
        "posY": 1.4488,
        "posZ": 45.0679,
        "rotX": 0.01690143,
        "rotY": 1.628444E-12,
        "rotZ": 0.0798717961,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Decisive Move",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486356871/CDEAF080A7B285E5517244350F8B105683BC9706/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "3aaec5"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 3.26580119,
        "posY": 1.47630036,
        "posZ": -2.22750044,
        "rotX": 359.920135,
        "rotY": 270.0446,
        "rotZ": 0.0168219171,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Move [/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.1289998,
        "g": 0.694,
        "b": 0.606999934
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886933429/292F4DFFC1C53044AF0AC08CA2B0D54716C2E2FD/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935931/83E55AB6BE501486333B0BF677071EC284F5850F/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "426017"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 46.2103157,
        "posY": 2.777558,
        "posZ": -49.3446,
        "rotX": 359.983124,
        "rotY": -0.00131554343,
        "rotZ": 359.919952,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Strategist",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 30.0,
            "posY": 5.97980261,
            "posZ": -32.5,
            "rotX": -3.97499243E-05,
            "rotY": 180.001556,
            "rotZ": -3.91561043E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Strategist Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/951838881991975291/719749FD107D52DB0D4C7ED46C0BA965E5FB8416/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "9e9dc6"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 30.0,
            "posY": 5.978095,
            "posZ": -22.5,
            "rotX": -4.5973767E-08,
            "rotY": 180.006058,
            "rotZ": 3.92442E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Strategist Level 1 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/951838881991972816/D7EE106F8E29D477E5013F50F95F84EF45E5F5E8/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4bcdaa"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 30.0,
            "posY": 5.97809553,
            "posZ": -27.5,
            "rotX": 7.200032E-08,
            "rotY": 180.004211,
            "rotZ": 1.16284813E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Strategist Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/951838881991973638/8082874FBD515E439484236EEEA5FF5798AD22F3/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "055c41"
        }
      ],
      "GUID": "472c35"
    },
    {
      "Name": "Deck",
      "Transform": {
        "posX": 14.1539059,
        "posY": 1.53052318,
        "posZ": -13.0150061,
        "rotX": 359.920135,
        "rotY": 269.998047,
        "rotZ": 0.0168764051,
        "scaleX": 1.53204679,
        "scaleY": 1.0,
        "scaleZ": 1.53204679
      },
      "Nickname": "Scouting Phase",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.713235259,
        "g": 0.713235259,
        "b": 0.713235259
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": true,
      "Hands": false,
      "SidewaysCard": false,
      "DeckIDs": [
        2800,
        2801,
        2802,
        2803,
        2804,
        2805
      ],
      "CustomDeck": {
        "28": {
          "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
          "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
          "NumWidth": 6,
          "NumHeight": 2,
          "BackIsHidden": false,
          "UniqueBack": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.003076,
            "posY": 1.15405774,
            "posZ": 2.49982524,
            "rotX": 0.00456872024,
            "rotY": 180.013947,
            "rotZ": 177.717361,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2800,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4ea72e"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000012,
            "posY": 1.181304,
            "posZ": 7.5000186,
            "rotX": 359.993317,
            "rotY": 180.0,
            "rotZ": -0.004245702,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2801,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "d95730"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000002,
            "posY": 1.19881546,
            "posZ": 7.500003,
            "rotX": -0.000720543438,
            "rotY": 180.0,
            "rotZ": -0.000527374,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2802,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "2ef780"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000002,
            "posY": 1.18492126,
            "posZ": 7.500003,
            "rotX": -0.000709529268,
            "rotY": 180.0,
            "rotZ": -0.000519943947,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2803,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "8df453"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000002,
            "posY": 1.18300509,
            "posZ": 7.50000238,
            "rotX": -0.000680288358,
            "rotY": 180.0,
            "rotZ": -0.000499305956,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2804,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5b1afc"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000002,
            "posY": 1.18577909,
            "posZ": 7.50000238,
            "rotX": -0.00064862147,
            "rotY": 180.0,
            "rotZ": -0.0004774299,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2805,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5ecd24"
        }
      ],
      "GUID": "4732c2"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 1.2147001,
        "posY": 1.482203,
        "posZ": 8.106401,
        "rotX": 359.920135,
        "rotY": 270.0006,
        "rotZ": 0.0168883875,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Advance[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.627,
        "g": 0.124999829,
        "b": 0.941
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886944916/C8F5A8CA4E0DE471A193DE9D6F67E3372E44C3E9/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935313/5C4198CD633F35ACEE54D5609A79A08412F068F2/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "494c61"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.444416,
        "posY": 2.8013618,
        "posZ": 46.7978134,
        "rotX": 0.016894931,
        "rotY": 179.998062,
        "rotZ": 0.0799822,
        "scaleX": 0.5500004,
        "scaleY": 0.5500004,
        "scaleZ": 0.5500004
      },
      "Nickname": "Comms",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 22.99891,
            "posY": 6.03302431,
            "posZ": -7.99959946,
            "rotX": 1.59368289,
            "rotY": 180.026321,
            "rotZ": -0.001943476,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Comms Level 3 - New Intelligence",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486545526/C1DE1906770270F9DD25A34654F37F73D1BBB7E1/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1693fd"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 23.0001278,
            "posY": 6.033418,
            "posZ": -7.99902534,
            "rotX": 1.45825672,
            "rotY": 180.012268,
            "rotZ": -0.00428564753,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Comms Level 2 - Scanner Upload",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486546279/F3C66629A8861707A84DBE379D1233D2904B05B6/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5f47c9"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 31.7395821,
            "posY": 4.196089,
            "posZ": 36.8682861,
            "rotX": 0.1320162,
            "rotY": 179.993744,
            "rotZ": 0.1925748,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Comms Level 1 - Rousing Transmission",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486544924/50085ACC77982D05F61B22E0A6D7C96D3AC7F8E4/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "712463"
        }
      ],
      "GUID": "4a1025"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 1.21470034,
        "posY": 1.48084235,
        "posZ": 3.4864006,
        "rotX": 359.9201,
        "rotY": 270.0003,
        "rotZ": 0.0168526527,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Shoot[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.627,
        "g": 0.124999829,
        "b": 0.941
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935313/5C4198CD633F35ACEE54D5609A79A08412F068F2/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935313/5C4198CD633F35ACEE54D5609A79A08412F068F2/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4ce368"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 8.224801,
        "posY": 1.46808946,
        "posZ": -6.63370132,
        "rotX": 359.920135,
        "rotY": 269.999939,
        "rotZ": 0.0168704931,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Fall Back[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391995,
        "b": 0.112995021
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173490519293/296216F1439A987B596DD781D828EE975A9D7777/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173490722307/B317E8B9AAE84A14F097D65F1A2C707D38284E60/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4e73a7"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 14.6306038,
        "posY": 1.45953012,
        "posZ": -5.37410069,
        "rotX": 359.920074,
        "rotY": 270.035217,
        "rotZ": 0.0168031622,
        "scaleX": 0.508209646,
        "scaleY": 1.0,
        "scaleZ": 0.508209646
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314661/D52D33F1840F8DB3A19344F7E6A8F8A9110D5B3E/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.25,
          "Stackable": false,
          "Stretch": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "562cde",
      "States": {
        "2": {
          "Name": "Custom_Model",
          "Transform": {
            "posX": 4.58239746,
            "posY": 1.4582324,
            "posZ": -52.3730545,
            "rotX": 359.920044,
            "rotY": 270.0308,
            "rotZ": 0.0167829413,
            "scaleX": 0.8,
            "scaleY": 0.8,
            "scaleZ": 0.8
          },
          "Nickname": "2\" Objective Sphere",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomMesh": {
            "MeshURL": "https://my.mixtape.moe/emagjw.obj",
            "DiffuseURL": "",
            "NormalURL": "",
            "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
            "Convex": true,
            "MaterialIndex": 1,
            "TypeIndex": 0,
            "CastShadows": true
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "2d0fdd"
        }
      }
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.4445152,
        "posY": 2.80254,
        "posZ": 50.7978134,
        "rotX": 0.0169023387,
        "rotY": 179.999146,
        "rotZ": 0.0800095648,
        "scaleX": 0.5500004,
        "scaleY": 0.5500004,
        "scaleZ": 0.5500004
      },
      "Nickname": "Combat",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 18.9994831,
            "posY": 6.05299664,
            "posZ": -6.0000906,
            "rotX": 0.0067583276,
            "rotY": 180.007339,
            "rotZ": 359.953552,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Combat Level 3 - Deadly Charge",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486489166/D3FFB0FB62CE2D436FE22F292CFA2A50EE653CF0/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "abdc7e"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 17.0003338,
            "posY": 6.02940941,
            "posZ": -6.00014353,
            "rotX": -0.000535935047,
            "rotY": 180.00322,
            "rotZ": 358.6923,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Combat Level 2 - Defensive Fighter",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486488387/15A42509C53CC360068498EDFCE18CC2287CA9BD/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "366e17"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 17.0003777,
            "posY": 6.02935743,
            "posZ": -6.00014448,
            "rotX": -0.0006575683,
            "rotY": 179.977737,
            "rotZ": 358.69104,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Combat Level 1 - Up and at 'Em!",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486487413/62AFC806A162AC3911C5E09E6DC62B6AD83EBA10/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b38f05"
        }
      ],
      "GUID": "59ff1c"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 14.5138025,
        "posY": 1.46170723,
        "posZ": 1.46650028,
        "rotX": 359.920074,
        "rotY": 269.9781,
        "rotZ": 0.0168696214,
        "scaleX": 0.508209646,
        "scaleY": 1.0,
        "scaleZ": 0.508209646
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313874/ECF016C27A2471C16013396BB4D97893DE4F5B4B/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.25,
          "Stackable": false,
          "Stretch": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5b15f3",
      "States": {
        "2": {
          "Name": "Custom_Model",
          "Transform": {
            "posX": 13.0735149,
            "posY": 1.44609141,
            "posZ": -53.403492,
            "rotX": 359.920044,
            "rotY": 270.030731,
            "rotZ": 0.0167922247,
            "scaleX": 0.8,
            "scaleY": 0.8,
            "scaleZ": 0.8
          },
          "Nickname": "2\" Objective Sphere",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomMesh": {
            "MeshURL": "https://my.mixtape.moe/emagjw.obj",
            "DiffuseURL": "",
            "NormalURL": "",
            "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
            "Convex": true,
            "MaterialIndex": 1,
            "TypeIndex": 0,
            "CastShadows": true
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "299209"
        }
      }
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 1.21470046,
        "posY": 1.479158,
        "posZ": -2.23370051,
        "rotX": 359.9201,
        "rotY": 270.0005,
        "rotZ": 0.0168520883,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Advance[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.1289998,
        "g": 0.694,
        "b": 0.606999934
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886944409/9F365AFE5D10B2D813E5A734DA38674B4D37C82E/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935931/83E55AB6BE501486333B0BF677071EC284F5850F/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5c006d"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 13.46,
        "posY": 1.4488,
        "posZ": 40.3344,
        "rotX": 0.01690152,
        "rotY": 7.32799845E-12,
        "rotZ": 0.07986912,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Decisive Strike",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486385658/537D4AEB0BB69A711911E3D1B2BB6CD865BCC8AB/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5cf140"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 13.4643,
        "posY": 1.4495,
        "posZ": -44.9996,
        "rotX": 0.0169021878,
        "rotY": 179.979858,
        "rotZ": 0.0798696354,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Insane Bravery",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486387020/CDA3C4A509641C5DD94D7C11680594A5AC0F58FF/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "638bf0"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 6.16480064,
        "posY": 1.47463059,
        "posZ": 5.82640076,
        "rotX": 359.920074,
        "rotY": 269.9999,
        "rotZ": 0.01684484,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Ready[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.117999829,
        "g": 0.53,
        "b": 1.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886938959/3F703A04470B6F1259B4D13FB2712CDEAE078668/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886934811/E5B6AEC06CEBDCC2B0DE979D626739FFF946B442/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "65b129"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 20.8975,
        "posY": 1.4405,
        "posZ": -40.4,
        "rotX": 0.0168995932,
        "rotY": 179.97966,
        "rotZ": 0.0798681751,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Gritted Teeth",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486405959/B76DF2F14ECCC20933026050F94935A739172696/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "6a2b53"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 14.5147038,
        "posY": 1.45880389,
        "posZ": -8.390003,
        "rotX": 359.920135,
        "rotY": 269.990723,
        "rotZ": 0.016918024,
        "scaleX": 0.508209646,
        "scaleY": 1.0,
        "scaleZ": 0.508209646
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314983/B5C262252AE58FBBCBDF330157C19BD8937B2452/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.25,
          "Stackable": false,
          "Stretch": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "6bb444",
      "States": {
        "2": {
          "Name": "Custom_Model",
          "Transform": {
            "posX": -0.220573977,
            "posY": 1.46524155,
            "posZ": -51.3091164,
            "rotX": 359.92,
            "rotY": 270.030853,
            "rotZ": 0.0167789552,
            "scaleX": 0.8,
            "scaleY": 0.8,
            "scaleZ": 0.8
          },
          "Nickname": "2\" Objective Sphere",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomMesh": {
            "MeshURL": "https://my.mixtape.moe/emagjw.obj",
            "DiffuseURL": "",
            "NormalURL": "",
            "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
            "Convex": true,
            "MaterialIndex": 1,
            "TypeIndex": 0,
            "CastShadows": true
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1f6ab4"
        }
      }
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 20.89,
        "posY": 1.4488,
        "posZ": 40.3339,
        "rotX": 0.0168995932,
        "rotY": 0.0,
        "rotZ": 0.0798681751,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Gritted Teeth",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486405959/B76DF2F14ECCC20933026050F94935A739172696/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "6cd45e"
    },
    {
      "Name": "Deck",
      "Transform": {
        "posX": 14.6082087,
        "posY": 1.53724456,
        "posZ": 11.961,
        "rotX": 359.920135,
        "rotY": 269.999146,
        "rotZ": 0.0168755688,
        "scaleX": 1.53204679,
        "scaleY": 1.0,
        "scaleZ": 1.53204679
      },
      "Nickname": "Scouting Phase",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.713235259,
        "g": 0.713235259,
        "b": 0.713235259
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": true,
      "Hands": false,
      "SidewaysCard": false,
      "DeckIDs": [
        2800,
        2801,
        2802,
        2803,
        2804,
        2805
      ],
      "CustomDeck": {
        "28": {
          "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
          "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
          "NumWidth": 6,
          "NumHeight": 2,
          "BackIsHidden": false,
          "UniqueBack": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.003076,
            "posY": 1.15405774,
            "posZ": 2.49982524,
            "rotX": 0.00456872024,
            "rotY": 180.013947,
            "rotZ": 177.717361,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2800,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4ea72e"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000012,
            "posY": 1.181304,
            "posZ": 7.5000186,
            "rotX": 359.993317,
            "rotY": 180.0,
            "rotZ": -0.004245702,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2801,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "d95730"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000002,
            "posY": 1.19881546,
            "posZ": 7.500003,
            "rotX": -0.000720543438,
            "rotY": 180.0,
            "rotZ": -0.000527374,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2802,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "2ef780"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000002,
            "posY": 1.18492126,
            "posZ": 7.500003,
            "rotX": -0.000709529268,
            "rotY": 180.0,
            "rotZ": -0.000519943947,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2803,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "8df453"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000002,
            "posY": 1.18300509,
            "posZ": 7.50000238,
            "rotX": -0.000680288358,
            "rotY": 180.0,
            "rotZ": -0.000499305956,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2804,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5b1afc"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -6.000002,
            "posY": 1.18577909,
            "posZ": 7.50000238,
            "rotX": -0.00064862147,
            "rotY": 180.0,
            "rotZ": -0.0004774299,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": true,
          "CardID": 2805,
          "SidewaysCard": false,
          "CustomDeck": {
            "28": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/952960648616015183/4EB9941A97B89ECDBAD9E56E67CE08716D72A565/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/952960648615974482/443CB53CF139F02C7615926CC14FAED858C5D935/",
              "NumWidth": 6,
              "NumHeight": 2,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5ecd24"
        }
      ],
      "GUID": "6e327c"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 6.171003,
        "posY": 1.47224844,
        "posZ": -2.23320079,
        "rotX": 359.9202,
        "rotY": 269.7108,
        "rotZ": 0.0172436051,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Advance[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391995043,
        "b": 0.112995051
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173490566802/FD0DF8D416AD74BBDE72A3B36F0A5A9D873BD407/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173490722307/B317E8B9AAE84A14F097D65F1A2C707D38284E60/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "6eba0c"
    },
    {
      "Name": "Bag",
      "Transform": {
        "posX": 54.964016,
        "posY": 1.31496263,
        "posZ": 0.168199331,
        "rotX": 1.17419995E-05,
        "rotY": 89.97874,
        "rotZ": 1.778291E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "Elites Missions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391999632,
        "b": 0.11299964
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "XmlUI": "",
      "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
      "LuaScriptState": "{\"ml\":{\"53e5c8\":{\"lock\":false,\"pos\":{\"x\":50.72,\"y\":1.2273,\"z\":5.14},\"rot\":{\"x\":0.08,\"y\":90.002,\"z\":359.9831}},\"797568\":{\"lock\":false,\"pos\":{\"x\":50.72,\"y\":1.2242,\"z\":-5.37},\"rot\":{\"x\":0.0799,\"y\":90.0019,\"z\":359.9831}}}}",
      "ContainedObjects": [
        {
          "Name": "Bag",
          "Transform": {
            "posX": 50.7200127,
            "posY": 1.2272805,
            "posZ": 5.139999,
            "rotX": 0.07997712,
            "rotY": 90.00304,
            "rotZ": 359.9831,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Matched Play",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.856,
            "g": 0.09999963,
            "b": 0.09399962
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"037126\":{\"lock\":false,\"pos\":{\"x\":41.9043,\"y\":1.237,\"z\":-3.7491},\"rot\":{\"x\":0.08,\"y\":90.0005,\"z\":359.9831}},\"234ce0\":{\"lock\":false,\"pos\":{\"x\":41.9044,\"y\":1.2394,\"z\":4.4337},\"rot\":{\"x\":0.0799,\"y\":90.0002,\"z\":359.9831}},\"3a2502\":{\"lock\":false,\"pos\":{\"x\":41.9044,\"y\":1.2342,\"z\":-12.9791},\"rot\":{\"x\":0.08,\"y\":90.0002,\"z\":359.9831}},\"3c417f\":{\"lock\":false,\"pos\":{\"x\":41.9044,\"y\":1.2419,\"z\":12.931},\"rot\":{\"x\":0.08,\"y\":90.0002,\"z\":359.9831}},\"5710b1\":{\"lock\":false,\"pos\":{\"x\":37.6745,\"y\":1.2894,\"z\":12.9318},\"rot\":{\"x\":0.08,\"y\":90.0001,\"z\":359.9831}},\"e94231\":{\"lock\":false,\"pos\":{\"x\":37.6737,\"y\":1.2818,\"z\":-12.9781},\"rot\":{\"x\":0.08,\"y\":90,\"z\":359.9831}},\"ef4e6b\":{\"lock\":false,\"pos\":{\"x\":37.673,\"y\":1.2845,\"z\":-3.7479},\"rot\":{\"x\":0.08,\"y\":90.0002,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Bag",
              "Transform": {
                "posX": 41.90431,
                "posY": 1.23695338,
                "posZ": -3.74910235,
                "rotX": 0.0799486339,
                "rotY": 90.00054,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Objective Ultima",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"107a76\":{\"lock\":true,\"pos\":{\"x\":-23,\"y\":2,\"z\":-9.35},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"159825\":{\"lock\":true,\"pos\":{\"x\":-13,\"y\":2,\"z\":8.65},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"31f063\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2,\"z\":-7.35},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"857734\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2,\"z\":6.65},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"8fd1b2\":{\"lock\":true,\"pos\":{\"x\":-23,\"y\":2,\"z\":8.65},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"cfd92a\":{\"lock\":true,\"pos\":{\"x\":-13,\"y\":2,\"z\":-9.35},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.0,
                    "posY": 2.0,
                    "posZ": -9.35,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 2.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996253,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "cfd92a"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.0,
                    "posZ": -7.35,
                    "rotX": 0.07987864,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00015879,
                    "scaleY": 1.0,
                    "scaleZ": 5.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996253,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "31f063"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.0,
                    "posY": 2.0,
                    "posZ": -9.35,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 2.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996253,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "107a76"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.0,
                    "posZ": 6.65,
                    "rotX": 0.07987851,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016677,
                    "scaleY": 1.0,
                    "scaleZ": 5.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999857,
                    "b": 0.09399856
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "857734"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.0,
                    "posY": 2.0,
                    "posZ": 8.65,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 2.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999857,
                    "b": 0.09399856
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "159825"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.0,
                    "posY": 2.0,
                    "posZ": 8.65,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 2.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999857,
                    "b": 0.09399856
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "8fd1b2"
                }
              ],
              "GUID": "037126"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 41.90441,
                "posY": 1.239362,
                "posZ": 4.43369961,
                "rotX": 0.08000651,
                "rotY": 90.00018,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Crush Their Champions",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"130a8d\":{\"lock\":true,\"pos\":{\"x\":-10,\"y\":2,\"z\":3.65},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"21d87d\":{\"lock\":true,\"pos\":{\"x\":-26,\"y\":2,\"z\":-4.35},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"3e4329\":{\"lock\":true,\"pos\":{\"x\":-10,\"y\":2,\"z\":-4.35},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"56621b\":{\"lock\":true,\"pos\":{\"x\":-30,\"y\":2,\"z\":-0.35},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"7ad2f2\":{\"lock\":true,\"pos\":{\"x\":-14,\"y\":2,\"z\":-0.35},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"810b2c\":{\"lock\":true,\"pos\":{\"x\":-22,\"y\":2,\"z\":-0.35},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"cb26a4\":{\"lock\":true,\"pos\":{\"x\":-6,\"y\":2,\"z\":-0.35},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"e833ab\":{\"lock\":true,\"pos\":{\"x\":-26,\"y\":2,\"z\":3.65},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -6.0,
                    "posY": 2.0,
                    "posZ": -0.35,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 4.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999857,
                    "b": 0.09399856
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "cb26a4"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.0,
                    "posY": 2.0,
                    "posZ": -4.35,
                    "rotX": 0.07987848,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016677,
                    "scaleY": 1.0,
                    "scaleZ": 4.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999857,
                    "b": 0.09399856
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "3e4329"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.0,
                    "posY": 2.0,
                    "posZ": 3.65,
                    "rotX": 0.07987851,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016677,
                    "scaleY": 1.0,
                    "scaleZ": 4.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999857,
                    "b": 0.09399856
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "130a8d"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -14.0,
                    "posY": 2.0,
                    "posZ": -0.35,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 4.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999857,
                    "b": 0.09399856
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "7ad2f2"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -22.0,
                    "posY": 2.0,
                    "posZ": -0.35,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 4.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996253,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "810b2c"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -26.0,
                    "posY": 2.0,
                    "posZ": 3.65,
                    "rotX": 0.0798786059,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00015879,
                    "scaleY": 1.0,
                    "scaleZ": 4.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996253,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "e833ab"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -30.0,
                    "posY": 2.0,
                    "posZ": -0.35,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 4.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996253,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "56621b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -26.0,
                    "posY": 2.0,
                    "posZ": -4.35,
                    "rotX": 0.0798785761,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00015879,
                    "scaleY": 1.0,
                    "scaleZ": 4.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996253,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "21d87d"
                }
              ],
              "GUID": "234ce0"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 41.9044075,
                "posY": 1.23423481,
                "posZ": -12.9791031,
                "rotX": 0.07995848,
                "rotY": 90.00015,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Shifting Priorities",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"8ef1d9\":{\"lock\":true,\"pos\":{\"x\":-8.06,\"y\":2.5,\"z\":-5.89},\"rot\":{\"x\":0.0428,\"y\":42.27,\"z\":359.9305}},\"cc7344\":{\"lock\":true,\"pos\":{\"x\":-28.05,\"y\":2.5,\"z\":5.14},\"rot\":{\"x\":359.9201,\"y\":42.27,\"z\":0.0169}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -8.06,
                    "posY": 2.5,
                    "posZ": -5.89,
                    "rotX": 0.04281897,
                    "rotY": 42.27,
                    "rotZ": 359.930481,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 7.44
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124997787,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "8ef1d9"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.05,
                    "posY": 2.5,
                    "posZ": 5.14,
                    "rotX": 359.9201,
                    "rotY": 42.27,
                    "rotZ": 0.0168818925,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 7.44
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999977961,
                    "b": 0.09399777
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "cc7344"
                }
              ],
              "GUID": "3a2502"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 41.9044075,
                "posY": 1.2418654,
                "posZ": 12.931,
                "rotX": 0.07995601,
                "rotY": 90.00005,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Escalating Conflict",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"07f39d\":{\"lock\":true,\"pos\":{\"x\":-14,\"y\":2,\"z\":-5.85},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"d092ce\":{\"lock\":true,\"pos\":{\"x\":-8.5,\"y\":2,\"z\":-0.35},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"d88d44\":{\"lock\":true,\"pos\":{\"x\":-22,\"y\":2,\"z\":5.15},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"de1d4b\":{\"lock\":true,\"pos\":{\"x\":-27.5,\"y\":2,\"z\":-0.35},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -8.5,
                    "posY": 2.0,
                    "posZ": -0.35,
                    "rotX": 0.07987838,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016677,
                    "scaleY": 1.0,
                    "scaleZ": 5.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999987051,
                    "b": 0.09399868
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "d092ce"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -14.0,
                    "posY": 2.0,
                    "posZ": -5.85,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 5.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999987051,
                    "b": 0.09399868
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "07f39d"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -27.5,
                    "posY": 2.0,
                    "posZ": -0.35,
                    "rotX": 0.07987848,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00015879,
                    "scaleY": 1.0,
                    "scaleZ": 5.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996372,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "de1d4b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -22.0,
                    "posY": 2.0,
                    "posZ": 5.15,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 5.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996372,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "d88d44"
                }
              ],
              "GUID": "3c417f"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 37.6745033,
                "posY": 1.289393,
                "posZ": 12.9318,
                "rotX": 0.07997538,
                "rotY": 90.00024,
                "rotZ": 359.9831,
                "scaleX": 0.7750002,
                "scaleY": 0.7750002,
                "scaleZ": 0.7750002
              },
              "Nickname": "Objective",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"91a451\":{\"lock\":true,\"pos\":{\"x\":-17.9996,\"y\":1.6382,\"z\":-0.3501},\"rot\":{\"x\":359.9201,\"y\":269.9999,\"z\":180.0168}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -17.75699,
                    "posY": 1.63676631,
                    "posZ": -0.296557724,
                    "rotX": 359.9201,
                    "rotY": 269.999939,
                    "rotZ": 180.016846,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310430/FCC68A22CEA5301DB1B24A1C96181B82416193DB/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "91a451",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -17.9996281,
                        "posY": 1.63817644,
                        "posZ": -0.3500775,
                        "rotX": 359.9201,
                        "rotY": 269.999939,
                        "rotZ": 180.016846,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "3d814b"
                    }
                  }
                }
              ],
              "GUID": "5710b1"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 37.6737022,
                "posY": 1.281765,
                "posZ": -12.9781017,
                "rotX": 0.08000456,
                "rotY": 90.00015,
                "rotZ": 359.9831,
                "scaleX": 0.7750002,
                "scaleY": 0.7750002,
                "scaleZ": 0.7750002
              },
              "Nickname": "Objectives",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"4fd008\":{\"lock\":true,\"pos\":{\"x\":-17.9999,\"y\":1.5034,\"z\":-5.85},\"rot\":{\"x\":359.9201,\"y\":269.9836,\"z\":0.0169}},\"58d101\":{\"lock\":true,\"pos\":{\"x\":-25.4999,\"y\":1.5155,\"z\":-0.35},\"rot\":{\"x\":359.9201,\"y\":269.9784,\"z\":0.0169}},\"6bf9f9\":{\"lock\":true,\"pos\":{\"x\":-10.4999,\"y\":1.4946,\"z\":-0.35},\"rot\":{\"x\":359.9201,\"y\":270.0039,\"z\":0.0168}},\"aa03ff\":{\"lock\":true,\"pos\":{\"x\":-17.9999,\"y\":1.5067,\"z\":5.15},\"rot\":{\"x\":359.9201,\"y\":269.983,\"z\":0.0169}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.4999027,
                    "posY": 1.49457788,
                    "posZ": -0.350021422,
                    "rotX": 359.920074,
                    "rotY": 270.0039,
                    "rotZ": 0.0168288574,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310430/FCC68A22CEA5301DB1B24A1C96181B82416193DB/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "6bf9f9",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -10.4999027,
                        "posY": 1.49457777,
                        "posZ": -0.350021422,
                        "rotX": 359.920074,
                        "rotY": 270.0039,
                        "rotZ": 0.0168288555,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "3d814b"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -17.9998951,
                    "posY": 1.50341392,
                    "posZ": -5.85002756,
                    "rotX": 359.920074,
                    "rotY": 269.983643,
                    "rotZ": 0.0168586522,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313470/15585C097BA4309CB2981F273CAC56E3AF0F7F7D/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "4fd008",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -17.9998951,
                        "posY": 1.50341392,
                        "posZ": -5.85002756,
                        "rotX": 359.920074,
                        "rotY": 269.983643,
                        "rotZ": 0.0168586522,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "72bbf1"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.4998817,
                    "posY": 1.51548922,
                    "posZ": -0.350028962,
                    "rotX": 359.920135,
                    "rotY": 269.978363,
                    "rotZ": 0.01692516,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313874/ECF016C27A2471C16013396BB4D97893DE4F5B4B/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "58d101",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -25.4998817,
                        "posY": 1.51548934,
                        "posZ": -0.350028962,
                        "rotX": 359.920135,
                        "rotY": 269.978363,
                        "rotZ": 0.016925158,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "299209"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -17.9998913,
                    "posY": 1.50665307,
                    "posZ": 5.149976,
                    "rotX": 359.920135,
                    "rotY": 269.983032,
                    "rotZ": 0.0169288758,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314265/CB39DB70E8C1BA0506D139BBFFE08E9D593FF1C2/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "aa03ff",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -17.9998913,
                        "posY": 1.50665307,
                        "posZ": 5.149976,
                        "rotX": 359.920135,
                        "rotY": 269.983032,
                        "rotZ": 0.0169288684,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "c16cad"
                    }
                  }
                }
              ],
              "GUID": "e94231"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 37.673008,
                "posY": 1.28448379,
                "posZ": -3.747903,
                "rotX": 0.07998141,
                "rotY": 90.00033,
                "rotZ": 359.9831,
                "scaleX": 0.7750002,
                "scaleY": 0.7750002,
                "scaleZ": 0.7750002
              },
              "Nickname": "Objectives",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"042f43\":{\"lock\":true,\"pos\":{\"x\":-25.5,\"y\":1.6503,\"z\":5.15},\"rot\":{\"x\":359.9201,\"y\":270.0028,\"z\":180.0169}},\"13f33e\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":1.6382,\"z\":-0.35},\"rot\":{\"x\":359.9201,\"y\":269.9998,\"z\":180.0169}},\"35de31\":{\"lock\":true,\"pos\":{\"x\":-10.5001,\"y\":1.6261,\"z\":-5.8501},\"rot\":{\"x\":359.9201,\"y\":270.0008,\"z\":180.0168}},\"4a644a\":{\"lock\":true,\"pos\":{\"x\":-10.5,\"y\":1.6293,\"z\":5.1499},\"rot\":{\"x\":359.9201,\"y\":270.004,\"z\":180.0169}},\"ca4831\":{\"lock\":true,\"pos\":{\"x\":-25.5,\"y\":1.647,\"z\":-5.85},\"rot\":{\"x\":359.9201,\"y\":269.9998,\"z\":180.0169}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.5,
                    "posY": 1.6503,
                    "posZ": 5.15,
                    "rotX": 359.9201,
                    "rotY": 270.002777,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313470/15585C097BA4309CB2981F273CAC56E3AF0F7F7D/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "042f43",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -25.5000057,
                        "posY": 1.65025234,
                        "posZ": 5.14996,
                        "rotX": 359.9201,
                        "rotY": 270.002777,
                        "rotZ": 180.016861,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "72bbf1"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 1.6382,
                    "posZ": -0.35,
                    "rotX": 359.9201,
                    "rotY": 269.999756,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310430/FCC68A22CEA5301DB1B24A1C96181B82416193DB/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "13f33e",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -18.00004,
                        "posY": 1.63817716,
                        "posZ": -0.349991381,
                        "rotX": 359.9201,
                        "rotY": 269.999756,
                        "rotZ": 180.016861,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "3d814b"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.5001,
                    "posY": 1.6261,
                    "posZ": -5.8501,
                    "rotX": 359.920074,
                    "rotY": 270.0008,
                    "rotZ": 180.01683,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314661/D52D33F1840F8DB3A19344F7E6A8F8A9110D5B3E/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "35de31",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -10.5000849,
                        "posY": 1.62610173,
                        "posZ": -5.850105,
                        "rotX": 359.920074,
                        "rotY": 270.0008,
                        "rotZ": 180.01683,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "2d0fdd"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.5,
                    "posY": 1.6293,
                    "posZ": 5.1499,
                    "rotX": 359.9201,
                    "rotY": 270.004028,
                    "rotZ": 180.016876,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313874/ECF016C27A2471C16013396BB4D97893DE4F5B4B/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "4a644a",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -10.5000029,
                        "posY": 1.62934065,
                        "posZ": 5.1499033,
                        "rotX": 359.9201,
                        "rotY": 270.004059,
                        "rotZ": 180.016876,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "299209"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.5,
                    "posY": 1.647,
                    "posZ": -5.85,
                    "rotX": 359.9201,
                    "rotY": 269.999817,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314265/CB39DB70E8C1BA0506D139BBFFE08E9D593FF1C2/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "ca4831",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -25.5000267,
                        "posY": 1.64701331,
                        "posZ": -5.849995,
                        "rotX": 359.9201,
                        "rotY": 269.999847,
                        "rotZ": 180.016861,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "c16cad"
                    }
                  }
                }
              ],
              "GUID": "ef4e6b"
            }
          ],
          "GUID": "53e5c8"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 50.7200127,
            "posY": 1.22418618,
            "posZ": -5.370002,
            "rotX": 0.07997656,
            "rotY": 90.00249,
            "rotZ": 359.9831,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Narrative Play",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.117999636,
            "g": 0.53,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"44715b\":{\"lock\":false,\"pos\":{\"x\":39.61,\"y\":1.2453,\"z\":13.79},\"rot\":{\"x\":0.08,\"y\":89.9893,\"z\":359.9831}},\"6b1ea9\":{\"lock\":false,\"pos\":{\"x\":39.61,\"y\":1.2426,\"z\":4.49},\"rot\":{\"x\":0.08,\"y\":89.9986,\"z\":359.9831}},\"774239\":{\"lock\":false,\"pos\":{\"x\":42.83,\"y\":1.233,\"z\":-12.62},\"rot\":{\"x\":0.0799,\"y\":89.998,\"z\":359.9831}},\"7e28ce\":{\"lock\":false,\"pos\":{\"x\":46.06,\"y\":1.2336,\"z\":4.49},\"rot\":{\"x\":0.0799,\"y\":89.9746,\"z\":359.9831}},\"a45fb4\":{\"lock\":false,\"pos\":{\"x\":46.06,\"y\":1.2311,\"z\":-3.81},\"rot\":{\"x\":0.08,\"y\":89.989,\"z\":359.9831}},\"c06ac8\":{\"lock\":false,\"pos\":{\"x\":46.06,\"y\":1.2363,\"z\":13.79},\"rot\":{\"x\":0.0799,\"y\":89.9904,\"z\":359.9831}},\"fee247\":{\"lock\":false,\"pos\":{\"x\":39.61,\"y\":1.2401,\"z\":-3.81},\"rot\":{\"x\":0.08,\"y\":89.9986,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Bag",
              "Transform": {
                "posX": 39.6100044,
                "posY": 1.24531555,
                "posZ": 13.7900009,
                "rotX": 0.07995662,
                "rotY": 89.98911,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Vital Sabotage B",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"7965ae\":{\"lock\":true,\"pos\":{\"x\":-15.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"89aa7d\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -15.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998473,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "7965ae"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999851,
                    "b": 0.0939985
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "89aa7d"
                }
              ],
              "GUID": "44715b"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 39.61001,
                "posY": 1.242578,
                "posZ": 4.489999,
                "rotX": 0.07998449,
                "rotY": 89.9982147,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Rampage B",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"395e1b\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2.5,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"808a6e\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2.5,\"z\":5.64},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.5,
                    "posZ": 5.64,
                    "rotX": 0.07987851,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 15.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999986455,
                    "b": 0.09399862
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "808a6e"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.5,
                    "posZ": -0.36,
                    "rotX": 0.0798785761,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00020492,
                    "scaleY": 1.0,
                    "scaleZ": 15.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996313,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "395e1b"
                }
              ],
              "GUID": "6b1ea9"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 42.8300133,
                "posY": 1.23304868,
                "posZ": -12.6200018,
                "rotX": 0.0799806938,
                "rotY": 89.99802,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Surrounded",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"05319e\":{\"lock\":true,\"pos\":{\"x\":-28,\"y\":2.4834,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"09bcea\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2.5,\"z\":-7.36},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"0a58d7\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2.4952,\"z\":1.64},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"27aba8\":{\"lock\":true,\"pos\":{\"x\":-8,\"y\":2.4834,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"502d94\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2.4952,\"z\":-2.36},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"c712e1\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2.5,\"z\":6.64},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.5,
                    "posZ": 6.64,
                    "rotX": 0.07987867,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00020492,
                    "scaleY": 1.0,
                    "scaleZ": 15.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999985,
                    "b": 0.0939998254
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c712e1"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -8.0,
                    "posY": 2.4834,
                    "posZ": -0.36,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 2.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999829,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "27aba8"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.4952,
                    "posZ": 1.64,
                    "rotX": 0.0798787,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00020492,
                    "scaleY": 1.0,
                    "scaleZ": 10.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999829,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "0a58d7"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.4952,
                    "posZ": -2.36,
                    "rotX": 0.07987874,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00020492,
                    "scaleY": 1.0,
                    "scaleZ": 10.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999829,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "502d94"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.0,
                    "posY": 2.4834,
                    "posZ": -0.36,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 2.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999829,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "05319e"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.5,
                    "posZ": -7.36,
                    "rotX": 0.0798786059,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 15.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999985,
                    "b": 0.0939998254
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "09bcea"
                }
              ],
              "GUID": "774239"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 46.06001,
                "posY": 1.23358488,
                "posZ": 4.48999929,
                "rotX": 0.0799412057,
                "rotY": 89.97515,
                "rotZ": 359.983063,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Rampage A",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"7cc8c7\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2.5,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"e0052f\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2.5,\"z\":-6.36},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.5,
                    "posZ": -0.36,
                    "rotX": 0.0798785761,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00020492,
                    "scaleY": 1.0,
                    "scaleZ": 15.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996253,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "7cc8c7"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.5,
                    "posZ": -6.36,
                    "rotX": 0.07987851,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 15.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999845,
                    "b": 0.0939984247
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "e0052f"
                }
              ],
              "GUID": "7e28ce"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 46.0600052,
                "posY": 1.23114109,
                "posZ": -3.81000113,
                "rotX": 0.0799555853,
                "rotY": 89.98923,
                "rotZ": 359.983063,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Escape the Facility A",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"0c0a88\":{\"lock\":true,\"pos\":{\"x\":-27,\"y\":2.4993,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -27.0,
                    "posY": 2.49926662,
                    "posZ": -0.36,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999985,
                    "b": 0.0939998254
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "0c0a88"
                }
              ],
              "GUID": "a45fb4"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 46.0600052,
                "posY": 1.23632312,
                "posZ": 13.79,
                "rotX": 0.07995285,
                "rotY": 89.9909744,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Vital Sabotage A",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"1851de\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"a0eed0\":{\"lock\":true,\"pos\":{\"x\":-21.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999845,
                    "b": 0.0939984247
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "1851de"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -21.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998413,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "a0eed0"
                }
              ],
              "GUID": "c06ac8"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 39.6100044,
                "posY": 1.240134,
                "posZ": -3.81000137,
                "rotX": 0.07999287,
                "rotY": 89.9969,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Escape the Facility B",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"4b3848\":{\"lock\":true,\"pos\":{\"x\":-9.02,\"y\":2.5,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -9.02,
                    "posY": 2.5,
                    "posZ": -0.36,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999985,
                    "b": 0.0939998254
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "4b3848"
                }
              ],
              "GUID": "fee247"
            }
          ],
          "GUID": "797568"
        }
      ],
      "GUID": "6f7e82"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 42.878315,
        "posY": 1.42989111,
        "posZ": 27.7066,
        "rotX": 359.920135,
        "rotY": 269.999969,
        "rotZ": 0.0168716237,
        "scaleX": 9.109029,
        "scaleY": 1.0,
        "scaleZ": 9.109029
      },
      "Nickname": "MP: Annihilation Protocols",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976554071/3CE838B1B7E95779642189C499B3076B82D2E526/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976554632/8452CDB1AADD505550E4B38A54BD3979C98C01B1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.1,
          "Stackable": true,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "6fa167",
      "States": {
        "2": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.20418,
            "posY": 1.52948487,
            "posZ": 27.8700542,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Conquest",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976627145/62A598BBBCB4BB8FABDA86AC4545F1823E2B305A/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976627470/62652FC9279F9BD481E1A125D1C5C766FEFBA933/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b30fbc"
        },
        "3": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2041855,
            "posY": 1.52948487,
            "posZ": 27.8700581,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Fearless Foraging",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976669302/651E9BE1B45C0F181709A6E6E1BF851D91BFFDBC/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976669583/3830752C8CF6C70E3A34B2543701F143B6A8DD94/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "bbd6d6"
        },
        "4": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.20419,
            "posY": 1.529485,
            "posZ": 27.8700619,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Datawipe",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976639125/67DC06AA2FC4EE161FB85746660CAB5497C12392/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976639579/CBFCBF04D95D51276AB8DB2468172234100C3475/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4f76e3"
        },
        "5": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2041931,
            "posY": 1.529485,
            "posZ": 27.8700657,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Death in the Darkness",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976640290/8127FA9B1284981A9E6CD21466F52E19F3EC4C96/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976640857/C0D88C7ED615754846845F8CF2798E44D93FB736/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "d278d6"
        },
        "6": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2041969,
            "posY": 1.529485,
            "posZ": 27.87007,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Fire at Will",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976670169/D6877DEB46E5B5D635E23960BBF2B737227E058D/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976670555/3655F599F80680C24A24FB30ED3C69078F96C1D6/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "e0699e"
        },
        "7": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2042,
            "posY": 1.529485,
            "posZ": 27.8700733,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Make your Escape",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976687926/99CDC87A08B0FDF576114CB37646FFDFAE23246D/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976688290/E9AD0877F7C7C9EB1784CA5C96BA1203955422F7/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "f47262"
        },
        "8": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2042046,
            "posY": 1.529485,
            "posZ": 27.8700771,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Shoot Out",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976705996/F21F44F651F8FD12F8FB99C6D7363AAB95781505/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976706265/53EDD5B3D6E08057EE06F2CCC1D8D7ACEEEE3A6C/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "d0955d"
        },
        "9": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.20421,
            "posY": 1.529485,
            "posZ": 27.87008,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Secure the Summit",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976703734/51978D708470C625BCDAF08BD0CC6644091E2D63/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976703998/B25ED4A8187C5C5F4500B96B7C9739CA64557B1D/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b59ba0"
        },
        "10": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2042122,
            "posY": 1.529485,
            "posZ": 27.8700848,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Seize the Bunker",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976704901/2C6ADBE63C679917399CF35D3B6F6367D3FA5F6D/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976705182/FBDD005AE01BA5DB5BC941F3C4B13CAAFE0D4AE8/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "aa1d8a"
        },
        "11": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.204216,
            "posY": 1.529485,
            "posZ": 27.8700886,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Stealth Siphon",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976708773/0272D7DB057C5333ACB889913365142B53A9F530/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976709114/891FDAA09446A56CA9B3485571DB9279B5CF62DC/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4c8332"
        },
        "12": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.20422,
            "posY": 1.529485,
            "posZ": 27.8700924,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Strike at the Heart",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976712530/B5C727DA038273C175BDB3159B466BAF1B72B513/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976712994/34AFE6C7131841B9700EAD7BAE460E55A2F714FF/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "3bbdbb"
        },
        "16": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2042351,
            "posY": 1.529485,
            "posZ": 27.8701077,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Under Bombardment",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976729430/DA65FABB58B436487A1F94CE6348CAA71EF25B64/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976730074/E9E13C14A00CAB5A1B463605BE73A4D0EBB32C61/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a30abf"
        },
        "17": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.20424,
            "posY": 1.529485,
            "posZ": 27.8701115,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Yield to No One",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976732822/28F992AA1CD58CF0D540FB7B572945E72241D792/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976733034/97CBF9F2F0F3F7026CACA6C547385D5E80535D9E/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "ba57af"
        },
        "18": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2042427,
            "posY": 1.529485,
            "posZ": 27.8701153,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Cover From The Storm",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976628597/9FF94BBABCDD4319DE9C7D21D899B2FAAEEBF752/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976628886/2F594A7569A7EB9B4098D64623A63B38405AD6CE/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "74bb00"
        },
        "19": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2042465,
            "posY": 1.529485,
            "posZ": 27.87012,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Best of the Best",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976603605/A9E8E2ACB6E6398AAB3E5ED9A6B728D87343A401/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976603869/CEDEBD4E986DFE7164D80A392635F15FB7022E90/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a315fd"
        },
        "20": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.20425,
            "posY": 1.529485,
            "posZ": 27.8701229,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Burning Battlefield",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976609322/1E0B20F7C4EA7D7BC0C13AD0DA60912249761C36/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976609584/02E30781473FD91CF871E8CDFF7413F24C62F2BC/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "9bf2f6"
        },
        "21": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2042542,
            "posY": 1.529485,
            "posZ": 27.8701267,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Clash of Titans",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976624120/73706BBFAB260630D0B5D763981FB44435F5DAA9/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976624399/148FD7A9BBB062D18CD624BF1F0B841D93E48E00/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5e13e3"
        },
        "22": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.204258,
            "posY": 1.52948487,
            "posZ": 27.87013,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Scavenge Supplies",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976700913/3D158006F38BEFD71BAEAAE9A4E6D1F63BEF542E/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976701307/995B8BE3ABDC69CA570FF4CC4221891A19B17B64/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "48d71f"
        },
        "15": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.20426,
            "posY": 1.52948487,
            "posZ": 27.8701344,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: The Casket",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976724399/06BFE4567978F0546B50A569B258F986176B054F/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976725085/0959730AAAEDC0967FD04BA88F1BCA5F013BF07C/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "cfe80b"
        },
        "14": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.2042656,
            "posY": 1.52948487,
            "posZ": 27.8701382,
            "rotX": 359.920135,
            "rotY": 270.000031,
            "rotZ": 180.016861,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: The Lure of Loot",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976726840/F3DC7616B426B18DBA8191CFC68FA38C9E50F78E/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976727169/9282247D2B434B760F247D0DDC3732A92AEA4ADD/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "fae66f"
        },
        "13": {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 43.20427,
            "posY": 7.032304,
            "posZ": 27.870142,
            "rotX": 359.946228,
            "rotY": 269.962555,
            "rotZ": 249.785767,
            "scaleX": 9.109029,
            "scaleY": 1.0,
            "scaleZ": 9.109029
          },
          "Nickname": "MP: Target Priority",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/911324212976722697/37DC2244883122C615FFCC39F51D7966C1523727/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/911324212976723255/E691723569063A7326C318DD63AE9F2A341B3006/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 0,
              "Thickness": 0.1,
              "Stackable": true,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "f6a0e4"
        }
      }
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 8.224702,
        "posY": 1.47243011,
        "posZ": 8.106403,
        "rotX": 359.9201,
        "rotY": 269.9999,
        "rotZ": 0.0168535728,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Move [/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.117999829,
        "g": 0.53,
        "b": 1.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886931856/C0FA0325E896C4952E7789BF9E6A73E9AE8BCED9/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886934811/E5B6AEC06CEBDCC2B0DE979D626739FFF946B442/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "7755a2"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 8.2248,
        "posY": 1.47106969,
        "posZ": 3.48630047,
        "rotX": 359.920135,
        "rotY": 269.999756,
        "rotZ": 0.0168874115,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Fall Back[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.117999829,
        "g": 0.53,
        "b": 1.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886942174/A299A0F28DBF60CB7C4C0D5149E2DA9076AAF2E0/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886934811/E5B6AEC06CEBDCC2B0DE979D626739FFF946B442/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "7a9ed6"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 14.632103,
        "posY": 1.46333182,
        "posZ": 7.544101,
        "rotX": 359.920074,
        "rotY": 270.0039,
        "rotZ": 0.0168373026,
        "scaleX": 0.508209646,
        "scaleY": 1.0,
        "scaleZ": 0.508209646
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310430/FCC68A22CEA5301DB1B24A1C96181B82416193DB/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.25,
          "Stackable": false,
          "Stretch": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "7f3023",
      "States": {
        "2": {
          "Name": "Custom_Model",
          "Transform": {
            "posX": 11.35703,
            "posY": 1.48073745,
            "posZ": 10.5442581,
            "rotX": 359.920074,
            "rotY": 269.946869,
            "rotZ": 0.01692052,
            "scaleX": 0.8,
            "scaleY": 0.8,
            "scaleZ": 0.8
          },
          "Nickname": "2\" Objective Sphere",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomMesh": {
            "MeshURL": "https://my.mixtape.moe/emagjw.obj",
            "DiffuseURL": "",
            "NormalURL": "",
            "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
            "Convex": true,
            "MaterialIndex": 1,
            "TypeIndex": 0,
            "CastShadows": true
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "3d814b"
        }
      }
    },
    {
      "Name": "Bag",
      "Transform": {
        "posX": 54.0169,
        "posY": 1.31499624,
        "posZ": 27.6853,
        "rotX": -2.97651623E-05,
        "rotY": -0.000124504237,
        "rotZ": 0.000171630178,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "Matched Play Extra Deployments",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7058823,
        "g": 0.366520882,
        "b": 0.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Bag",
          "Transform": {
            "posX": 26.649868,
            "posY": 3.300978,
            "posZ": -71.89982,
            "rotX": 0.518332362,
            "rotY": 89.99861,
            "rotZ": 358.6121,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Death in the Darkness",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"0b53bf\":{\"lock\":true,\"pos\":{\"x\":-12.1934,\"y\":2.4991,\"z\":-4.7339},\"rot\":{\"x\":0.0502,\"y\":53.75,\"z\":359.9356}},\"853ca1\":{\"lock\":true,\"pos\":{\"x\":-23.9463,\"y\":2.4984,\"z\":3.9808},\"rot\":{\"x\":359.9201,\"y\":53.75,\"z\":0.0169}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -12.1934,
                "posY": 2.4991,
                "posZ": -4.7339,
                "rotX": 0.05019257,
                "rotY": 53.7500038,
                "rotZ": 359.935577,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 11.3
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124997906,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "0b53bf"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.9463,
                "posY": 2.4984,
                "posZ": 3.9808,
                "rotX": 359.9201,
                "rotY": 53.7500038,
                "rotZ": 0.0168818943,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.3
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999796,
                "b": 0.09399795
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "853ca1"
            }
          ],
          "GUID": "66ab7a"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 27.0680523,
            "posY": 3.23006988,
            "posZ": -50.5726242,
            "rotX": 0.0167586636,
            "rotY": 90.00221,
            "rotZ": -0.00353958458,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Annhilation Protocols",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"2cca1f\":{\"lock\":true,\"pos\":{\"x\":-18.0137,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"9d4137\":{\"lock\":true,\"pos\":{\"x\":-7.52,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"c28197\":{\"lock\":true,\"pos\":{\"x\":-28.52,\"y\":2.514,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"e8099a\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-8.84},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"fea812\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":8.16},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.0137,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987472,
                "rotY": 90.0,
                "rotZ": 1.00051691E-08,
                "scaleX": 6.0,
                "scaleY": 2.0,
                "scaleZ": 6.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "2cca1f"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -7.52,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.0798787,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00020492,
                "scaleY": 1.0,
                "scaleZ": 4.496033
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.12899667,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "9d4137"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -28.52,
                "posY": 2.514,
                "posZ": -0.34,
                "rotX": 0.07987864,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.502505
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999979153,
                "b": 0.0939979
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "c28197"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -8.84,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 2.50265813
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.12899667,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "e8099a"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": 8.16,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 2.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999979153,
                "b": 0.0939979
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "fea812"
            }
          ],
          "GUID": "bf56fd"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 20.54701,
            "posY": 3.23918581,
            "posZ": -50.4900322,
            "rotX": 0.0167584252,
            "rotY": 90.00073,
            "rotZ": -0.00353879225,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Fire at Will",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"282618\":{\"lock\":true,\"pos\":{\"x\":-8.52,\"y\":2.5,\"z\":5.16},\"rot\":{\"x\":0.0799,\"y\":45,\"z\":359.9831}},\"7a6f55\":{\"lock\":true,\"pos\":{\"x\":-27.52,\"y\":2.5,\"z\":-5.84},\"rot\":{\"x\":0.0799,\"y\":45,\"z\":359.9831}},\"f559f5\":{\"lock\":true,\"pos\":{\"x\":-8.52,\"y\":2.5,\"z\":-5.84},\"rot\":{\"x\":0.0799,\"y\":315,\"z\":359.9831}},\"fe6873\":{\"lock\":true,\"pos\":{\"x\":-27.52,\"y\":2.5,\"z\":5.16},\"rot\":{\"x\":0.0799,\"y\":315,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -8.52,
                "posY": 2.5,
                "posZ": -5.84,
                "rotX": 0.07987649,
                "rotY": 315.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 7.78
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.099999,
                "b": 0.0939989761
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f559f5"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -8.52,
                "posY": 2.5,
                "posZ": 5.16,
                "rotX": 0.07987864,
                "rotY": 45.0000038,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 7.78
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.099999,
                "b": 0.0939989761
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "282618"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.52,
                "posY": 2.5,
                "posZ": 5.16,
                "rotX": 0.07987867,
                "rotY": 315.0,
                "rotZ": 359.983124,
                "scaleX": 1.00020492,
                "scaleY": 1.0,
                "scaleZ": 7.78
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.12899667,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "fe6873"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.52,
                "posY": 2.5,
                "posZ": -5.84,
                "rotX": 0.07987653,
                "rotY": 45.0000038,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 7.778
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.12899667,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "7a6f55"
            }
          ],
          "GUID": "c3a01d"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 27.1558228,
            "posY": 3.22826767,
            "posZ": -56.27537,
            "rotX": 0.0167543422,
            "rotY": 89.99824,
            "rotZ": -0.00354255084,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Conquest",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"6a7002\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-5.84},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"be4002\":{\"lock\":true,\"pos\":{\"x\":-10.52,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"c7fe42\":{\"lock\":true,\"pos\":{\"x\":-25.52,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"e33121\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":5.16},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9697227,
                "posY": 2.49889135,
                "posZ": -5.87252045,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 5.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999881,
                "b": 0.0939988
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "6a7002"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -10.4744635,
                "posY": 2.498846,
                "posZ": -0.378844529,
                "rotX": 0.07987877,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00020492,
                "scaleY": 1.0,
                "scaleZ": 7.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996491,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "be4002"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -25.4608479,
                "posY": 2.498846,
                "posZ": -0.378844321,
                "rotX": 0.0798787,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 7.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999881,
                "b": 0.0939988
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "c7fe42"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9697227,
                "posY": 2.49889135,
                "posZ": 5.11788845,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 5.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996491,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "e33121"
            }
          ],
          "GUID": "89997f"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 14.1624136,
            "posY": 3.2480092,
            "posZ": -50.7487259,
            "rotX": 0.0167571139,
            "rotY": 90.00205,
            "rotZ": -0.00353541342,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Stealth Siphon",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"0e9523\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-5.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"21629c\":{\"lock\":true,\"pos\":{\"x\":-24.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"247ef1\":{\"lock\":true,\"pos\":{\"x\":-12.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"805605\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":4.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"a88780\":{\"lock\":true,\"pos\":{\"x\":-12.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"e7428a\":{\"lock\":true,\"pos\":{\"x\":-24.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -5.34,
                "rotX": 0.07987884,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 6.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999981537,
                "b": 0.09399813
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "0e9523"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -24.02,
                "posY": 2.5,
                "posZ": -8.34,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999981537,
                "b": 0.09399813
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "21629c"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -12.02,
                "posY": 2.5,
                "posZ": -8.34,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999981537,
                "b": 0.09399813
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "247ef1"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": 4.66,
                "rotX": 0.0798789039,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00020492,
                "scaleY": 1.0,
                "scaleZ": 6.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996313,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "805605"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -12.02,
                "posY": 2.5,
                "posZ": 7.66,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996313,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "a88780"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -24.02,
                "posY": 2.5,
                "posZ": 7.66,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996313,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "e7428a"
            }
          ],
          "GUID": "2b3e0a"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 14.1484594,
            "posY": 3.24634886,
            "posZ": -56.4549179,
            "rotX": 0.0167562049,
            "rotY": 89.99785,
            "rotZ": -0.003541346,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Strike at the Heart",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"282fec\":{\"lock\":true,\"pos\":{\"x\":-7.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"3b72ed\":{\"lock\":true,\"pos\":{\"x\":-11.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"96c5e2\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"a4a0ea\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"a9ddd2\":{\"lock\":true,\"pos\":{\"x\":-25.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"d45903\":{\"lock\":true,\"pos\":{\"x\":-7.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -7.02,
                "posY": 2.5,
                "posZ": 7.66,
                "rotX": 0.07987867,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998219,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "282fec"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -11.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998219,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "3b72ed"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -29.02,
                "posY": 2.5,
                "posZ": 7.66,
                "rotX": 0.07987867,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999826,
                "b": 0.09399826
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "96c5e2"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -29.02,
                "posY": 2.5,
                "posZ": -8.34,
                "rotX": 0.07987867,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999826,
                "b": 0.09399826
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "a4a0ea"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -25.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999826,
                "b": 0.09399826
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "a9ddd2"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -7.02,
                "posY": 2.5,
                "posZ": -8.34,
                "rotX": 0.07987864,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998219,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "d45903"
            }
          ],
          "GUID": "4a6928"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 27.0171452,
            "posY": 3.22694874,
            "posZ": -61.4169159,
            "rotX": 0.01675953,
            "rotY": 90.00165,
            "rotZ": -0.003535762,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Fearless Foraging",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"8b97c4\":{\"lock\":true,\"pos\":{\"x\":-21.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0,\"y\":45,\"z\":0}},\"d18084\":{\"lock\":true,\"pos\":{\"x\":-15.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0,\"y\":135,\"z\":0}},\"edbb03\":{\"lock\":true,\"pos\":{\"x\":-15.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0,\"y\":45,\"z\":0}},\"f0d643\":{\"lock\":true,\"pos\":{\"x\":-21.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0,\"y\":135,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -20.73921,
                "posY": 2.49409533,
                "posZ": -8.525266,
                "rotX": 2.53066746E-14,
                "rotY": 45.0000038,
                "rotZ": -2.01978408E-13,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 4.27903938
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999985,
                "b": 0.0939998254
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "8b97c4"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -14.7670431,
                "posY": 2.49409533,
                "posZ": -8.525266,
                "rotX": 2.53066577E-14,
                "rotY": 135.0,
                "rotZ": -2.019784E-13,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 4.27903938
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999985,
                "b": 0.0939998254
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "d18084"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -14.7672777,
                "posY": 2.494101,
                "posZ": 7.40075636,
                "rotX": 2.53066746E-14,
                "rotY": 45.0000038,
                "rotZ": -2.01978408E-13,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 4.24
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.117999859,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "edbb03"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -20.7394714,
                "posY": 2.494101,
                "posZ": 7.40075636,
                "rotX": 2.53066577E-14,
                "rotY": 135.0,
                "rotZ": -2.019784E-13,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 4.24
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.117999859,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f0d643"
            }
          ],
          "GUID": "96ebfd"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 20.4704723,
            "posY": 3.236097,
            "posZ": -61.33973,
            "rotX": 0.0167604722,
            "rotY": 89.99844,
            "rotZ": -0.00354092754,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Shoot Out",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"42bcd1\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":2.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"4e943c\":{\"lock\":true,\"pos\":{\"x\":-7.02,\"y\":2.5,\"z\":-3.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"67a3b8\":{\"lock\":true,\"pos\":{\"x\":-11.02,\"y\":2.5,\"z\":-7.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"cdad3a\":{\"lock\":true,\"pos\":{\"x\":-25.02,\"y\":2.5,\"z\":6.66},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -29.02,
                "posY": 2.5,
                "posZ": 2.66,
                "rotX": 0.07987874,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00020492,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996551,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "42bcd1"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -7.02,
                "posY": 2.5,
                "posZ": -3.34,
                "rotX": 0.07987867,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999887,
                "b": 0.09399886
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "4e943c"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -11.02,
                "posY": 2.5,
                "posZ": -7.34,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999887,
                "b": 0.09399886
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "67a3b8"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -25.02,
                "posY": 2.5,
                "posZ": 6.66,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996551,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "cdad3a"
            }
          ],
          "GUID": "04e638"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 8.34815,
            "posY": 3.256082,
            "posZ": -50.8572426,
            "rotX": 0.01676004,
            "rotY": 89.9997,
            "rotZ": -0.00354242534,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Under Bombardment",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"219653\":{\"lock\":true,\"pos\":{\"x\":-25.0249,\"y\":2.5229,\"z\":6.661},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"7ec5fe\":{\"lock\":true,\"pos\":{\"x\":-11.0249,\"y\":2.5229,\"z\":-7.339},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"dd084b\":{\"lock\":true,\"pos\":{\"x\":-7.0249,\"y\":2.5229,\"z\":-3.339},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"eeff59\":{\"lock\":true,\"pos\":{\"x\":-29.0249,\"y\":2.5229,\"z\":2.661},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -10.1651678,
                "posY": 2.48873,
                "posZ": -8.1586,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999881,
                "b": 0.0939988
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "7ec5fe"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -6.273079,
                "posY": 2.48872972,
                "posZ": -4.266514,
                "rotX": 0.07987874,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999881,
                "b": 0.0939988
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "dd084b"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.7874718,
                "posY": 2.48873,
                "posZ": 5.46370554,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996491,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "219653"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.6795578,
                "posY": 2.48872972,
                "posZ": 1.57161725,
                "rotX": 0.0798788,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00020492,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996491,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "eeff59"
            }
          ],
          "GUID": "3b6f19"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 8.330664,
            "posY": 3.254499,
            "posZ": -56.56442,
            "rotX": 0.0202403534,
            "rotY": 89.99751,
            "rotZ": -0.00428023841,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Yield to No One",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"15f21f\":{\"lock\":true,\"pos\":{\"x\":-27.52,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0,\"y\":90,\"z\":359.9831}},\"6fdd15\":{\"lock\":true,\"pos\":{\"x\":-8.52,\"y\":2.4986,\"z\":-8.34},\"rot\":{\"x\":0,\"y\":90,\"z\":359.9831}},\"cdbc0d\":{\"lock\":true,\"pos\":{\"x\":-27.52,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0,\"y\":90,\"z\":359.9831}},\"d22c26\":{\"lock\":true,\"pos\":{\"x\":-8.52,\"y\":2.4982,\"z\":7.66},\"rot\":{\"x\":0,\"y\":90,\"z\":359.9831}},\"ed979d\":{\"lock\":true,\"pos\":{\"x\":-22.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0,\"y\":180,\"z\":359.9831}},\"f3b52e\":{\"lock\":true,\"pos\":{\"x\":-14.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.52,
                "posY": 2.5,
                "posZ": 7.66,
                "rotX": 0.0,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 5.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999821,
                "b": 0.0939982
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "15f21f"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -8.52,
                "posY": 2.4986,
                "posZ": -8.34,
                "rotX": 0.0,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 5.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.12499816,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "6fdd15"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.52,
                "posY": 2.5,
                "posZ": -8.34,
                "rotX": 0.0,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 5.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999821,
                "b": 0.0939982
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "cdbc0d"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -8.52,
                "posY": 2.4982,
                "posZ": 7.66,
                "rotX": 0.0,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 5.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.12499816,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "d22c26"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -22.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.0,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999821,
                "b": 0.0939982
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "ed979d"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -14.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.0,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.12499816,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f3b52e"
            }
          ],
          "GUID": "83dd63"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 8.186575,
            "posY": 3.25311279,
            "posZ": -61.708004,
            "rotX": 0.01675685,
            "rotY": 89.9993,
            "rotZ": -0.003542638,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Cover From the Storm",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"0e5f60\":{\"lock\":true,\"pos\":{\"x\":-24.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"29dc1c\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":4.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"386b7a\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-5.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"ad2076\":{\"lock\":true,\"pos\":{\"x\":-12.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"bf18ec\":{\"lock\":true,\"pos\":{\"x\":-24.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"bf28c6\":{\"lock\":true,\"pos\":{\"x\":-12.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.69276,
                "posY": 2.48945856,
                "posZ": -5.705531,
                "rotX": 0.0798789039,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 6.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999980941,
                "b": 0.09399807
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "386b7a"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -11.7610617,
                "posY": 2.49012852,
                "posZ": -8.658555,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999980941,
                "b": 0.09399807
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "bf28c6"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.6660385,
                "posY": 2.49012852,
                "posZ": -8.658555,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999980941,
                "b": 0.09399807
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "bf18ec"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.69276,
                "posY": 2.48945856,
                "posZ": 4.20991325,
                "rotX": 0.07987896,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00020492,
                "scaleY": 1.0,
                "scaleZ": 6.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996253,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "29dc1c"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -11.7610617,
                "posY": 2.49012852,
                "posZ": 7.21475267,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996253,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "ad2076"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.6660385,
                "posY": 2.49012852,
                "posZ": 7.21475267,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996253,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "0e5f60"
            }
          ],
          "GUID": "23cf99"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 26.8611736,
            "posY": 3.22568917,
            "posZ": -66.43217,
            "rotX": 0.01675842,
            "rotY": 90.0021,
            "rotZ": -0.00353530375,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Datawipe",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"5657a3\":{\"lock\":true,\"pos\":{\"x\":-18.0222,\"y\":2.4923,\"z\":-5.34},\"rot\":{\"x\":0.0799,\"y\":90.0036,\"z\":359.9832}},\"b62dc0\":{\"lock\":true,\"pos\":{\"x\":-18.0218,\"y\":2.5,\"z\":4.66},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.0222,
                "posY": 2.4923,
                "posZ": -5.34,
                "rotX": 0.07991534,
                "rotY": 90.00356,
                "rotZ": 359.983154,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124997906,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "5657a3"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.0218,
                "posY": 2.5,
                "posZ": 4.66,
                "rotX": 359.9201,
                "rotY": 270.005219,
                "rotZ": 0.0168819,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999796,
                "b": 0.09399795
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "b62dc0"
            }
          ],
          "GUID": "138c74"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 20.3136539,
            "posY": 3.23484015,
            "posZ": -66.356514,
            "rotX": 0.0167608466,
            "rotY": 90.00158,
            "rotZ": -0.003540798,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Secure the Summit",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"917b37\":{\"lock\":true,\"pos\":{\"x\":-12.19,\"y\":2.5,\"z\":-4.73},\"rot\":{\"x\":0.0502,\"y\":53.75,\"z\":359.9356}},\"de98f7\":{\"lock\":true,\"pos\":{\"x\":-23.95,\"y\":2.5,\"z\":3.98},\"rot\":{\"x\":359.9201,\"y\":53.75,\"z\":0.0169}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -12.19,
                "posY": 2.5,
                "posZ": -4.73,
                "rotX": 0.0501925871,
                "rotY": 53.7500038,
                "rotZ": 359.935577,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 11.3
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124997847,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "917b37"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.95,
                "posY": 2.5,
                "posZ": 3.98,
                "rotX": 359.9201,
                "rotY": 53.7500038,
                "rotZ": 0.0168818943,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.3
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999979153,
                "b": 0.0939979
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "de98f7"
            }
          ],
          "GUID": "b6cd20"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 13.91616,
            "posY": 3.24375248,
            "posZ": -66.6105652,
            "rotX": 0.02023743,
            "rotY": 90.00189,
            "rotZ": -0.00427168049,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "The Lure of Loot",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"401ae6\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.0798747,
                "rotY": 90.0,
                "rotZ": 1.00051691E-08,
                "scaleX": 11.0,
                "scaleY": 2.0,
                "scaleZ": 11.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "401ae6"
            }
          ],
          "GUID": "dd0a2e"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 8.104486,
            "posY": 3.251752,
            "posZ": -66.72239,
            "rotX": 0.0167556461,
            "rotY": 89.99835,
            "rotZ": -0.00354365516,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Best of the Best",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"0e0fed\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"178eaf\":{\"lock\":true,\"pos\":{\"x\":-11.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"4b70d4\":{\"lock\":true,\"pos\":{\"x\":-7.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"7711c5\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"777bdf\":{\"lock\":true,\"pos\":{\"x\":-7.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"f5c905\":{\"lock\":true,\"pos\":{\"x\":-25.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -10.5054846,
                "posY": 2.479692,
                "posZ": -1.20640481,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.1249981,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "178eaf"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -6.597772,
                "posY": 2.48092055,
                "posZ": -9.031671,
                "rotX": 0.07987884,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.1249981,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "4b70d4"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -6.597772,
                "posY": 2.48092055,
                "posZ": 6.72372866,
                "rotX": 0.07987887,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.1249981,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "777bdf"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -24.2776718,
                "posY": 2.479692,
                "posZ": -1.20640481,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999981537,
                "b": 0.09399813
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f5c905"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -28.26145,
                "posY": 2.48092055,
                "posZ": 6.72372866,
                "rotX": 0.07987887,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999981537,
                "b": 0.09399813
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "0e0fed"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -28.26145,
                "posY": 2.48092055,
                "posZ": -9.031671,
                "rotX": 0.07987887,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999981537,
                "b": 0.09399813
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "7711c5"
            }
          ],
          "GUID": "8c3867"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 2.64611077,
            "posY": 3.26405621,
            "posZ": -51.0211449,
            "rotX": 0.020239044,
            "rotY": 89.99946,
            "rotZ": -0.0042740386,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Clash of Titans",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"8967f9\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":5.66},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}},\"b9ac31\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-6.34},\"rot\":{\"x\":0.0799,\"y\":90.0036,\"z\":359.9832}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -6.34,
                "rotX": 0.07991534,
                "rotY": 90.00356,
                "rotZ": 359.983154,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124997906,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "b9ac31"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": 5.66,
                "rotX": 359.9201,
                "rotY": 270.005219,
                "rotZ": 0.0168819,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999796,
                "b": 0.09399795
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "8967f9"
            }
          ],
          "GUID": "4f47f9"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 2.60617828,
            "posY": 3.26235628,
            "posZ": -56.73591,
            "rotX": 0.0167538114,
            "rotY": 89.998024,
            "rotZ": -0.00354371476,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Scavenge Supplies",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"a9693a\":{\"lock\":true,\"pos\":{\"x\":-3.0554,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"b4dccf\":{\"lock\":true,\"pos\":{\"x\":-33.0554,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -3.05539966,
                "posY": 2.50004935,
                "posZ": -0.34,
                "rotX": 0.0798747241,
                "rotY": 90.0,
                "rotZ": 1.00051691E-08,
                "scaleX": 8.0,
                "scaleY": 2.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999997,
                "b": 0.09399996
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "a9693a"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -33.055397,
                "posY": 2.50004935,
                "posZ": -0.34,
                "rotX": 0.0798747241,
                "rotY": 90.0,
                "rotZ": 1.00051691E-08,
                "scaleX": 8.0,
                "scaleY": 2.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.117999978,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "b4dccf"
            }
          ],
          "GUID": "6a6120"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 20.2475376,
            "posY": 3.23340464,
            "posZ": -71.53728,
            "rotX": 0.01675359,
            "rotY": 90.00165,
            "rotZ": -0.00354109751,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Seize the Bunker",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"0aae16\":{\"lock\":true,\"pos\":{\"x\":-7.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"9a566c\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -7.003106,
                "posY": 2.499462,
                "posZ": -0.3646672,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 11.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999887,
                "b": 0.09399886
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "0aae16"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -28.9937611,
                "posY": 2.499462,
                "posZ": -0.364667237,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996551,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "9a566c"
            }
          ],
          "GUID": "b647e5"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 13.8578749,
            "posY": 3.24223852,
            "posZ": -71.795166,
            "rotX": 0.0167598464,
            "rotY": 89.99881,
            "rotZ": -0.003542427,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "The Casket",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"60acb0\":{\"lock\":true,\"pos\":{\"x\":-12.19,\"y\":2.5,\"z\":-4.73},\"rot\":{\"x\":0.0502,\"y\":53.75,\"z\":359.9356}},\"712a01\":{\"lock\":true,\"pos\":{\"x\":-23.95,\"y\":2.5,\"z\":3.98},\"rot\":{\"x\":359.9201,\"y\":53.75,\"z\":0.0169}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -12.19,
                "posY": 2.5,
                "posZ": -4.73,
                "rotX": 0.0501926,
                "rotY": 53.7500038,
                "rotZ": 359.935577,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 11.3
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124997847,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "60acb0"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.95,
                "posY": 2.5,
                "posZ": 3.98,
                "rotX": 359.9201,
                "rotY": 53.7500038,
                "rotZ": 0.0168818943,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.3
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999979153,
                "b": 0.0939979
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "712a01"
            }
          ],
          "GUID": "d756e4"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 8.044832,
            "posY": 3.25030756,
            "posZ": -71.90641,
            "rotX": 0.016751701,
            "rotY": 90.00004,
            "rotZ": -0.00353954919,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Burning Battlefield",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"2d60b6\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"86344a\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"8c241b\":{\"lock\":true,\"pos\":{\"x\":-8.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"ded3b4\":{\"lock\":true,\"pos\":{\"x\":-28.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"e87065\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -8.34,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.12899667,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "e87065"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.0798747241,
                "rotY": 90.0,
                "rotZ": 1.00051691E-08,
                "scaleX": 5.0,
                "scaleY": 2.0,
                "scaleZ": 5.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "2d60b6"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -8.02,
                "posY": 2.5,
                "posZ": -0.33999896,
                "rotX": 0.07987874,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00020492,
                "scaleY": 1.0,
                "scaleZ": 5.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.12899667,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "8c241b"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": 7.66,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.00017941,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999979153,
                "b": 0.0939979
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "86344a"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -28.02,
                "posY": 2.5,
                "posZ": -0.33999896,
                "rotX": 0.07987867,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 5.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999979153,
                "b": 0.0939979
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "ded3b4"
            }
          ],
          "GUID": "b7e0c2"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 53.31019,
            "posY": 3.38060617,
            "posZ": 27.3696556,
            "rotX": 359.239,
            "rotY": 89.8405151,
            "rotZ": 359.4658,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Target Priority",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"31af38\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"483d36\":{\"lock\":true,\"pos\":{\"x\":-11.02,\"y\":2.5183,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"966f00\":{\"lock\":true,\"pos\":{\"x\":-25.02,\"y\":2.5183,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"ac2ed1\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"c15c75\":{\"lock\":true,\"pos\":{\"x\":-7.02,\"y\":2.5183,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"ee0b6f\":{\"lock\":true,\"pos\":{\"x\":-7.02,\"y\":2.5183,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -29.02,
                "posY": 2.5,
                "posZ": -8.34,
                "rotX": 0.0798788,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999821,
                "b": 0.0939982
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "31af38"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -11.02,
                "posY": 2.5183,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.12499816,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "483d36"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -25.02,
                "posY": 2.5183,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999821,
                "b": 0.0939982
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "966f00"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -29.02,
                "posY": 2.5,
                "posZ": 7.66,
                "rotX": 0.0798788,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999821,
                "b": 0.0939982
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "ac2ed1"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -7.02,
                "posY": 2.5183,
                "posZ": 7.66,
                "rotX": 0.0798788,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.12499816,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "c15c75"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -7.02,
                "posY": 2.5183,
                "posZ": -8.34,
                "rotX": 0.07987877,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.12499816,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "ee0b6f"
            }
          ],
          "GUID": "dd2415"
        }
      ],
      "GUID": "7ffa0e"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 13.4636,
        "posY": 1.4508,
        "posZ": -40.4019,
        "rotX": 0.01690152,
        "rotY": 179.979828,
        "rotZ": 0.07986912,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Decisive Strike",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486385658/537D4AEB0BB69A711911E3D1B2BB6CD865BCC8AB/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "834262"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 28.3,
        "posY": 1.4488,
        "posZ": 35.7339,
        "rotX": 0.0168995932,
        "rotY": 8.14222E-13,
        "rotZ": 0.07987065,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Point-Blank Overwatch - Arena/Rogue Trader",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/791983956791704620/68E2DC820450D55D06CFD0B82CDAAD1E5DDBFB52/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "86da09"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 13.46,
        "posY": 1.45,
        "posZ": -35.6683,
        "rotX": 0.0169014353,
        "rotY": 179.979874,
        "rotZ": 0.0798717961,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Decisive Move",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486356871/CDEAF080A7B285E5517244350F8B105683BC9706/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "96f5c3"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 7.404802,
        "posY": 1.46867049,
        "posZ": -8.543704,
        "rotX": 359.920074,
        "rotY": 269.999756,
        "rotZ": 0.01692185,
        "scaleX": 0.2911521,
        "scaleY": 1.0,
        "scaleZ": 0.2911521
      },
      "Nickname": "[b]Shaken[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391995043,
        "b": 0.112995051
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352463884232374/A197CE998B7AC9EEB2ADF54C56A94458E926A7D7/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173490519293/296216F1439A987B596DD781D828EE975A9D7777/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a3224d"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.7299271,
        "posY": 2.776185,
        "posZ": -37.3445,
        "rotX": 359.9831,
        "rotY": -0.0009304476,
        "rotZ": 359.919952,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Ferocity",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -34.0,
            "posY": 5.97980261,
            "posZ": -32.5,
            "rotX": -3.964923E-05,
            "rotY": 180.004471,
            "rotZ": -3.92075162E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Ferocity Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498932699/35649DFE9F3B94E4066B495940985568016D33D0/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "f4abc0"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -34.0,
            "posY": 5.978095,
            "posZ": -27.5,
            "rotX": -1.62857717E-07,
            "rotY": 180.006317,
            "rotZ": 2.38305233E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Ferocity Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498931602/320137D42F3E14C471EF081BB46076ED5B01436D/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "c07e9b"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -34.0,
            "posY": 5.978095,
            "posZ": -22.5,
            "rotX": 1.11821954E-07,
            "rotY": 180.0018,
            "rotZ": 6.291985E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Ferocity Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498933153/777AD8F97A91F3A9D2621919CB2F105D52EE8226/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "20fd98"
        }
      ],
      "GUID": "ae4de8"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 14.5862026,
        "posY": 1.46068275,
        "posZ": -1.67010021,
        "rotX": 359.920135,
        "rotY": 269.981445,
        "rotZ": 0.01690488,
        "scaleX": 0.508209646,
        "scaleY": 1.0,
        "scaleZ": 0.508209646
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314265/CB39DB70E8C1BA0506D139BBFFE08E9D593FF1C2/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.25,
          "Stackable": false,
          "Stretch": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "ae700c",
      "States": {
        "2": {
          "Name": "Custom_Model",
          "Transform": {
            "posX": 7.329134,
            "posY": 1.4544394,
            "posZ": -52.2497826,
            "rotX": 359.920044,
            "rotY": 270.0307,
            "rotZ": 0.0167922918,
            "scaleX": 0.8,
            "scaleY": 0.8,
            "scaleZ": 0.8
          },
          "Nickname": "2\" Objective Sphere",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomMesh": {
            "MeshURL": "https://my.mixtape.moe/emagjw.obj",
            "DiffuseURL": "",
            "NormalURL": "",
            "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
            "Convex": true,
            "MaterialIndex": 1,
            "TypeIndex": 0,
            "CastShadows": true
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "c16cad"
        }
      }
    },
    {
      "Name": "Bag",
      "Transform": {
        "posX": 54.962513,
        "posY": 1.31496286,
        "posZ": 10.4495115,
        "rotX": -5.436414E-07,
        "rotY": 90.00412,
        "rotZ": 1.87124283E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "Core Rulebook Missions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391999632,
        "b": 0.11299964
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "XmlUI": "",
      "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
      "LuaScriptState": "{\"ml\":{\"3513cc\":{\"lock\":false,\"pos\":{\"x\":50.72,\"y\":1.2273,\"z\":5.14},\"rot\":{\"x\":0.08,\"y\":90.002,\"z\":359.9831}},\"985806\":{\"lock\":false,\"pos\":{\"x\":50.72,\"y\":1.2242,\"z\":-5.37},\"rot\":{\"x\":0.08,\"y\":90.0002,\"z\":359.9831}}}}",
      "ContainedObjects": [
        {
          "Name": "Bag",
          "Transform": {
            "posX": 50.7200241,
            "posY": 1.22727942,
            "posZ": 5.13999844,
            "rotX": 0.07997995,
            "rotY": 90.00359,
            "rotZ": 359.9831,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Matched Play",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.856,
            "g": 0.0999996,
            "b": 0.09399957
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"28813f\":{\"lock\":true,\"pos\":{\"x\":35.9772,\"y\":1.292,\"z\":13.7742},\"rot\":{\"x\":0.08,\"y\":89.9867,\"z\":359.9831}},\"4333dc\":{\"lock\":true,\"pos\":{\"x\":40.6863,\"y\":1.2446,\"z\":13.7888},\"rot\":{\"x\":0.0799,\"y\":89.9993,\"z\":359.9831}},\"74be97\":{\"lock\":true,\"pos\":{\"x\":40.3686,\"y\":1.2355,\"z\":-12.62},\"rot\":{\"x\":0.0799,\"y\":89.9932,\"z\":359.9831}},\"817b22\":{\"lock\":true,\"pos\":{\"x\":40.5783,\"y\":1.2418,\"z\":4.4881},\"rot\":{\"x\":0.0799,\"y\":90.0018,\"z\":359.9831}},\"b1e71e\":{\"lock\":true,\"pos\":{\"x\":35.7458,\"y\":1.2871,\"z\":-3.8958},\"rot\":{\"x\":0.08,\"y\":89.998,\"z\":359.9831}},\"d14543\":{\"lock\":true,\"pos\":{\"x\":40.7213,\"y\":1.3323,\"z\":-3.8063},\"rot\":{\"x\":0.0799,\"y\":89.9984,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Bag",
              "Transform": {
                "posX": 35.9772,
                "posY": 1.292,
                "posZ": 13.7742,
                "rotX": 0.08009355,
                "rotY": 89.98502,
                "rotZ": 359.982971,
                "scaleX": 0.7750002,
                "scaleY": 0.7750002,
                "scaleZ": 0.7750002
              },
              "Nickname": "Objectives",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"30d7f1\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":1.5,\"z\":5.15},\"rot\":{\"x\":359.9201,\"y\":269.983,\"z\":0.0169}},\"c3ea27\":{\"lock\":true,\"pos\":{\"x\":-25.5,\"y\":1.5,\"z\":-0.35},\"rot\":{\"x\":359.9201,\"y\":269.9784,\"z\":0.0169}},\"ca257f\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":1.5,\"z\":-5.85},\"rot\":{\"x\":359.9201,\"y\":269.9836,\"z\":0.0169}},\"e45a58\":{\"lock\":true,\"pos\":{\"x\":-10.5,\"y\":1.5,\"z\":-0.35},\"rot\":{\"x\":359.9201,\"y\":270.0039,\"z\":0.0168}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.5,
                    "posY": 1.5,
                    "posZ": -0.35,
                    "rotX": 359.920074,
                    "rotY": 270.0039,
                    "rotZ": 0.0168288574,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310430/FCC68A22CEA5301DB1B24A1C96181B82416193DB/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "e45a58",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -10.4999027,
                        "posY": 1.49457777,
                        "posZ": -0.350021422,
                        "rotX": 359.920074,
                        "rotY": 270.0039,
                        "rotZ": 0.0168288555,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "3d814b"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 1.5,
                    "posZ": -5.85,
                    "rotX": 359.920074,
                    "rotY": 269.983643,
                    "rotZ": 0.0168586522,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313470/15585C097BA4309CB2981F273CAC56E3AF0F7F7D/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "ca257f",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -17.9998951,
                        "posY": 1.50341392,
                        "posZ": -5.85002756,
                        "rotX": 359.920074,
                        "rotY": 269.983643,
                        "rotZ": 0.0168586522,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "72bbf1"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.5,
                    "posY": 1.5,
                    "posZ": -0.35,
                    "rotX": 359.920135,
                    "rotY": 269.978363,
                    "rotZ": 0.01692516,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313874/ECF016C27A2471C16013396BB4D97893DE4F5B4B/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c3ea27",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -25.4998817,
                        "posY": 1.51548934,
                        "posZ": -0.350028962,
                        "rotX": 359.920135,
                        "rotY": 269.978363,
                        "rotZ": 0.016925158,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "299209"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 1.5,
                    "posZ": 5.15,
                    "rotX": 359.920135,
                    "rotY": 269.983032,
                    "rotZ": 0.01692888,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314265/CB39DB70E8C1BA0506D139BBFFE08E9D593FF1C2/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "30d7f1",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -17.9998913,
                        "posY": 1.50665307,
                        "posZ": 5.149976,
                        "rotX": 359.920135,
                        "rotY": 269.983032,
                        "rotZ": 0.0169288684,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "c16cad"
                    }
                  }
                }
              ],
              "GUID": "28813f"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 40.6863,
                "posY": 1.2446,
                "posZ": 13.7888,
                "rotX": 0.07995497,
                "rotY": 89.99784,
                "rotZ": 359.983124,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Sweep and CLear",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"0bec5b\":{\"lock\":true,\"pos\":{\"x\":-18.0225,\"y\":2.0599,\"z\":-0.3434},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"0c3134\":{\"lock\":true,\"pos\":{\"x\":-28.0318,\"y\":2.0193,\"z\":-0.3602},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"728ac5\":{\"lock\":true,\"pos\":{\"x\":-8.0106,\"y\":2.02,\"z\":-0.3598},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"91d692\":{\"lock\":true,\"pos\":{\"x\":-18.0671,\"y\":2.02,\"z\":-8.371},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"d3d0c8\":{\"lock\":true,\"pos\":{\"x\":-18.07,\"y\":2.02,\"z\":7.6611},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0225,
                    "posY": 2.0599,
                    "posZ": -0.3434,
                    "rotX": 0.07987452,
                    "rotY": 90.0,
                    "rotZ": 0.0,
                    "scaleX": 5.0,
                    "scaleY": 2.0,
                    "scaleZ": 5.0
                  },
                  "Nickname": "Area Denial Range Checker",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "0bec5b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.0318,
                    "posY": 2.0193,
                    "posZ": -0.3602,
                    "rotX": 0.0798785761,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00015879,
                    "scaleY": 1.0,
                    "scaleZ": 4.99112654
                  },
                  "Nickname": "Sweep and Clear",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996134,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "0c3134"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -8.0106,
                    "posY": 2.02,
                    "posZ": -0.3598,
                    "rotX": 0.07987848,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016677,
                    "scaleY": 1.0,
                    "scaleZ": 4.995998
                  },
                  "Nickname": "#2: Dawn of War",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999991,
                    "b": 0.0939999
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "728ac5"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0671,
                    "posY": 2.02,
                    "posZ": -8.371,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 2.99740481
                  },
                  "Nickname": "Sweep and CLear",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996134,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "91d692"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.07,
                    "posY": 2.02,
                    "posZ": 7.6611,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00016785,
                    "scaleY": 1.0,
                    "scaleZ": 2.99740481
                  },
                  "Nickname": "#2: Dawn of War",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999991,
                    "b": 0.0939999
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "d3d0c8"
                }
              ],
              "GUID": "4333dc"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 40.3686,
                "posY": 1.2355,
                "posZ": -12.62,
                "rotX": 0.08007217,
                "rotY": 89.99247,
                "rotZ": 359.983,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Terror Tactics",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"237c75\":{\"lock\":true,\"pos\":{\"x\":-28.5433,\"y\":2.5,\"z\":5.6401},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"90768a\":{\"lock\":true,\"pos\":{\"x\":-7.52,\"y\":2.5,\"z\":-6.3687},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"9bea61\":{\"lock\":true,\"pos\":{\"x\":-28.54,\"y\":2.5,\"z\":-6.37},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"c72ac1\":{\"lock\":true,\"pos\":{\"x\":-7.5228,\"y\":2.5,\"z\":5.6402},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"c95010\":{\"lock\":true,\"pos\":{\"x\":-12.02,\"y\":2.5,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"fe1f76\":{\"lock\":true,\"pos\":{\"x\":-24.04,\"y\":2.5,\"z\":-0.3737},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -12.02,
                    "posY": 2.5,
                    "posZ": -0.36,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998726,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c95010"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -7.5228,
                    "posY": 2.5,
                    "posZ": 5.6402,
                    "rotX": 0.07987842,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.502505
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998726,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c72ac1"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -7.52,
                    "posY": 2.5,
                    "posZ": -6.3687,
                    "rotX": 0.07987838,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.502505
                  },
                  "Nickname": "Terror Tactics",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998726,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "90768a"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.54,
                    "posY": 2.5,
                    "posZ": -6.37,
                    "rotX": 0.07987842,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.502505
                  },
                  "Nickname": "Terror Tactics",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999875,
                    "b": 0.09399872
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "9bea61"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.5433,
                    "posY": 2.5,
                    "posZ": 5.6401,
                    "rotX": 0.07987842,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.502505
                  },
                  "Nickname": "Terror Tactics",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999875,
                    "b": 0.09399872
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "237c75"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -24.04,
                    "posY": 2.5,
                    "posZ": -0.3737,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999875,
                    "b": 0.09399872
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "fe1f76"
                }
              ],
              "GUID": "74be97"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 40.5783,
                "posY": 1.2418,
                "posZ": 4.4881,
                "rotX": 0.07996915,
                "rotY": 90.00232,
                "rotZ": 359.9832,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Take Prisoners",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"13440b\":{\"lock\":true,\"pos\":{\"x\":-18.07,\"y\":2.02,\"z\":8.16},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"7cc8c7\":{\"lock\":true,\"pos\":{\"x\":-28.53,\"y\":2.07,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"949424\":{\"lock\":true,\"pos\":{\"x\":-18.0195,\"y\":2.0446,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"d6c5ea\":{\"lock\":true,\"pos\":{\"x\":-18.07,\"y\":2.02,\"z\":-8.85},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"e0052f\":{\"lock\":true,\"pos\":{\"x\":-7.52,\"y\":2.02,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.07,
                    "posY": 2.02,
                    "posZ": 8.16,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 2.50265813
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.1289962,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "13440b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.53,
                    "posY": 2.07,
                    "posZ": -0.36,
                    "rotX": 0.0798786059,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00020492,
                    "scaleY": 1.0,
                    "scaleZ": 4.496033
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.1289962,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "7cc8c7"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0195,
                    "posY": 2.0446,
                    "posZ": -0.34,
                    "rotX": 0.0798746645,
                    "rotY": 90.0,
                    "rotZ": 1.00051691E-08,
                    "scaleX": 6.0,
                    "scaleY": 2.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "949424"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.07,
                    "posY": 2.02,
                    "posZ": -8.85,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00017941,
                    "scaleY": 1.0,
                    "scaleZ": 2.5101
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999985,
                    "b": 0.0939998254
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "d6c5ea"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -7.52,
                    "posY": 2.02,
                    "posZ": -0.36,
                    "rotX": 0.07987855,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.502505
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999985,
                    "b": 0.0939998254
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "e0052f"
                }
              ],
              "GUID": "817b22"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 35.7458,
                "posY": 1.2871,
                "posZ": -3.8958,
                "rotX": 0.07995957,
                "rotY": 89.99711,
                "rotZ": 359.9831,
                "scaleX": 0.7750002,
                "scaleY": 0.7750002,
                "scaleZ": 0.7750002
              },
              "Nickname": "Objectives",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"00946e\":{\"lock\":true,\"pos\":{\"x\":-10.5,\"y\":1.77,\"z\":-5.85},\"rot\":{\"x\":359.9201,\"y\":270.0008,\"z\":180.0168}},\"c3e67a\":{\"lock\":true,\"pos\":{\"x\":-10.5,\"y\":1.77,\"z\":5.15},\"rot\":{\"x\":359.9201,\"y\":270.004,\"z\":180.0169}},\"ce5b33\":{\"lock\":true,\"pos\":{\"x\":-25.5,\"y\":1.77,\"z\":-5.85},\"rot\":{\"x\":359.9201,\"y\":269.9998,\"z\":180.0169}},\"d0f9d5\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":1.77,\"z\":-0.35},\"rot\":{\"x\":359.9201,\"y\":269.9998,\"z\":180.0169}},\"f04a81\":{\"lock\":true,\"pos\":{\"x\":-25.5,\"y\":1.77,\"z\":5.15},\"rot\":{\"x\":359.9201,\"y\":270.0028,\"z\":180.0169}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.5,
                    "posY": 1.77,
                    "posZ": -5.85,
                    "rotX": 359.920074,
                    "rotY": 270.0008,
                    "rotZ": 180.01683,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314661/D52D33F1840F8DB3A19344F7E6A8F8A9110D5B3E/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "00946e",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -10.5,
                        "posY": 1.77,
                        "posZ": -5.85,
                        "rotX": 359.920074,
                        "rotY": 270.0008,
                        "rotZ": 180.01683,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "2d0fdd"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.5,
                    "posY": 1.77,
                    "posZ": 5.15,
                    "rotX": 359.9201,
                    "rotY": 270.004028,
                    "rotZ": 180.016876,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313874/ECF016C27A2471C16013396BB4D97893DE4F5B4B/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c3e67a",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -10.5,
                        "posY": 1.77,
                        "posZ": 5.15,
                        "rotX": 359.9201,
                        "rotY": 270.004028,
                        "rotZ": 180.016876,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "299209"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.5,
                    "posY": 1.77,
                    "posZ": -5.85,
                    "rotX": 359.9201,
                    "rotY": 269.999817,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314265/CB39DB70E8C1BA0506D139BBFFE08E9D593FF1C2/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "ce5b33",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -25.5,
                        "posY": 1.77,
                        "posZ": -5.85,
                        "rotX": 359.9201,
                        "rotY": 269.999817,
                        "rotZ": 180.016861,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "c16cad"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 1.77,
                    "posZ": -0.35,
                    "rotX": 359.9201,
                    "rotY": 269.999756,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310430/FCC68A22CEA5301DB1B24A1C96181B82416193DB/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "d0f9d5",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -18.0,
                        "posY": 1.77,
                        "posZ": -0.35,
                        "rotX": 359.9201,
                        "rotY": 269.999756,
                        "rotZ": 180.016861,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "3d814b"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.5,
                    "posY": 1.77,
                    "posZ": 5.15,
                    "rotX": 359.9201,
                    "rotY": 270.002777,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313470/15585C097BA4309CB2981F273CAC56E3AF0F7F7D/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "f04a81",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -25.5,
                        "posY": 1.77,
                        "posZ": 5.15,
                        "rotX": 359.9201,
                        "rotY": 270.002777,
                        "rotZ": 180.016861,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "72bbf1"
                    }
                  }
                }
              ],
              "GUID": "b1e71e"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 40.7213,
                "posY": 1.3323,
                "posZ": -3.8063,
                "rotX": 0.07978558,
                "rotY": 90.0003738,
                "rotZ": 359.983124,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Recover Intelligence",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"37e367\":{\"lock\":true,\"pos\":{\"x\":-15.0465,\"y\":2.07,\"z\":-8.3816},\"rot\":{\"x\":0,\"y\":135,\"z\":0}},\"4f212f\":{\"lock\":true,\"pos\":{\"x\":-21.1329,\"y\":2.02,\"z\":7.6444},\"rot\":{\"x\":0,\"y\":135,\"z\":0}},\"6c6941\":{\"lock\":true,\"pos\":{\"x\":-15.0624,\"y\":2.07,\"z\":7.6613},\"rot\":{\"x\":0,\"y\":45,\"z\":0}},\"b0fe30\":{\"lock\":true,\"pos\":{\"x\":-21.1015,\"y\":2.07,\"z\":-8.3764},\"rot\":{\"x\":0,\"y\":45,\"z\":0}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -15.0465,
                    "posY": 2.07,
                    "posZ": -8.3816,
                    "rotX": 2.53066577E-14,
                    "rotY": 135.0,
                    "rotZ": -2.019784E-13,
                    "scaleX": 1.0000577,
                    "scaleY": 1.0,
                    "scaleZ": 4.27903938
                  },
                  "Nickname": "Recover Intelligence",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999917,
                    "b": 0.0939991549
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "37e367"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -21.1329,
                    "posY": 2.02,
                    "posZ": 7.6444,
                    "rotX": 2.53066577E-14,
                    "rotY": 135.0,
                    "rotZ": -2.019784E-13,
                    "scaleX": 1.0000577,
                    "scaleY": 1.0,
                    "scaleZ": 4.27903938
                  },
                  "Nickname": "Recover Intelligence",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996849,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "4f212f"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -15.0624,
                    "posY": 2.07,
                    "posZ": 7.6613,
                    "rotX": 2.53066746E-14,
                    "rotY": 45.0000038,
                    "rotZ": -2.01978408E-13,
                    "scaleX": 1.0000577,
                    "scaleY": 1.0,
                    "scaleZ": 4.27903938
                  },
                  "Nickname": "Recover Intelligence",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128996849,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "6c6941"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -21.1015,
                    "posY": 2.07,
                    "posZ": -8.3764,
                    "rotX": 2.53066746E-14,
                    "rotY": 45.0000038,
                    "rotZ": -2.01978408E-13,
                    "scaleX": 1.0000577,
                    "scaleY": 1.0,
                    "scaleZ": 4.27903938
                  },
                  "Nickname": "Recover Intelligence",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999917,
                    "b": 0.0939991549
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "b0fe30"
                }
              ],
              "GUID": "d14543"
            }
          ],
          "GUID": "3513cc"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 50.72001,
            "posY": 1.22418427,
            "posZ": -5.37000132,
            "rotX": 0.07997873,
            "rotY": 90.00183,
            "rotZ": 359.9831,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Narrative Play",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.117999606,
            "g": 0.53,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"43e397\":{\"lock\":false,\"pos\":{\"x\":39.61,\"y\":1.2453,\"z\":13.79},\"rot\":{\"x\":0.08,\"y\":90.0034,\"z\":359.9831}},\"44715b\":{\"lock\":false,\"pos\":{\"x\":39.61,\"y\":1.2401,\"z\":-3.81},\"rot\":{\"x\":0.08,\"y\":89.9997,\"z\":359.9831}},\"5ddd83\":{\"lock\":false,\"pos\":{\"x\":42.83,\"y\":1.233,\"z\":-12.62},\"rot\":{\"x\":0.08,\"y\":90.0001,\"z\":359.9831}},\"754d30\":{\"lock\":false,\"pos\":{\"x\":46.06,\"y\":1.2363,\"z\":13.79},\"rot\":{\"x\":0.08,\"y\":90.0046,\"z\":359.9831}},\"9734b0\":{\"lock\":false,\"pos\":{\"x\":46.06,\"y\":1.2336,\"z\":4.49},\"rot\":{\"x\":0.0799,\"y\":90.0044,\"z\":359.9831}},\"a3f8a6\":{\"lock\":false,\"pos\":{\"x\":39.61,\"y\":1.2426,\"z\":4.49},\"rot\":{\"x\":0.0799,\"y\":90.0036,\"z\":359.9831}},\"c06ac8\":{\"lock\":false,\"pos\":{\"x\":46.06,\"y\":1.2311,\"z\":-3.81},\"rot\":{\"x\":0.08,\"y\":89.9989,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Bag",
              "Transform": {
                "posX": 39.6100044,
                "posY": 1.24531519,
                "posZ": 13.7900019,
                "rotX": 0.07996062,
                "rotY": 90.00305,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Ambush B",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"00b96b\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":1.69,\"z\":2.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"0ab998\":{\"lock\":true,\"pos\":{\"x\":-10.51,\"y\":1.69,\"z\":-3.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"443a28\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":1.69,\"z\":-3.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"528244\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":1.69,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"c83ecc\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":1.69,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"cf5b75\":{\"lock\":true,\"pos\":{\"x\":-10.51,\"y\":1.69,\"z\":2.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.01,
                    "posY": 2.0,
                    "posZ": 2.66,
                    "rotX": 0.07987458,
                    "rotY": 90.0,
                    "rotZ": 1.00051691E-08,
                    "scaleX": 8.0,
                    "scaleY": 2.0,
                    "scaleZ": 8.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.1179998,
                    "g": 0.53,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "00b96b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.51,
                    "posY": 2.0,
                    "posZ": -3.34,
                    "rotX": 0.07987816,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 7.5
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999993,
                    "b": 0.0939992741
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "0ab998"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.01,
                    "posY": 2.0,
                    "posZ": -3.34,
                    "rotX": 0.07987458,
                    "rotY": 90.0,
                    "rotZ": 1.00051691E-08,
                    "scaleX": 8.0,
                    "scaleY": 2.0,
                    "scaleZ": 8.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.1179998,
                    "g": 0.53,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "443a28"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.01,
                    "posY": 2.0,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128997147,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "528244"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.01,
                    "posY": 2.0,
                    "posZ": -0.34,
                    "rotX": 0.07987458,
                    "rotY": 90.0,
                    "rotZ": 1.00051691E-08,
                    "scaleX": 8.0,
                    "scaleY": 2.0,
                    "scaleZ": 8.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.1179998,
                    "g": 0.53,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c83ecc"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.51,
                    "posY": 2.0,
                    "posZ": 2.66,
                    "rotX": 0.0798781961,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 7.5
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999993,
                    "b": 0.0939992741
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "cf5b75"
                }
              ],
              "GUID": "43e397"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 39.6100044,
                "posY": 1.24013269,
                "posZ": -3.81000161,
                "rotX": 0.0799652562,
                "rotY": 89.99922,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Disrupt Supply Lines B",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"7965ae\":{\"lock\":true,\"pos\":{\"x\":-15.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"89aa7d\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -15.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998473,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "7965ae"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999851,
                    "b": 0.0939985
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "89aa7d"
                }
              ],
              "GUID": "44715b"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 42.8300133,
                "posY": 1.23304963,
                "posZ": -12.6200027,
                "rotX": 0.07997284,
                "rotY": 90.00027,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Feint",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"1512cd\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.5,\"z\":-0.37},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"daae72\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.02,
                    "posY": 2.5,
                    "posZ": -0.37,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998592,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "1512cd"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999986455,
                    "b": 0.09399862
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "daae72"
                }
              ],
              "GUID": "5ddd83"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 46.0600128,
                "posY": 1.23632264,
                "posZ": 13.79,
                "rotX": 0.0799473152,
                "rotY": 90.00562,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Ambush A",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"480807\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":1.69,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"70ba23\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":1.69,\"z\":2.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"870b46\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":1.69,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"87e61b\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":1.69,\"z\":-3.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"89d480\":{\"lock\":true,\"pos\":{\"x\":-25.51,\"y\":1.69,\"z\":2.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"8d7e9b\":{\"lock\":true,\"pos\":{\"x\":-25.51,\"y\":1.69,\"z\":-3.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.01,
                    "posY": 1.69,
                    "posZ": -0.34,
                    "rotX": 0.07987462,
                    "rotY": 90.0,
                    "rotZ": 1.00051691E-08,
                    "scaleX": 8.0,
                    "scaleY": 2.0,
                    "scaleZ": 8.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.117999725,
                    "g": 0.53,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "480807"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.01,
                    "posY": 1.69,
                    "posZ": -3.34,
                    "rotX": 0.07987462,
                    "rotY": 90.0,
                    "rotZ": 1.00051691E-08,
                    "scaleX": 8.0,
                    "scaleY": 2.0,
                    "scaleZ": 8.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.117999725,
                    "g": 0.53,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "87e61b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.01,
                    "posY": 1.69,
                    "posZ": 2.66,
                    "rotX": 0.07987462,
                    "rotY": 90.0,
                    "rotZ": 1.00051691E-08,
                    "scaleX": 8.0,
                    "scaleY": 2.0,
                    "scaleZ": 8.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.117999725,
                    "g": 0.53,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "70ba23"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -25.51,
                    "posY": 1.69,
                    "posZ": 2.66,
                    "rotX": 0.0798782557,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 7.5
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999924,
                    "b": 0.0939992145
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "89d480"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -25.51,
                    "posY": 1.69,
                    "posZ": -3.34,
                    "rotX": 0.0798782259,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 7.5
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999924,
                    "b": 0.0939992145
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "8d7e9b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.01,
                    "posY": 1.69,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128997147,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "870b46"
                }
              ],
              "GUID": "754d30"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 46.0600166,
                "posY": 1.2335844,
                "posZ": 4.48999834,
                "rotX": 0.0799489245,
                "rotY": 90.0051346,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Assassinate A",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"5a3af6\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"619a25\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"ff53b1\":{\"lock\":true,\"pos\":{\"x\":-28.0445,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998219,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "5a3af6"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.0799,
                    "rotY": 180.0,
                    "rotZ": 359.9831,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999826,
                    "b": 0.09399826
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "619a25"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.0445,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987452,
                    "rotY": 90.0,
                    "rotZ": 0.0,
                    "scaleX": 5.0,
                    "scaleY": 2.0,
                    "scaleZ": 5.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "ff53b1"
                }
              ],
              "GUID": "9734b0"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 39.6100044,
                "posY": 1.24257684,
                "posZ": 4.49,
                "rotX": 0.07996426,
                "rotY": 90.00291,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Assassinate B",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"699320\":{\"lock\":true,\"pos\":{\"x\":-8.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"cb513d\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"fab29f\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -8.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987452,
                    "rotY": 90.0,
                    "rotZ": 0.0,
                    "scaleX": 5.0,
                    "scaleY": 2.0,
                    "scaleZ": 5.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "699320"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998219,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "cb513d"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.0799,
                    "rotY": 180.0,
                    "rotZ": 359.9831,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999826,
                    "b": 0.09399826
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "fab29f"
                }
              ],
              "GUID": "a3f8a6"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 46.0600052,
                "posY": 1.23114181,
                "posZ": -3.81000137,
                "rotX": 0.07995746,
                "rotY": 89.9985657,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Disrupt Supply Lines A",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"1851de\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"a0eed0\":{\"lock\":true,\"pos\":{\"x\":-21.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999851,
                    "b": 0.0939985
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "1851de"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -21.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998473,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "a0eed0"
                }
              ],
              "GUID": "c06ac8"
            }
          ],
          "GUID": "985806"
        }
      ],
      "GUID": "b4f838"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 28.3,
        "posY": 1.4488,
        "posZ": 40.3339,
        "rotX": 0.0168961547,
        "rotY": 0.0,
        "rotZ": 0.07987098,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Outflank - Elites Tactic",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/791983956791660667/2DD76BD5C50FDFBBD569C6FF15E7888777CE42E2/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "b73c5b"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 3.264701,
        "posY": 1.47867358,
        "posZ": 5.82640028,
        "rotX": 359.920135,
        "rotY": 269.998871,
        "rotZ": 0.01689224,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Charge[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.627,
        "g": 0.124999829,
        "b": 0.941
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886943371/79D2EC11AAD8F9A5489F0CD635AD04A7ECCC7A3A/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935313/5C4198CD633F35ACEE54D5609A79A08412F068F2/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "c14e02"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.7297058,
        "posY": 2.77500725,
        "posZ": -41.34461,
        "rotX": 359.9831,
        "rotY": 0.000825833529,
        "rotZ": 359.919983,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Fortitude",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -26.0,
            "posY": 5.97958231,
            "posZ": -32.5,
            "rotX": -5.7957528E-05,
            "rotY": 180.004211,
            "rotZ": -5.81045751E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Fortitude Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498937206/F4F4097659002241C0C952A7D01BC1067EBDABC9/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4a3a87"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -26.0,
            "posY": 5.97659,
            "posZ": -27.5,
            "rotX": -9.502036E-08,
            "rotY": 180.001556,
            "rotZ": -1.59760276E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Fortitude Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498935595/E4A76CFF7C0D77F2D9C0AC2C5B24391C94961088/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "16192b"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -26.0,
            "posY": 5.97658968,
            "posZ": -22.5,
            "rotX": -2.57572225E-07,
            "rotY": 180.006058,
            "rotZ": -2.75623151E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Fortitude Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498936694/978F0A8E64D5512D996161A9AD3AB509CFCFB17F/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "05c453"
        }
      ],
      "GUID": "c2cd7c"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 20.89,
        "posY": 1.4488,
        "posZ": 45.0663,
        "rotX": 0.0168994144,
        "rotY": 1.628444E-12,
        "rotZ": 0.07986772,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Decisive Shot",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486386332/FAB09CFE160E884EC63948601645346883B03143/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "c7b6a0"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 6.1648016,
        "posY": 1.47096157,
        "posZ": -6.633702,
        "rotX": 359.9201,
        "rotY": 270.000549,
        "rotZ": 0.0168498755,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Shoot[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391995072,
        "b": 0.112995081
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173490722307/B317E8B9AAE84A14F097D65F1A2C707D38284E60/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173490722307/B317E8B9AAE84A14F097D65F1A2C707D38284E60/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "c839c5"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 3.27070069,
        "posY": 1.477974,
        "posZ": 3.479101,
        "rotX": 359.9202,
        "rotY": 269.7134,
        "rotZ": 0.0172412731,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Fall Back[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.627,
        "g": 0.124999829,
        "b": 0.941
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886941613/8A2E9CC136EB628B7092DF2B739E07E8011DF01E/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935313/5C4198CD633F35ACEE54D5609A79A08412F068F2/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "c9c44f"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 6.158701,
        "posY": 1.473948,
        "posZ": 3.4792006,
        "rotX": 359.92,
        "rotY": 270.32135,
        "rotZ": 0.0164239742,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Shoot[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.117999829,
        "g": 0.53,
        "b": 1.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886934811/E5B6AEC06CEBDCC2B0DE979D626739FFF946B442/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886934811/E5B6AEC06CEBDCC2B0DE979D626739FFF946B442/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "cbc45d"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.7299232,
        "posY": 2.77147341,
        "posZ": -53.3447075,
        "rotX": 359.9831,
        "rotY": 359.9928,
        "rotZ": 359.919952,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Melee",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -2.0,
            "posY": 5.979803,
            "posZ": -32.5,
            "rotX": -3.904726E-05,
            "rotY": 180.004211,
            "rotZ": -3.928584E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Melee Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498961285/5818FF34B0A5CF576B5C1B05D86369804A090986/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "c694b5"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -2.0,
            "posY": 5.978095,
            "posZ": -22.5,
            "rotX": -7.102659E-08,
            "rotY": 180.006058,
            "rotZ": -8.04642539E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Melee Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498959827/617FD93F8E520B6F82588A21BE4C901E1F1230E4/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1ce972"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 40.53208,
            "posY": 4.18553543,
            "posZ": 44.2217,
            "rotX": -0.004212859,
            "rotY": 179.9834,
            "rotZ": 359.564056,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Melee Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498960436/DB7619DE873AF969317A13E8FE6C0E747AE2A555/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5c115b"
        }
      ],
      "GUID": "cbd3ad"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 13.46,
        "posY": 1.4489,
        "posZ": 35.7339,
        "rotX": 0.0169021878,
        "rotY": 0.0,
        "rotZ": 0.0798696354,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Insane Bravery",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486387020/CDA3C4A509641C5DD94D7C11680594A5AC0F58FF/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "cc5a21"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 3.264701,
        "posY": 1.479345,
        "posZ": 8.106402,
        "rotX": 359.9201,
        "rotY": 269.999542,
        "rotZ": 0.016841758,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Move [/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.627,
        "g": 0.124999829,
        "b": 0.941
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886932829/1BC2DA888143E5149F923D97E88E8EC9DA0FA029/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935313/5C4198CD633F35ACEE54D5609A79A08412F068F2/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "cce325"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 1.2147001,
        "posY": 1.47786236,
        "posZ": -6.633702,
        "rotX": 359.920135,
        "rotY": 270.000122,
        "rotZ": 0.0168843027,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Shoot[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.1289998,
        "g": 0.694,
        "b": 0.606999934
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935931/83E55AB6BE501486333B0BF677071EC284F5850F/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935931/83E55AB6BE501486333B0BF677071EC284F5850F/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d00076"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 45.67571,
        "posY": 2.80661535,
        "posZ": 46.7949142,
        "rotX": 0.01687452,
        "rotY": 179.995453,
        "rotZ": 0.08004778,
        "scaleX": 0.5500004,
        "scaleY": 0.5500004,
        "scaleZ": 0.5500004
      },
      "Nickname": "Sniper",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 17.9972267,
            "posY": 6.05045128,
            "posZ": 7.000129,
            "rotX": 359.990356,
            "rotY": 180.027847,
            "rotZ": 359.651978,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Sniper Level 3 - Quick Shot",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486983371/AF82E35E244F6674C721EB2A84F1C49BEB23012E/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1ef25f"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 17.9974689,
            "posY": 6.05051661,
            "posZ": 5.999643,
            "rotX": 0.00780233741,
            "rotY": 180.00853,
            "rotZ": 359.712524,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Sniper Level 2 - Headshot",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486984800/B38E113F31A48BA52E184BF8FDB288A9D9EB0CFC/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "ed14fe"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 17.9974689,
            "posY": 6.050435,
            "posZ": 5.99964142,
            "rotX": 0.008177299,
            "rotY": 180.012161,
            "rotZ": 359.7131,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Sniper Level 1 - Careful Aim",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486981924/76C277A10B6ED848B4DD39171FEF491A81FEA48C/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "09a490"
        }
      ],
      "GUID": "d0a391"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.7298164,
        "posY": 2.77382946,
        "posZ": -45.34461,
        "rotX": 359.9831,
        "rotY": 0.0003451169,
        "rotZ": 359.919983,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Leadership",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -18.0,
            "posY": 5.979803,
            "posZ": -32.5,
            "rotX": -3.96809264E-05,
            "rotY": 180.001556,
            "rotZ": -3.9165112E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Leadership Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498940378/658A5A2C2A76CCEA562E5A21E62175D9829DA507/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "7ae9c5"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -18.0,
            "posY": 5.97809553,
            "posZ": -27.5,
            "rotX": 3.75065277E-08,
            "rotY": 180.006058,
            "rotZ": 9.356666E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Leadership Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498939298/0C554CAD306FF5D4458B37DFE2D6B9BC41D8EAB1/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "eaac0b"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -18.0,
            "posY": 5.978095,
            "posZ": -22.5,
            "rotX": -1.42391841E-07,
            "rotY": 180.004211,
            "rotZ": 4.250777E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Leadership Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498941271/764337D537025F09279F10440BDE29C20155A5B8/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "064c29"
        }
      ],
      "GUID": "d43087"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 49.4446259,
        "posY": 2.799006,
        "posZ": 38.7978134,
        "rotX": 0.01689215,
        "rotY": 179.997208,
        "rotZ": 0.08002532,
        "scaleX": 0.5500004,
        "scaleY": 0.5500004,
        "scaleZ": 0.5500004
      },
      "Nickname": "Heavy",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 17.99747,
            "posY": 6.05053425,
            "posZ": -0.000362946535,
            "rotX": 0.009999505,
            "rotY": 180.030563,
            "rotZ": 359.7133,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Heavy Level 3 - Unkillable",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486850787/47D7D86F8C1DFD0075FB407E319D354107AA76C5/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "849003"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 17.9974689,
            "posY": 6.05044,
            "posZ": -0.000358513556,
            "rotX": 0.00807505753,
            "rotY": 180.006317,
            "rotZ": 359.713135,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Heavy Level 2 - Overwhelming Firepower",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486850069/32C552B86CD7B39B5FD3C470F8C5A5CB5E882DC2/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5814e1"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 17.9748688,
            "posY": 6.0161314,
            "posZ": 1.00459266,
            "rotX": 359.800476,
            "rotY": 180.146851,
            "rotZ": 343.604,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Heavy Level 1 - More Bullets",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486851921/E6B4EB4D82B6222C3EED220A7DDAE1C3DEC7E53D/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "cb60f0"
        }
      ],
      "GUID": "d688d7"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 46.21021,
        "posY": 2.779914,
        "posZ": -41.3445,
        "rotX": 359.983124,
        "rotY": 8.05134259E-05,
        "rotZ": 359.919952,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Shooting",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 14.0,
            "posY": 5.979582,
            "posZ": -32.5,
            "rotX": -5.82527136E-05,
            "rotY": 180.001556,
            "rotZ": -5.81828062E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Shooting Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498972375/BFD0241B784DDD5F1D98AD3D5BCEECA312CB2175/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "90f846"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 14.0,
            "posY": 5.97659,
            "posZ": -27.5,
            "rotX": -5.42427578E-08,
            "rotY": 180.006042,
            "rotZ": -4.5821416E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Shooting Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498971188/8912C6B82E8534B4C047683B29C72FF16C093881/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "06567d"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 14.0,
            "posY": 5.9769907,
            "posZ": -22.5,
            "rotX": -1.38721617E-07,
            "rotY": 180.004211,
            "rotZ": 9.032012E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Shooting Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498973370/31A59718A01D97F49BEC1646AC4DEB2CC1DF9214/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "fc5bde"
        }
      ],
      "GUID": "d7ac42"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 28.3,
        "posY": 1.4316,
        "posZ": -35.6701,
        "rotX": 0.0168961547,
        "rotY": 179.981689,
        "rotZ": 0.07987098,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Outflank - Elites Tactic",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/791983956791660667/2DD76BD5C50FDFBBD569C6FF15E7888777CE42E2/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d87195"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 20.89,
        "posY": 1.4419,
        "posZ": -35.67,
        "rotX": 0.0168994181,
        "rotY": 179.9797,
        "rotZ": 0.07986772,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Decisive Shot",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486386332/FAB09CFE160E884EC63948601645346883B03143/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "dcebbf"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 46.2103157,
        "posY": 2.77873588,
        "posZ": -45.3445,
        "rotX": 359.983124,
        "rotY": 8.75119658E-05,
        "rotZ": 359.919952,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Stealth",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 22.0,
            "posY": 5.979779,
            "posZ": -32.5,
            "rotX": -4.16380935E-05,
            "rotY": 180.006058,
            "rotZ": -4.11803267E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Stealth Level 1 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498975275/97C266A13CFF81AB085428CA4ACF9ABFEC8B4A35/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "d68653"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 22.0,
            "posY": 5.977972,
            "posZ": -27.5,
            "rotX": 7.781466E-08,
            "rotY": 180.001556,
            "rotZ": -6.29495744E-09,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Stealth Level 1 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498975890/564664EA7AD6992ABF22BA405AE69D86DC18A3CE/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "ed5ee0"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 22.0,
            "posY": 5.97797155,
            "posZ": -22.5,
            "rotX": 9.748352E-08,
            "rotY": 180.004211,
            "rotZ": 1.22616965E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Stealth Level 1 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498976498/7908E4B18D75E437EEDE434A024D55D70DE5C164/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "abf8ba"
        }
      ],
      "GUID": "dea408"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 1.21470046,
        "posY": 1.4785248,
        "posZ": -4.383701,
        "rotX": 359.9201,
        "rotY": 269.999817,
        "rotZ": 0.0168469846,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Ready[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.1289998,
        "g": 0.694,
        "b": 0.606999934
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886940276/3CFE04BDBDB3B6B63D76D48F7A2A13932AB5F1CC/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935931/83E55AB6BE501486333B0BF677071EC284F5850F/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e01ca3"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 8.2248,
        "posY": 1.46938515,
        "posZ": -2.23370051,
        "rotX": 359.9201,
        "rotY": 269.9999,
        "rotZ": 0.0168575086,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Move [/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391995,
        "b": 0.112995021
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173490536711/35FBF7D12AF4F0AA49D82A60A79A39C57D6595CA/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173490722307/B317E8B9AAE84A14F097D65F1A2C707D38284E60/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e0e3e7"
    },
    {
      "Name": "Bag",
      "Transform": {
        "posX": 54.0108,
        "posY": 1.31509614,
        "posZ": -28.2711,
        "rotX": -0.002631232,
        "rotY": 359.975372,
        "rotZ": 6.47863626,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "Narrative Extra Deployments",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7058823,
        "g": 0.366520882,
        "b": 0.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Bag",
          "Transform": {
            "posX": 25.1071262,
            "posY": 3.25193977,
            "posZ": -66.20768,
            "rotX": 359.4116,
            "rotY": 90.09942,
            "rotZ": 356.283173,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Revive the Shrine",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"2919df\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"2f5a10\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987452,
                "rotY": 90.0,
                "rotZ": 0.0,
                "scaleX": 15.0,
                "scaleY": 2.0,
                "scaleZ": 15.0
              },
              "Nickname": "Area Denial Range Checker",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.117999487,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "2919df"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987452,
                "rotY": 90.0,
                "rotZ": 0.0,
                "scaleX": 5.0,
                "scaleY": 2.0,
                "scaleZ": 5.0
              },
              "Nickname": "Area Denial Range Checker",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.099999465,
                "b": 0.09399945
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "2f5a10"
            }
          ],
          "GUID": "512a5a"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 49.4098663,
            "posY": 3.14918351,
            "posZ": -48.2051125,
            "rotX": 0.0167471673,
            "rotY": 90.00084,
            "rotZ": -0.00354219438,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Binary Targets",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"75e2f8\":{\"lock\":true,\"pos\":{\"x\":-4.5284,\"y\":2.5,\"z\":5.6133},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"8c6f7b\":{\"lock\":true,\"pos\":{\"x\":-6.02,\"y\":2.5,\"z\":-0.36},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"950ed8\":{\"lock\":true,\"pos\":{\"x\":-31.5626,\"y\":2.5,\"z\":5.61},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"9ef09a\":{\"lock\":true,\"pos\":{\"x\":-31.5455,\"y\":2.5,\"z\":-6.37},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"bf53fc\":{\"lock\":true,\"pos\":{\"x\":-4.5271,\"y\":2.5,\"z\":-6.37},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"dc2a32\":{\"lock\":true,\"pos\":{\"x\":-30.04,\"y\":2.5,\"z\":-0.37},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -4.5284,
                "posY": 2.5,
                "posZ": 5.6133,
                "rotX": 0.07987851,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 1.5
              },
              "Nickname": "Take Prisoners",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998592,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "75e2f8"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -6.02,
                "posY": 2.5,
                "posZ": -0.36,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 6.0
              },
              "Nickname": "Take Prisoners",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998592,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "8c6f7b"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -31.5626,
                "posY": 2.5,
                "posZ": 5.61,
                "rotX": 0.07987851,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 1.5
              },
              "Nickname": "Terror Tactics",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999986455,
                "b": 0.09399862
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "950ed8"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -31.5455,
                "posY": 2.5,
                "posZ": -6.37,
                "rotX": 0.07987851,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 1.5
              },
              "Nickname": "Terror Tactics",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999986455,
                "b": 0.09399862
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "9ef09a"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -4.5271,
                "posY": 2.5,
                "posZ": -6.37,
                "rotX": 0.07987848,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 1.5
              },
              "Nickname": "Terror Tactics",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998592,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "bf53fc"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -30.04,
                "posY": 2.5,
                "posZ": -0.37,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 6.0
              },
              "Nickname": "Take Prisoners",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999986455,
                "b": 0.09399862
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "dc2a32"
            }
          ],
          "GUID": "2b8330"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 43.0312462,
            "posY": 3.15787077,
            "posZ": -48.8958,
            "rotX": 0.0167505518,
            "rotY": 89.9993439,
            "rotZ": -0.00353656732,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Extreme Measures",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"631b7c\":{\"lock\":true,\"pos\":{\"x\":-8.56,\"y\":2.5,\"z\":-5.92},\"rot\":{\"x\":0,\"y\":45,\"z\":0}},\"912fb0\":{\"lock\":true,\"pos\":{\"x\":-27.5146,\"y\":2.5,\"z\":5.2154},\"rot\":{\"x\":0,\"y\":45,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -8.56,
                "posY": 2.5,
                "posZ": -5.92,
                "rotX": 0.0,
                "rotY": 45.0000038,
                "rotZ": 0.0,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 7.9
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.099999,
                "b": 0.0939989761
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "631b7c"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.51,
                "posY": 2.5,
                "posZ": 5.2154,
                "rotX": 0.0,
                "rotY": 45.0000038,
                "rotZ": 0.0,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 7.9
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.12899667,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "912fb0"
            }
          ],
          "GUID": "0177d9"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 42.8735542,
            "posY": 3.156431,
            "posZ": -54.53447,
            "rotX": 0.01676442,
            "rotY": 90.0001,
            "rotZ": -0.00353861088,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Infestation",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"5bdc6a\":{\"lock\":true,\"pos\":{\"x\":-30.02,\"y\":2.4977,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"938778\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.4977,\"z\":7.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"b53447\":{\"lock\":true,\"pos\":{\"x\":-6.02,\"y\":2.4977,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"ebdef2\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.4977,\"z\":-8.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.4977,
                "posZ": -8.34,
                "rotX": 0.07987851,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 12.0
              },
              "Nickname": "Take Prisoners",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998666,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "ebdef2"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -6.02,
                "posY": 2.4977,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "Take Prisoners",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998666,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "b53447"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.4977,
                "posZ": 7.66,
                "rotX": 0.07987848,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 12.0
              },
              "Nickname": "Terror Tactics",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998666,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "938778"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -30.02,
                "posY": 2.4977,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.0
              },
              "Nickname": "Take Prisoners",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998666,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "5bdc6a"
            }
          ],
          "GUID": "c73a61"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 37.1034622,
            "posY": 3.16623569,
            "posZ": -48.5548019,
            "rotX": 0.0167511813,
            "rotY": 89.99951,
            "rotZ": -0.00353863742,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "The Purging",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"0ece3b\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"659875\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"f2a243\":{\"lock\":true,\"pos\":{\"x\":-31.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999832,
                "b": 0.09399832
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "0ece3b"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -13.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998279,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "659875"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -31.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999832,
                "b": 0.09399832
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "f2a243"
            }
          ],
          "GUID": "d86584"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 48.6705742,
            "posY": 3.14587355,
            "posZ": -62.9377975,
            "rotX": 0.0167629961,
            "rotY": 89.9999,
            "rotZ": -0.00354669918,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Break Their Will",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"363df1\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.4994,\"z\":-5.34},\"rot\":{\"x\":0.0799,\"y\":90.0036,\"z\":359.9832}},\"c099b6\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.4994,\"z\":4.66},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.4994,
                "posZ": -5.34,
                "rotX": 0.07991534,
                "rotY": 90.00356,
                "rotZ": 359.983154,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998473,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "363df1"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.4994,
                "posZ": 4.66,
                "rotX": 359.9201,
                "rotY": 270.005219,
                "rotZ": 0.0168819,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999851,
                "b": 0.0939985
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "c099b6"
            }
          ],
          "GUID": "2ccdaa"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 42.21838,
            "posY": 3.15520072,
            "posZ": -62.053215,
            "rotX": 0.02024305,
            "rotY": 90.0006561,
            "rotZ": -0.00427862071,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Forward Position",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"2bb386\":{\"lock\":true,\"pos\":{\"x\":-8.02,\"y\":2.5,\"z\":2.16},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"4510cf\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-6.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"466346\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.5,\"z\":5.16},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"92ebf7\":{\"lock\":true,\"pos\":{\"x\":-28.02,\"y\":2.5,\"z\":2.16},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"a079db\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"cd056f\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":5.16},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -8.02,
                "posY": 2.5,
                "posZ": 2.16,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998473,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "2bb386"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -6.34,
                "rotX": 0.0798785761,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 10.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998473,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "4510cf"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.02,
                "posY": 2.5,
                "posZ": 5.16,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 5.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999851,
                "b": 0.0939985
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "466346"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -28.02,
                "posY": 2.5,
                "posZ": 2.16,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 8.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998473,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "92ebf7"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.0798786059,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 5.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999851,
                "b": 0.0939985
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "a079db"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -13.02,
                "posY": 2.5,
                "posZ": 5.16,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 5.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999851,
                "b": 0.0939985
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "cd056f"
            }
          ],
          "GUID": "49aa26"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 36.8105469,
            "posY": 3.162728,
            "posZ": -61.8492966,
            "rotX": 0.0167577323,
            "rotY": 89.99962,
            "rotZ": -0.00353991869,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Rescue",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"042443\":{\"lock\":true,\"pos\":{\"x\":-28.0816,\"y\":2.5,\"z\":-5.8523},\"rot\":{\"x\":0,\"y\":317.72,\"z\":0}},\"2ec063\":{\"lock\":true,\"pos\":{\"x\":-7.9816,\"y\":2.5,\"z\":5.1527},\"rot\":{\"x\":0,\"y\":317.72,\"z\":0}},\"588b07\":{\"lock\":true,\"pos\":{\"x\":-28.0769,\"y\":2.5,\"z\":5.1574},\"rot\":{\"x\":0,\"y\":42.274,\"z\":0}},\"cc0244\":{\"lock\":true,\"pos\":{\"x\":-7.9792,\"y\":2.5,\"z\":-5.8751},\"rot\":{\"x\":0,\"y\":42.271,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -7.9792,
                "posY": 2.5,
                "posZ": -5.8751,
                "rotX": 0.0,
                "rotY": 42.2710075,
                "rotZ": 0.0,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 7.433
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999887,
                "b": 0.09399886
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "cc0244"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -7.9816,
                "posY": 2.5,
                "posZ": 5.1527,
                "rotX": -2.00629688E-13,
                "rotY": 317.72,
                "rotZ": -3.44034121E-14,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 7.433
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999887,
                "b": 0.09399886
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "2ec063"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -28.0769,
                "posY": 2.5,
                "posZ": 5.1574,
                "rotX": 0.0,
                "rotY": 42.2739944,
                "rotZ": 0.0,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 7.433
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996551,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "588b07"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -28.0816,
                "posY": 2.5,
                "posZ": -5.8523,
                "rotX": -2.019787E-13,
                "rotY": 317.72,
                "rotZ": -2.53069033E-14,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 7.433
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.128996551,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "042443"
            }
          ],
          "GUID": "3cafb6"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 32.3561,
            "posY": 3.17282486,
            "posZ": -48.6610146,
            "rotX": 0.0167558789,
            "rotY": 89.9998,
            "rotZ": -0.00353782787,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "The Cull",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"135866\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"24856d\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9933014,
                "posY": 2.499173,
                "posZ": -0.3643066,
                "rotX": 0.07987452,
                "rotY": 90.0,
                "rotZ": 0.0,
                "scaleX": 15.0,
                "scaleY": 2.0,
                "scaleZ": 15.0
              },
              "Nickname": "Area Denial Range Checker",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.117999606,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "135866"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9969769,
                "posY": 2.49928713,
                "posZ": -0.360958844,
                "rotX": 0.07987452,
                "rotY": 90.0,
                "rotZ": 0.0,
                "scaleX": 5.0,
                "scaleY": 2.0,
                "scaleZ": 5.0
              },
              "Nickname": "Area Denial Range Checker",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999996,
                "b": 0.09399957
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "24856d"
            }
          ],
          "GUID": "5461ee"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 31.9901257,
            "posY": 3.171489,
            "posZ": -54.9238777,
            "rotX": 0.0167578552,
            "rotY": 89.99911,
            "rotZ": -0.00354709732,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Uprising",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"337b0d\":{\"lock\":true,\"pos\":{\"x\":-24.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"5cd2e2\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":3.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"71d8bf\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":5.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"d58b58\":{\"lock\":true,\"pos\":{\"x\":-12.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"da91db\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-4.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"e1cd25\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-6.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.9705544,
                "posY": 2.49865556,
                "posZ": -0.3862374,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999845,
                "b": 0.0939984247
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "337b0d"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9748249,
                "posY": 2.49858665,
                "posZ": 3.60687017,
                "rotX": 0.07987867,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 6.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999845,
                "b": 0.0939984247
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "5cd2e2"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9691124,
                "posY": 2.49840784,
                "posZ": 5.59759331,
                "rotX": 0.07987864,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998413,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "71d8bf"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -11.9834948,
                "posY": 2.49865556,
                "posZ": -0.3862374,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999845,
                "b": 0.0939984247
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "d58b58"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9748249,
                "posY": 2.49858665,
                "posZ": -4.384063,
                "rotX": 0.07987867,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 6.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999845,
                "b": 0.0939984247
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "da91db"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9691124,
                "posY": 2.49840784,
                "posZ": -6.38708448,
                "rotX": 0.07987864,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998413,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "e1cd25"
            }
          ],
          "GUID": "6780f2"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 31.6562157,
            "posY": 3.16963458,
            "posZ": -62.80507,
            "rotX": 0.0167592317,
            "rotY": 89.9995,
            "rotZ": -0.00353632,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Vanguard",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"006205\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-6.34},\"rot\":{\"x\":0.0799,\"y\":90.0036,\"z\":359.9832}},\"b431a3\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":5.66},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -6.34,
                "rotX": 0.07991534,
                "rotY": 90.00356,
                "rotZ": 359.983154,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998279,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "006205"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": 5.66,
                "rotX": 359.9201,
                "rotY": 270.005219,
                "rotZ": 0.0168819,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999832,
                "b": 0.09399832
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "b431a3"
            }
          ],
          "GUID": "2701cc"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 63.01922,
            "posY": 1.51814771,
            "posZ": -53.66295,
            "rotX": 0.0167653561,
            "rotY": 89.99998,
            "rotZ": -0.00354382931,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Marked for Destruction",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"34d7f3\":{\"lock\":true,\"pos\":{\"x\":-18.0064,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"650de9\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.0064,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987452,
                "rotY": 90.0,
                "rotZ": 0.0,
                "scaleX": 5.0,
                "scaleY": 2.0,
                "scaleZ": 5.0
              },
              "Nickname": "Area Denial Range Checker",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999979,
                "b": 0.0939997658
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "34d7f3"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987452,
                "rotY": 90.0,
                "rotZ": 0.0,
                "scaleX": 15.0,
                "scaleY": 2.0,
                "scaleZ": 15.0
              },
              "Nickname": "Area Denial Range Checker",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.1179998,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "650de9"
            }
          ],
          "GUID": "8f94cc"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 42.0403023,
            "posY": 3.15379047,
            "posZ": -67.49124,
            "rotX": 0.0174055938,
            "rotY": 89.998764,
            "rotZ": -0.003677588,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Destroy the Facility",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"0dc393\":{\"lock\":true,\"pos\":{\"x\":-8.56,\"y\":2.5,\"z\":5.22},\"rot\":{\"x\":0,\"y\":314.9999,\"z\":0}},\"c9025d\":{\"lock\":true,\"pos\":{\"x\":-27.51,\"y\":2.5,\"z\":-5.92},\"rot\":{\"x\":0,\"y\":314.9999,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -8.56,
                "posY": 2.5,
                "posZ": 5.22,
                "rotX": -2.01978571E-13,
                "rotY": 314.999878,
                "rotZ": -2.53069E-14,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 7.9
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.099999,
                "b": 0.0939989761
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "0dc393"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.51,
                "posY": 2.5,
                "posZ": -5.92,
                "rotX": -2.01978571E-13,
                "rotY": 314.999878,
                "rotZ": -2.53069E-14,
                "scaleX": 1.0000577,
                "scaleY": 1.0,
                "scaleZ": 7.9
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.12899667,
                "g": 0.694,
                "b": 0.606999934
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "c9025d"
            }
          ],
          "GUID": "322435"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 36.5743866,
            "posY": 3.16153622,
            "posZ": -67.01585,
            "rotX": 0.01675981,
            "rotY": 89.99948,
            "rotZ": -0.00354751619,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Stowaway",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"50e5c7\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":-4.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"7e7cd9\":{\"lock\":true,\"pos\":{\"x\":-25.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"89fdde\":{\"lock\":true,\"pos\":{\"x\":-29.02,\"y\":2.5,\"z\":3.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -29.02,
                "posY": 2.5,
                "posZ": -4.34,
                "rotX": 0.07987867,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998353,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "50e5c7"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -25.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998353,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "7e7cd9"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -29.02,
                "posY": 2.5,
                "posZ": 3.66,
                "rotX": 0.07987864,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 4.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998353,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "89fdde"
            }
          ],
          "GUID": "ebd4a1"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 31.2619038,
            "posY": 3.169098,
            "posZ": -66.73039,
            "rotX": 0.02024897,
            "rotY": 89.9999847,
            "rotZ": -0.0042797355,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Light the Beacons",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"6ca2c5\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":4.66},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}},\"e80e6b\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-5.34},\"rot\":{\"x\":0.0799,\"y\":90.0036,\"z\":359.9832}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": 4.66,
                "rotX": 359.9201,
                "rotY": 270.005219,
                "rotZ": 0.0168819,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999826,
                "b": 0.09399826
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "6ca2c5"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.02,
                "posY": 2.5,
                "posZ": -5.34,
                "rotX": 0.07991534,
                "rotY": 90.00356,
                "rotZ": 359.983154,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998219,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "e80e6b"
            }
          ],
          "GUID": "b19408"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 26.08117,
            "posY": 3.18152571,
            "posZ": -48.811554,
            "rotX": 0.0167566016,
            "rotY": 90.00019,
            "rotZ": -0.00354581373,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Da Mega-Pyre",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"786cfe\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"ef7ee3\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.01,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987452,
                "rotY": 90.0,
                "rotZ": 0.0,
                "scaleX": 5.0,
                "scaleY": 2.0,
                "scaleZ": 5.0
              },
              "Nickname": "Area Denial Range Checker",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.099999465,
                "b": 0.09399945
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "ef7ee3"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.01,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987452,
                "rotY": 90.0,
                "rotZ": 0.0,
                "scaleX": 15.0,
                "scaleY": 2.0,
                "scaleZ": 15.0
              },
              "Nickname": "Area Denial Range Checker",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.117999487,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "786cfe"
            }
          ],
          "GUID": "067ddf"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 24.9568272,
            "posY": 3.17954063,
            "posZ": -60.8750725,
            "rotX": 0.0167558622,
            "rotY": 89.99991,
            "rotZ": -0.00354024628,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Defend the Settlement",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"b75ea1\":{\"lock\":true,\"pos\":{\"x\":-27.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.12499816,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "b75ea1"
            }
          ],
          "GUID": "35a6fa"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 52.94437,
            "posY": 3.35468578,
            "posZ": -27.5389442,
            "rotX": 359.1395,
            "rotY": 89.99914,
            "rotZ": 0.727347732,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Desperate Recovery",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"976fba\":{\"lock\":true,\"pos\":{\"x\":-9.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"c46f45\":{\"lock\":true,\"pos\":{\"x\":-27.02,\"y\":2.4984,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -9.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.1249981,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "976fba"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -27.02,
                "posY": 2.4984,
                "posZ": -0.34,
                "rotX": 0.07987642,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 11.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.0999981537,
                "b": 0.09399813
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "c46f45"
            }
          ],
          "GUID": "13261c"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 53.3498,
            "posY": 3.37023449,
            "posZ": -28.4928226,
            "rotX": 358.995331,
            "rotY": 90.00534,
            "rotZ": 359.5239,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Mindshackle Abduction",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"070b00\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":2.5,\"z\":2.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"379433\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"8524d0\":{\"lock\":true,\"pos\":{\"x\":-18.01,\"y\":2.5,\"z\":-3.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"b43c9f\":{\"lock\":true,\"pos\":{\"x\":-10.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"bed7d0\":{\"lock\":true,\"pos\":{\"x\":-25.51,\"y\":2.5,\"z\":2.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"fb1a73\":{\"lock\":true,\"pos\":{\"x\":-25.51,\"y\":2.5,\"z\":-3.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9872532,
                "posY": 2.49936366,
                "posZ": 2.63695526,
                "rotX": 0.0798747,
                "rotY": 90.0,
                "rotZ": 1.00051691E-08,
                "scaleX": 8.0,
                "scaleY": 2.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.117999487,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "070b00"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -18.0019436,
                "posY": 2.49949527,
                "posZ": -0.3570762,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999979,
                "b": 0.0939997658
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "379433"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.9872532,
                "posY": 2.49936366,
                "posZ": -3.359999,
                "rotX": 0.0798747,
                "rotY": 90.0,
                "rotZ": 1.00051691E-08,
                "scaleX": 8.0,
                "scaleY": 2.0,
                "scaleZ": 8.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.117999487,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": false,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "8524d0"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -10.02,
                "posY": 2.5,
                "posZ": -0.34,
                "rotX": 0.07987648,
                "rotY": 180.0,
                "rotZ": 359.983124,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 3.0
              },
              "Nickname": "Take Prisoners",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.117999487,
                "g": 0.53,
                "b": 1.0
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "b43c9f"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -25.4861584,
                "posY": 2.49942875,
                "posZ": 2.63931036,
                "rotX": 0.07987842,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 7.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999979,
                "b": 0.0939997658
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "bed7d0"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -25.4861584,
                "posY": 2.49942875,
                "posZ": -3.35795522,
                "rotX": 0.07987838,
                "rotY": 90.0,
                "rotZ": 359.983124,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 7.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999979,
                "b": 0.0939997658
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "fb1a73"
            }
          ],
          "GUID": "2d631c"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 53.86524,
            "posY": 3.39013052,
            "posZ": -28.1257133,
            "rotX": 0.005576783,
            "rotY": 89.99719,
            "rotZ": 0.299950868,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Daring Ambush",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.7058823,
            "g": 0.366520882,
            "b": 0.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"153be7\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":5.66},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}},\"29bf2c\":{\"lock\":true,\"pos\":{\"x\":-12.0396,\"y\":2.4994,\"z\":8.1748},\"rot\":{\"x\":359.9831,\"y\":359.9883,\"z\":359.92}},\"566c49\":{\"lock\":true,\"pos\":{\"x\":-24.04,\"y\":2.5,\"z\":8.17},\"rot\":{\"x\":359.9821,\"y\":359.2333,\"z\":359.9203}},\"e5ca71\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5009,\"z\":-6.34},\"rot\":{\"x\":0.0799,\"y\":90.0036,\"z\":359.9832}}}}",
          "ContainedObjects": [
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.1159973,
                "posY": 2.47986341,
                "posZ": 4.867313,
                "rotX": 359.9201,
                "rotY": 270.005219,
                "rotZ": 0.0168819,
                "scaleX": 1.0001868,
                "scaleY": 1.0,
                "scaleZ": 6.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999857,
                "b": 0.09399856
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "153be7"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -11.2887859,
                "posY": 2.48072672,
                "posZ": 7.402393,
                "rotX": 359.983124,
                "rotY": 359.988342,
                "rotZ": 359.92,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 2.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999857,
                "b": 0.09399856
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "29bf2c"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -23.1127987,
                "posY": 2.48131752,
                "posZ": 7.397664,
                "rotX": 359.982056,
                "rotY": 359.233337,
                "rotZ": 359.920319,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 2.5
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.856,
                "g": 0.09999857,
                "b": 0.09399856
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "566c49"
            },
            {
              "Name": "Custom_Model",
              "Transform": {
                "posX": -17.03137,
                "posY": 2.478863,
                "posZ": -6.998983,
                "rotX": 0.07991534,
                "rotY": 90.00356,
                "rotZ": 359.983154,
                "scaleX": 1.00021541,
                "scaleY": 1.0,
                "scaleZ": 15.0
              },
              "Nickname": "",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.627,
                "g": 0.124998532,
                "b": 0.941
              },
              "Locked": true,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": false,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "CustomMesh": {
                "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                "DiffuseURL": "",
                "NormalURL": "",
                "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                "Convex": true,
                "MaterialIndex": 3,
                "TypeIndex": 0,
                "CastShadows": false
              },
              "XmlUI": "",
              "LuaScript": "",
              "LuaScriptState": "",
              "GUID": "e5ca71"
            }
          ],
          "GUID": "caad6c"
        }
      ],
      "GUID": "e124f7"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 1.21470022,
        "posY": 1.48153138,
        "posZ": 5.82640076,
        "rotX": 359.9201,
        "rotY": 269.999939,
        "rotZ": 0.0168534145,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Ready[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.627,
        "g": 0.124999829,
        "b": 0.941
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886939720/6194020A05FEE4C2F405B84FCEE063072568E393/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886935313/5C4198CD633F35ACEE54D5609A79A08412F068F2/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e1c53f"
    },
    {
      "Name": "Bag",
      "Transform": {
        "posX": 54.96471,
        "posY": 1.31496358,
        "posZ": -10.5762072,
        "rotX": -3.76021E-06,
        "rotY": 89.9985046,
        "rotZ": 1.63946623E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "Commanders Missions",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391999632,
        "b": 0.11299964
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "XmlUI": "",
      "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
      "LuaScriptState": "{\"ml\":{\"5b8be7\":{\"lock\":false,\"pos\":{\"x\":50.72,\"y\":1.2242,\"z\":-5.37},\"rot\":{\"x\":0.0799,\"y\":89.929,\"z\":359.983}},\"a2da37\":{\"lock\":false,\"pos\":{\"x\":50.72,\"y\":1.2273,\"z\":5.14},\"rot\":{\"x\":0.0799,\"y\":89.6892,\"z\":359.9827}}}}",
      "ContainedObjects": [
        {
          "Name": "Bag",
          "Transform": {
            "posX": 50.7200165,
            "posY": 1.22418547,
            "posZ": -5.370004,
            "rotX": 0.07995607,
            "rotY": 89.92548,
            "rotZ": 359.982971,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Narrative Play",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.121568374,
            "g": 0.5294118,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"15e158\":{\"lock\":false,\"pos\":{\"x\":39.61,\"y\":1.2436,\"z\":8.02},\"rot\":{\"x\":0.0799,\"y\":90.0013,\"z\":359.9831}},\"37a1d5\":{\"lock\":false,\"pos\":{\"x\":46.06,\"y\":1.2346,\"z\":8.02},\"rot\":{\"x\":0.08,\"y\":90.0013,\"z\":359.9831}},\"3f95c7\":{\"lock\":false,\"pos\":{\"x\":42.8301,\"y\":1.2324,\"z\":-14.83},\"rot\":{\"x\":0.08,\"y\":89.9915,\"z\":359.9831}},\"8c5dee\":{\"lock\":false,\"pos\":{\"x\":42.8301,\"y\":1.2367,\"z\":-0.38},\"rot\":{\"x\":0.08,\"y\":90.0024,\"z\":359.9831}},\"8cd012\":{\"lock\":false,\"pos\":{\"x\":46.06,\"y\":1.2301,\"z\":-7.18},\"rot\":{\"x\":0.0799,\"y\":89.9988,\"z\":359.9831}},\"e2a938\":{\"lock\":false,\"pos\":{\"x\":42.8301,\"y\":1.2414,\"z\":15.59},\"rot\":{\"x\":0.08,\"y\":90,\"z\":359.9831}},\"f94b7d\":{\"lock\":false,\"pos\":{\"x\":39.6101,\"y\":1.2391,\"z\":-7.18},\"rot\":{\"x\":0.08,\"y\":89.9983,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Bag",
              "Transform": {
                "posX": 39.61001,
                "posY": 1.24361587,
                "posZ": 8.020002,
                "rotX": 0.07999513,
                "rotY": 90.0011749,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Authentication Protocols B",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"53b7c4\":{\"lock\":true,\"pos\":{\"x\":-10.5,\"y\":2.5,\"z\":-3.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"7012c5\":{\"lock\":true,\"pos\":{\"x\":-18,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"ab12d8\":{\"lock\":true,\"pos\":{\"x\":-10.5,\"y\":2.5,\"z\":2.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"cc7452\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.5,
                    "posY": 2.5,
                    "posZ": -3.34,
                    "rotX": 0.07987848,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 7.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999972,
                    "b": 0.0939997062
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "53b7c4"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.5,
                    "posY": 2.5,
                    "posZ": 2.66,
                    "rotX": 0.07987845,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 7.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999972,
                    "b": 0.0939997062
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "ab12d8"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999972,
                    "b": 0.0939997062
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "7012c5"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.117999412,
                    "g": 0.53,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "cc7452"
                }
              ],
              "GUID": "15e158"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 46.0600128,
                "posY": 1.23462582,
                "posZ": 8.02,
                "rotX": 0.07995728,
                "rotY": 90.0012054,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Authentication Protocols A",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"379433\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"b43c9f\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"bed7d0\":{\"lock\":true,\"pos\":{\"x\":-25.51,\"y\":2.5,\"z\":2.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"fb1a73\":{\"lock\":true,\"pos\":{\"x\":-25.51,\"y\":2.5,\"z\":-3.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.117999412,
                    "g": 0.53,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "b43c9f"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999972,
                    "b": 0.0939997062
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "379433"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -25.51,
                    "posY": 2.5,
                    "posZ": 2.66,
                    "rotX": 0.07987845,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 7.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999972,
                    "b": 0.0939997062
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "bed7d0"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -25.51,
                    "posY": 2.5,
                    "posZ": -3.34,
                    "rotX": 0.07987842,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 7.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999972,
                    "b": 0.0939997062
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "fb1a73"
                }
              ],
              "GUID": "37a1d5"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 42.8301125,
                "posY": 1.23240018,
                "posZ": -14.8300028,
                "rotX": 0.07997188,
                "rotY": 89.99148,
                "rotZ": 359.983063,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Army of One ",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"8c3818\":{\"lock\":true,\"pos\":{\"x\":-25.4994,\"y\":2.5074,\"z\":5.1397},\"rot\":{\"x\":359.9516,\"y\":306.25,\"z\":0.0658}},\"b625c9\":{\"lock\":true,\"pos\":{\"x\":-10.4994,\"y\":2.5074,\"z\":-5.8403},\"rot\":{\"x\":359.9516,\"y\":306.25,\"z\":0.0658}},\"c08831\":{\"lock\":true,\"pos\":{\"x\":-25.4994,\"y\":2.5074,\"z\":-5.8403},\"rot\":{\"x\":0.0613,\"y\":233.75,\"z\":0.054}},\"c2facb\":{\"lock\":true,\"pos\":{\"x\":-10.4994,\"y\":2.5074,\"z\":5.1597},\"rot\":{\"x\":0.0613,\"y\":233.75,\"z\":0.054}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.49939,
                    "posY": 2.50744677,
                    "posZ": 5.159733,
                    "rotX": 0.0612686239,
                    "rotY": 233.75,
                    "rotZ": 0.0539549775,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 9.3
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999889,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c2facb"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.49939,
                    "posY": 2.50744677,
                    "posZ": -5.840272,
                    "rotX": 359.9516,
                    "rotY": 306.25,
                    "rotZ": 0.06575144,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 9.3
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999889,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "b625c9"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -25.4994,
                    "posY": 2.50744677,
                    "posZ": -5.840272,
                    "rotX": 0.0612686239,
                    "rotY": 233.75,
                    "rotZ": 0.0539549775,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 9.3
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999994054,
                    "b": 0.09399941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c08831"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -25.4994,
                    "posY": 2.50744677,
                    "posZ": 5.139733,
                    "rotX": 359.9516,
                    "rotY": 306.25,
                    "rotZ": 0.06575144,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 9.3
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999994054,
                    "b": 0.09399941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "8c3818"
                }
              ],
              "GUID": "3f95c7"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 42.8301125,
                "posY": 1.23665428,
                "posZ": -0.380001575,
                "rotX": 0.0799522847,
                "rotY": 90.00248,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Extraction",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"6f7cce\":{\"lock\":true,\"pos\":{\"x\":-8.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"c08831\":{\"lock\":true,\"pos\":{\"x\":-28,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -8.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999949,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "6f7cce"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.0,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999966,
                    "b": 0.09399965
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c08831"
                }
              ],
              "GUID": "8c5dee"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 46.0600128,
                "posY": 1.23014987,
                "posZ": -7.18000174,
                "rotX": 0.07992758,
                "rotY": 89.99877,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Tip of the Spear A",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"6f7cce\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"8c3818\":{\"lock\":true,\"pos\":{\"x\":-25.52,\"y\":2.5032,\"z\":5.14},\"rot\":{\"x\":359.9516,\"y\":306.25,\"z\":0.0658}},\"c08831\":{\"lock\":true,\"pos\":{\"x\":-25.52,\"y\":2.4741,\"z\":-5.84},\"rot\":{\"x\":0.0613,\"y\":233.75,\"z\":0.054}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999889,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "6f7cce"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -25.52,
                    "posY": 2.5032,
                    "posZ": 5.14,
                    "rotX": 359.9516,
                    "rotY": 306.25,
                    "rotZ": 0.06575144,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 9.3
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999996,
                    "b": 0.09399957
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "8c3818"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -25.52,
                    "posY": 2.4741,
                    "posZ": -5.84,
                    "rotX": 0.0612686239,
                    "rotY": 233.75,
                    "rotZ": 0.0539549775,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 9.3
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999996,
                    "b": 0.09399957
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c08831"
                }
              ],
              "GUID": "8cd012"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 42.83011,
                "posY": 1.24135685,
                "posZ": 15.59,
                "rotX": 0.08000262,
                "rotY": 89.99999,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Cut Off the Head",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"976fba\":{\"lock\":true,\"pos\":{\"x\":-13.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"c46f45\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.4984,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -13.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999889,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "976fba"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.02,
                    "posY": 2.4984,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999802,
                    "b": 0.09399801
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c46f45"
                }
              ],
              "GUID": "e2a938"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 39.6101036,
                "posY": 1.23914146,
                "posZ": -7.18000174,
                "rotX": 0.0799808055,
                "rotY": 89.9982147,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Tip of the Spear B",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"b625c9\":{\"lock\":true,\"pos\":{\"x\":-10.52,\"y\":2.5,\"z\":-5.84},\"rot\":{\"x\":359.9516,\"y\":306.25,\"z\":0.0658}},\"bb4a22\":{\"lock\":true,\"pos\":{\"x\":-23.02,\"y\":2.5,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"c2facb\":{\"lock\":true,\"pos\":{\"x\":-10.52,\"y\":2.5,\"z\":5.16},\"rot\":{\"x\":0.0613,\"y\":233.75,\"z\":0.054}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.52,
                    "posY": 2.5,
                    "posZ": -5.84,
                    "rotX": 359.9516,
                    "rotY": 306.25,
                    "rotZ": 0.06575144,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 9.3
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999954,
                    "b": 0.09399951
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "b625c9"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -10.52,
                    "posY": 2.5,
                    "posZ": 5.16,
                    "rotX": 0.0612686239,
                    "rotY": 233.75,
                    "rotZ": 0.0539549775,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 9.3
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999954,
                    "b": 0.09399951
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "c2facb"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -23.02,
                    "posY": 2.5,
                    "posZ": -0.34,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 11.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.128999829,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "bb4a22"
                }
              ],
              "GUID": "f94b7d"
            }
          ],
          "GUID": "5b8be7"
        },
        {
          "Name": "Bag",
          "Transform": {
            "posX": 50.7131577,
            "posY": 1.2273438,
            "posZ": 5.13460827,
            "rotX": 0.0798794553,
            "rotY": 89.68411,
            "rotZ": 359.982635,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Matched PLay",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.856,
            "g": 0.09999975,
            "b": 0.093999736
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "XmlUI": "",
          "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
          "LuaScriptState": "{\"ml\":{\"097426\":{\"lock\":false,\"pos\":{\"x\":43.6998,\"y\":1.231,\"z\":-15.35},\"rot\":{\"x\":0.08,\"y\":89.9994,\"z\":359.9831}},\"1a3861\":{\"lock\":false,\"pos\":{\"x\":43.6997,\"y\":1.2383,\"z\":9.2201},\"rot\":{\"x\":0.0799,\"y\":89.9992,\"z\":359.9831}},\"27c554\":{\"lock\":false,\"pos\":{\"x\":43.6998,\"y\":1.2365,\"z\":3.0901},\"rot\":{\"x\":0.08,\"y\":89.9982,\"z\":359.9831}},\"6c0a02\":{\"lock\":false,\"pos\":{\"x\":38.6798,\"y\":1.2861,\"z\":-9.22},\"rot\":{\"x\":0.08,\"y\":90.0013,\"z\":359.9831}},\"7d858c\":{\"lock\":false,\"pos\":{\"x\":43.6997,\"y\":1.2346,\"z\":-3.0899},\"rot\":{\"x\":0.08,\"y\":89.999,\"z\":359.9831}},\"825b16\":{\"lock\":false,\"pos\":{\"x\":38.6798,\"y\":1.2843,\"z\":-15.35},\"rot\":{\"x\":0.08,\"y\":90.0002,\"z\":359.9831}},\"d14543\":{\"lock\":false,\"pos\":{\"x\":43.6998,\"y\":1.2328,\"z\":-9.22},\"rot\":{\"x\":0.08,\"y\":89.9984,\"z\":359.9831}},\"d7e634\":{\"lock\":false,\"pos\":{\"x\":38.6798,\"y\":1.2933,\"z\":15.35},\"rot\":{\"x\":0.0809,\"y\":93.3832,\"z\":359.9878}},\"f2a371\":{\"lock\":false,\"pos\":{\"x\":43.6997,\"y\":1.2401,\"z\":15.35},\"rot\":{\"x\":0.0799,\"y\":89.9981,\"z\":359.9831}}}}",
          "ContainedObjects": [
            {
              "Name": "Bag",
              "Transform": {
                "posX": 43.69974,
                "posY": 1.24007237,
                "posZ": 15.3500032,
                "rotX": 0.079939574,
                "rotY": 89.9981461,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Reclaimation Raid",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"36d7dc\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":4.66},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}},\"53be7b\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-5.34},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}},\"694653\":{\"lock\":true,\"pos\":{\"x\":-12.04,\"y\":2.5117,\"z\":-8.34},\"rot\":{\"x\":359.9831,\"y\":359.9883,\"z\":359.92}},\"709070\":{\"lock\":true,\"pos\":{\"x\":-12.02,\"y\":2.5051,\"z\":7.66},\"rot\":{\"x\":359.9831,\"y\":359.9883,\"z\":359.92}},\"917371\":{\"lock\":true,\"pos\":{\"x\":-24.02,\"y\":2.521,\"z\":-8.34},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\"e64b56\":{\"lock\":true,\"pos\":{\"x\":-24.02,\"y\":2.5051,\"z\":7.66},\"rot\":{\"x\":359.9821,\"y\":359.2333,\"z\":359.9203}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -12.02,
                    "posY": 2.50511336,
                    "posZ": 7.66,
                    "rotX": 359.983124,
                    "rotY": 359.988342,
                    "rotZ": 359.92,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999851,
                    "b": 0.0939985
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "709070"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.02,
                    "posY": 2.5,
                    "posZ": 4.66,
                    "rotX": 359.9201,
                    "rotY": 270.005219,
                    "rotZ": 0.0168819,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999851,
                    "b": 0.0939985
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "36d7dc"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -24.02,
                    "posY": 2.50511336,
                    "posZ": 7.66,
                    "rotX": 359.982056,
                    "rotY": 359.233337,
                    "rotZ": 359.920319,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999851,
                    "b": 0.0939985
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "e64b56"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -24.02,
                    "posY": 2.520969,
                    "posZ": -8.34,
                    "rotX": 0.0,
                    "rotY": 0.0,
                    "rotZ": 0.0,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.129411727,
                    "g": 0.694117665,
                    "b": 0.607843161
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "917371"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.02,
                    "posY": 2.5,
                    "posZ": -5.34,
                    "rotX": 359.9201,
                    "rotY": 270.005219,
                    "rotZ": 0.0168819,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.129411727,
                    "g": 0.694117665,
                    "b": 0.607843161
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "53be7b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -12.04,
                    "posY": 2.51168942,
                    "posZ": -8.34,
                    "rotX": 359.983124,
                    "rotY": 359.988342,
                    "rotZ": 359.92,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.129411727,
                    "g": 0.694117665,
                    "b": 0.607843161
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "694653"
                }
              ],
              "GUID": "f2a371"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 43.69975,
                "posY": 1.23826814,
                "posZ": 9.220058,
                "rotX": 0.0799441338,
                "rotY": 89.99922,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "All-Out Attack",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"04dd69\":{\"lock\":true,\"pos\":{\"x\":-28.5,\"y\":2.5116,\"z\":5.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"204b89\":{\"lock\":true,\"pos\":{\"x\":-28.5,\"y\":2.5116,\"z\":-6.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"4b4801\":{\"lock\":true,\"pos\":{\"x\":-7.52,\"y\":2.5126,\"z\":5.66},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"54fa26\":{\"lock\":true,\"pos\":{\"x\":-12.02,\"y\":2.5116,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"bc2b8e\":{\"lock\":true,\"pos\":{\"x\":-7.52,\"y\":2.5135,\"z\":-6.34},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"e73fb1\":{\"lock\":true,\"pos\":{\"x\":-24.02,\"y\":2.5116,\"z\":-0.34},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -7.52,
                    "posY": 2.5126,
                    "posZ": 5.66,
                    "rotX": 0.0798789039,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998026,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "4b4801"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -12.02,
                    "posY": 2.5116,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998026,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "54fa26"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -7.52,
                    "posY": 2.5135,
                    "posZ": -6.34,
                    "rotX": 0.07987887,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124998026,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "bc2b8e"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -24.02,
                    "posY": 2.5116,
                    "posZ": -0.34,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999980941,
                    "b": 0.09399807
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "e73fb1"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.5,
                    "posY": 2.5116,
                    "posZ": -6.34,
                    "rotX": 0.0798789039,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999980941,
                    "b": 0.09399807
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "204b89"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.5,
                    "posY": 2.5116,
                    "posZ": 5.66,
                    "rotX": 0.0798789039,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.0999980941,
                    "b": 0.09399807
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "04dd69"
                }
              ],
              "GUID": "1a3861"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 43.69976,
                "posY": 1.23646343,
                "posZ": 3.09005427,
                "rotX": 0.0799733251,
                "rotY": 89.99819,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Exemplars of War",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"36d7dc\":{\"lock\":true,\"pos\":{\"x\":-18.0222,\"y\":2.5032,\"z\":4.6615},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}},\"53be7b\":{\"lock\":true,\"pos\":{\"x\":-18.0222,\"y\":2.5032,\"z\":-5.3385},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}},\"694653\":{\"lock\":true,\"pos\":{\"x\":-12.0422,\"y\":2.5032,\"z\":-8.3385},\"rot\":{\"x\":359.9831,\"y\":359.9883,\"z\":359.92}},\"709070\":{\"lock\":true,\"pos\":{\"x\":-12.0222,\"y\":2.5032,\"z\":7.6615},\"rot\":{\"x\":359.9831,\"y\":359.9883,\"z\":359.92}},\"917371\":{\"lock\":true,\"pos\":{\"x\":-24.0222,\"y\":2.5032,\"z\":-8.3385},\"rot\":{\"x\":0,\"y\":0,\"z\":0}},\"e64b56\":{\"lock\":true,\"pos\":{\"x\":-24.0222,\"y\":2.5032,\"z\":7.6615},\"rot\":{\"x\":359.9821,\"y\":359.2333,\"z\":359.9203}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0222,
                    "posY": 2.5032,
                    "posZ": 4.6615,
                    "rotX": 359.9201,
                    "rotY": 270.005219,
                    "rotZ": 0.0168819,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999839,
                    "b": 0.0939983651
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "36d7dc"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0222,
                    "posY": 2.5032,
                    "posZ": -5.3385,
                    "rotX": 359.9201,
                    "rotY": 270.005219,
                    "rotZ": 0.0168819,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.129411608,
                    "g": 0.694117665,
                    "b": 0.607843161
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "53be7b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -12.0422,
                    "posY": 2.5032,
                    "posZ": -8.3385,
                    "rotX": 359.983124,
                    "rotY": 359.988342,
                    "rotZ": 359.92,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.129411608,
                    "g": 0.694117665,
                    "b": 0.607843161
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "694653"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -12.0222,
                    "posY": 2.5032,
                    "posZ": 7.6615,
                    "rotX": 359.983124,
                    "rotY": 359.988342,
                    "rotZ": 359.92,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999839,
                    "b": 0.0939983651
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "709070"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -24.0222,
                    "posY": 2.5032,
                    "posZ": -8.3385,
                    "rotX": 0.0,
                    "rotY": 0.0,
                    "rotZ": 0.0,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.129411608,
                    "g": 0.694117665,
                    "b": 0.607843161
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "917371"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -24.0222,
                    "posY": 2.5032,
                    "posZ": 7.6615,
                    "rotX": 359.982056,
                    "rotY": 359.233337,
                    "rotZ": 359.920319,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 3.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999839,
                    "b": 0.0939983651
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "e64b56"
                }
              ],
              "GUID": "27c554"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 43.69975,
                "posY": 1.23464346,
                "posZ": -3.08994579,
                "rotX": 0.07997285,
                "rotY": 89.99897,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "A Meeting of Fates",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"04dd69\":{\"lock\":true,\"pos\":{\"x\":-28.5037,\"y\":2.5083,\"z\":5.6588},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"204b89\":{\"lock\":true,\"pos\":{\"x\":-28.5037,\"y\":2.5083,\"z\":-6.3412},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"4b4801\":{\"lock\":true,\"pos\":{\"x\":-7.5237,\"y\":2.5083,\"z\":5.6588},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"54fa26\":{\"lock\":true,\"pos\":{\"x\":-12.0237,\"y\":2.5083,\"z\":-0.3412},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"bc2b8e\":{\"lock\":true,\"pos\":{\"x\":-7.5237,\"y\":2.5083,\"z\":-6.3412},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"e73fb1\":{\"lock\":true,\"pos\":{\"x\":-24.0237,\"y\":2.5083,\"z\":-0.3412},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.5037,
                    "posY": 2.5083,
                    "posZ": 5.6588,
                    "rotX": 0.07987896,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999796,
                    "b": 0.09399795
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "04dd69"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.5037,
                    "posY": 2.5083,
                    "posZ": -6.3412,
                    "rotX": 0.07987896,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999796,
                    "b": 0.09399795
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "204b89"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -7.5237,
                    "posY": 2.5083,
                    "posZ": 5.6588,
                    "rotX": 0.07987896,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124997906,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "4b4801"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -12.0237,
                    "posY": 2.5083,
                    "posZ": -0.3412,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124997906,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "54fa26"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -7.5237,
                    "posY": 2.5083,
                    "posZ": -6.3412,
                    "rotX": 0.07987893,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.5
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.627,
                    "g": 0.124997906,
                    "b": 0.941
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "bc2b8e"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -24.0237,
                    "posY": 2.5083,
                    "posZ": -0.3412,
                    "rotX": 0.07987642,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999796,
                    "b": 0.09399795
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "e73fb1"
                }
              ],
              "GUID": "7d858c"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 43.6997528,
                "posY": 1.23283827,
                "posZ": -9.220002,
                "rotX": 0.07996183,
                "rotY": 89.99836,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Comms Down",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"1124a6\":{\"lock\":true,\"pos\":{\"x\":-18.0191,\"y\":2.5005,\"z\":-0.3425},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":0}},\"260b83\":{\"lock\":true,\"pos\":{\"x\":-7.5196,\"y\":2.5005,\"z\":-0.3625},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"87229b\":{\"lock\":true,\"pos\":{\"x\":-28.5296,\"y\":2.5005,\"z\":-0.3625},\"rot\":{\"x\":0.0799,\"y\":90,\"z\":359.9831}},\"8a8ddb\":{\"lock\":true,\"pos\":{\"x\":-18.0696,\"y\":2.5005,\"z\":-8.8525},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}},\"d0a817\":{\"lock\":true,\"pos\":{\"x\":-18.0696,\"y\":2.5005,\"z\":8.1575},\"rot\":{\"x\":0.0799,\"y\":180,\"z\":359.9831}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -7.51959038,
                    "posY": 2.50052,
                    "posZ": -0.3625431,
                    "rotX": 0.0798785761,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00021541,
                    "scaleY": 1.0,
                    "scaleZ": 4.502505
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999985,
                    "b": 0.0939998254
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "260b83"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0190887,
                    "posY": 2.50052,
                    "posZ": -0.342542648,
                    "rotX": 0.07987469,
                    "rotY": 90.0,
                    "rotZ": 1.00051691E-08,
                    "scaleX": 6.0,
                    "scaleY": 2.0,
                    "scaleZ": 6.0
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228557194/2C2FD3DC79EE5E844D6BFAA49ECF6B21C72A246A/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": false,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "1124a6"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0695877,
                    "posY": 2.50052,
                    "posZ": -8.852543,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00017941,
                    "scaleY": 1.0,
                    "scaleZ": 2.5101
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999985,
                    "b": 0.0939998254
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "8a8ddb"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -28.5295811,
                    "posY": 2.50052,
                    "posZ": -0.3625431,
                    "rotX": 0.07987864,
                    "rotY": 90.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.00020492,
                    "scaleY": 1.0,
                    "scaleZ": 4.496033
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.1289962,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "87229b"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.0695877,
                    "posY": 2.50052,
                    "posZ": 8.157457,
                    "rotX": 0.07987648,
                    "rotY": 180.0,
                    "rotZ": 359.983124,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 2.50265813
                  },
                  "Nickname": "Take Prisoners",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.1289962,
                    "g": 0.694,
                    "b": 0.606999934
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "d0a817"
                }
              ],
              "GUID": "d14543"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 38.67983,
                "posY": 1.28609455,
                "posZ": -9.220001,
                "rotX": 0.0799852,
                "rotY": 90.00125,
                "rotZ": 359.9831,
                "scaleX": 0.750000238,
                "scaleY": 0.750000238,
                "scaleZ": 0.750000238
              },
              "Nickname": "Objectives",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"b63aad\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":1.7565,\"z\":-0.34},\"rot\":{\"x\":359.9201,\"y\":270.0001,\"z\":180.0168}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -18.0199928,
                    "posY": 1.756531,
                    "posZ": -0.340001047,
                    "rotX": 359.920074,
                    "rotY": 270.000061,
                    "rotZ": 180.01683,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310430/FCC68A22CEA5301DB1B24A1C96181B82416193DB/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "b63aad",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": 11.35703,
                        "posY": 1.48073745,
                        "posZ": 10.5442581,
                        "rotX": 359.920074,
                        "rotY": 269.946869,
                        "rotZ": 0.01692052,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "3d814b"
                    }
                  }
                }
              ],
              "GUID": "6c0a02"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 43.69978,
                "posY": 1.23103285,
                "posZ": -15.3500023,
                "rotX": 0.0799581,
                "rotY": 89.99941,
                "rotZ": 359.9831,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Hold the Line",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 0.7058823,
                "g": 0.366520882,
                "b": 0.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"53184b\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":4.66},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}},\"6a7274\":{\"lock\":true,\"pos\":{\"x\":-18.02,\"y\":2.5,\"z\":-5.34},\"rot\":{\"x\":359.9201,\"y\":270.0052,\"z\":0.0169}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.02,
                    "posY": 2.5,
                    "posZ": -5.34,
                    "rotX": 359.9201,
                    "rotY": 270.005219,
                    "rotZ": 0.0168819,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 15.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.129411608,
                    "g": 0.694117665,
                    "b": 0.607843161
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "6a7274"
                },
                {
                  "Name": "Custom_Model",
                  "Transform": {
                    "posX": -18.02,
                    "posY": 2.5,
                    "posZ": 4.66,
                    "rotX": 359.9201,
                    "rotY": 270.005219,
                    "rotZ": 0.0168819,
                    "scaleX": 1.0001868,
                    "scaleY": 1.0,
                    "scaleZ": 15.0
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 0.856,
                    "g": 0.09999839,
                    "b": 0.0939983651
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": false,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomMesh": {
                    "MeshURL": "http://cloud-3.steamusercontent.com/ugc/929311677228065725/08A047560B3B217463EB39969C8BD76749A0A723/",
                    "DiffuseURL": "",
                    "NormalURL": "",
                    "ColliderURL": "http://cloud-3.steamusercontent.com/ugc/929311677228789723/30C5477595CD1E06E955200433657907C192EA8A/",
                    "Convex": true,
                    "MaterialIndex": 3,
                    "TypeIndex": 0,
                    "CastShadows": false
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "53184b"
                }
              ],
              "GUID": "097426"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 38.6798325,
                "posY": 1.2842896,
                "posZ": -15.3500042,
                "rotX": 0.07997836,
                "rotY": 90.0002,
                "rotZ": 359.983063,
                "scaleX": 0.750000238,
                "scaleY": 0.750000238,
                "scaleZ": 0.750000238
              },
              "Nickname": "Objectives",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"285293\":{\"lock\":true,\"pos\":{\"x\":-10.52,\"y\":1.7477,\"z\":5.16},\"rot\":{\"x\":359.9201,\"y\":270,\"z\":180.0169}},\"5a3377\":{\"lock\":true,\"pos\":{\"x\":-10.52,\"y\":1.7445,\"z\":-5.84},\"rot\":{\"x\":359.9201,\"y\":270.0002,\"z\":180.0169}},\"5b9d7c\":{\"lock\":true,\"pos\":{\"x\":-25.54,\"y\":1.7654,\"z\":-5.84},\"rot\":{\"x\":359.9201,\"y\":270.0003,\"z\":180.0169}},\"eae8a6\":{\"lock\":true,\"pos\":{\"x\":-25.54,\"y\":1.7686,\"z\":5.16},\"rot\":{\"x\":359.9201,\"y\":270,\"z\":180.0169}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.52,
                    "posY": 1.74769437,
                    "posZ": 5.16,
                    "rotX": 359.920135,
                    "rotY": 269.999969,
                    "rotZ": 180.016922,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314265/CB39DB70E8C1BA0506D139BBFFE08E9D593FF1C2/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "285293",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": 7.329134,
                        "posY": 1.4544394,
                        "posZ": -52.2497826,
                        "rotX": 359.920044,
                        "rotY": 270.0307,
                        "rotZ": 0.0167922918,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "c16cad"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.5200109,
                    "posY": 1.74445593,
                    "posZ": -5.83999968,
                    "rotX": 359.920135,
                    "rotY": 270.000183,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310430/FCC68A22CEA5301DB1B24A1C96181B82416193DB/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "5a3377",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": 11.35703,
                        "posY": 1.48073745,
                        "posZ": 10.5442581,
                        "rotX": 359.920074,
                        "rotY": 269.946869,
                        "rotZ": 0.01692052,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "3d814b"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.5399914,
                    "posY": 1.76539516,
                    "posZ": -5.84,
                    "rotX": 359.920135,
                    "rotY": 270.000336,
                    "rotZ": 180.016876,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313470/15585C097BA4309CB2981F273CAC56E3AF0F7F7D/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "5b9d7c",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": 16.880085,
                        "posY": 1.440762,
                        "posZ": -53.4807625,
                        "rotX": 359.920044,
                        "rotY": 270.030731,
                        "rotZ": 0.0167835,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "72bbf1"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.54,
                    "posY": 1.76860654,
                    "posZ": 5.15999651,
                    "rotX": 359.920074,
                    "rotY": 270.000031,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313874/ECF016C27A2471C16013396BB4D97893DE4F5B4B/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "eae8a6",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": 13.0735149,
                        "posY": 1.44609141,
                        "posZ": -53.403492,
                        "rotX": 359.920044,
                        "rotY": 270.030731,
                        "rotZ": 0.0167922247,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": false,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "299209"
                    }
                  }
                }
              ],
              "GUID": "825b16"
            },
            {
              "Name": "Bag",
              "Transform": {
                "posX": 38.6798134,
                "posY": 1.29332948,
                "posZ": 15.3500013,
                "rotX": 0.08085681,
                "rotY": 93.383194,
                "rotZ": 359.987823,
                "scaleX": 0.750000238,
                "scaleY": 0.750000238,
                "scaleZ": 0.750000238
              },
              "Nickname": "Objectives",
              "Description": "",
              "GMNotes": "",
              "ColorDiffuse": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": false,
              "Hands": false,
              "MaterialIndex": -1,
              "MeshIndex": -1,
              "XmlUI": "",
              "LuaScript": "function updateSave()\r\n    local data_to_save = {[\"ml\"]=memoryList}\r\n    saved_data = JSON.encode(data_to_save)\r\n    self.script_state = saved_data\r\nend\r\n\r\nfunction onload(saved_data)\r\n    if saved_data ~= \"\" then\r\n        local loaded_data = JSON.decode(saved_data)\r\n        --Set up information off of loaded_data\r\n        memoryList = loaded_data.ml\r\n    else\r\n        --Set up information for if there is no saved saved data\r\n        memoryList = {}\r\n    end\r\n\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\nend\r\n\r\n\r\n--Beginning Setup\r\n\r\n\r\n--Make setup button\r\nfunction createSetupButton()\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Triggered by setup button,\r\nfunction buttonClick_setup()\r\n    memoryListBackup = duplicateTable(memoryList)\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createButtonsOnAllObjects()\r\n    createSetupActionButtons()\r\nend\r\n\r\n--Creates selection buttons on objects\r\nfunction createButtonsOnAllObjects()\r\n    local howManyButtons = 0\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        if obj ~= self then\r\n            local dummyIndex = howManyButtons\r\n            --On a normal bag, the button positions aren't the same size as the bag.\r\n            globalScaleFactor = 1.25 * 1/self.getScale().x\r\n            --Super sweet math to set button positions\r\n            local selfPos = self.getPosition()\r\n            local objPos = obj.getPosition()\r\n            local deltaPos = findOffsetDistance(selfPos, objPos, obj)\r\n            local objPos = rotateLocalCoordinates(deltaPos, self)\r\n            objPos.x = -objPos.x * globalScaleFactor\r\n            objPos.y = objPos.y * globalScaleFactor\r\n            objPos.z = objPos.z * globalScaleFactor\r\n            --Offset rotation of bag\r\n            local rot = self.getRotation()\r\n            rot.y = -rot.y + 180\r\n            --Create function\r\n            local funcName = \"selectButton_\" .. howManyButtons\r\n            local func = function() buttonClick_selection(dummyIndex, obj) end\r\n            self.setVar(funcName, func)\r\n            self.createButton({\r\n                click_function=funcName, function_owner=self,\r\n                position=objPos, rotation=rot, height=1000, width=1000,\r\n                color={0.75,0.25,0.25,0.6},\r\n            })\r\n            howManyButtons = howManyButtons + 1\r\n        end\r\n    end\r\nend\r\n\r\n--Creates submit and cancel buttons\r\nfunction createSetupActionButtons()\r\n    self.createButton({\r\n        label=\"Cancel\", click_function=\"buttonClick_cancel\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Submit\", click_function=\"buttonClick_submit\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=1100,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Reset\", click_function=\"buttonClick_reset\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n\r\n--During Setup\r\n\r\n\r\n--Checks or unchecks buttons\r\nfunction buttonClick_selection(index, obj)\r\n    local color = {0,1,0,0.6}\r\n    if memoryList[obj.getGUID()] == nil then\r\n        self.editButton({index=index, color=color})\r\n        --Adding pos/rot to memory table\r\n        local pos, rot = obj.getPosition(), obj.getRotation()\r\n        --I need to add it like this or it won't save due to indexing issue\r\n        memoryList[obj.getGUID()] = {\r\n            pos={x=round(pos.x,4), y=round(pos.y,4), z=round(pos.z,4)},\r\n            rot={x=round(rot.x,4), y=round(rot.y,4), z=round(rot.z,4)},\r\n            lock=obj.getLock()\r\n        }\r\n        obj.highlightOn({0,1,0})\r\n    else\r\n        color = {0.75,0.25,0.25,0.6}\r\n        self.editButton({index=index, color=color})\r\n        memoryList[obj.getGUID()] = nil\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Cancels selection process\r\nfunction buttonClick_cancel()\r\n    memoryList = memoryListBackup\r\n    self.clearButtons()\r\n    if next(memoryList) == nil then\r\n        createSetupButton()\r\n    else\r\n        createMemoryActionButtons()\r\n    end\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Selection Canceled\", {1,1,1})\r\nend\r\n\r\n--Saves selections\r\nfunction buttonClick_submit()\r\n    if next(memoryList) == nil then\r\n        broadcastToAll(\"You cannot submit without any selections.\", {0.75, 0.25, 0.25})\r\n    else\r\n        self.clearButtons()\r\n        createMemoryActionButtons()\r\n        local count = 0\r\n        for guid in pairs(memoryList) do\r\n            count = count + 1\r\n            local obj = getObjectFromGUID(guid)\r\n            if obj ~= nil then obj.highlightOff() end\r\n        end\r\n        broadcastToAll(count..\" Objects Saved\", {1,1,1})\r\n        updateSave()\r\n    end\r\nend\r\n\r\n--Resets bag to starting status\r\nfunction buttonClick_reset()\r\n    memoryList = {}\r\n    self.clearButtons()\r\n    createSetupButton()\r\n    removeAllHighlights()\r\n    broadcastToAll(\"Tool Reset\", {1,1,1})\r\n    updateSave()\r\nend\r\n\r\n\r\n--After Setup\r\n\r\n\r\n--Creates recall and place buttons\r\nfunction createMemoryActionButtons()\r\n    self.createButton({\r\n        label=\"Place\", click_function=\"buttonClick_place\", function_owner=self,\r\n        position={0,0.3,-2}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Recall\", click_function=\"buttonClick_recall\", function_owner=self,\r\n        position={0,0.3,-2.8}, rotation={0,180,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\n    self.createButton({\r\n        label=\"Setup\", click_function=\"buttonClick_setup\", function_owner=self,\r\n        position={-2,0.3,0}, rotation={0,270,0}, height=350, width=800,\r\n        font_size=250, color={0,0,0}, font_color={1,1,1}\r\n    })\r\nend\r\n\r\n--Sends objects from bag/table to their saved position/rotation\r\nfunction buttonClick_place()\r\n    local bagObjList = self.getObjects()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        --If obj is out on the table, move it to the saved pos/rot\r\n        if obj ~= nil then\r\n            obj.setPositionSmooth(entry.pos)\r\n            obj.setRotationSmooth(entry.rot)\r\n            obj.setLock(entry.lock)\r\n        else\r\n            --If obj is inside of the bag\r\n            for _, bagObj in ipairs(bagObjList) do\r\n                if bagObj.guid == guid then\r\n                    local item = self.takeObject({\r\n                        guid=guid, position=entry.pos, rotation=entry.rot,\r\n                    })\r\n                    item.setLock(entry.lock)\r\n                    break\r\n                end\r\n            end\r\n        end\r\n    end\r\n    broadcastToAll(\"Objects Placed\", {1,1,1})\r\nend\r\n\r\n--Recalls objects to bag from table\r\nfunction buttonClick_recall()\r\n    for guid, entry in pairs(memoryList) do\r\n        local obj = getObjectFromGUID(guid)\r\n        if obj ~= nil then self.putObject(obj) end\r\n    end\r\n    broadcastToAll(\"Objects Recalled\", {1,1,1})\r\nend\r\n\r\n\r\n--Utility functions\r\n\r\n\r\n--Find delta (difference) between 2 x/y/z coordinates\r\nfunction findOffsetDistance(p1, p2, obj)\r\n    local deltaPos = {}\r\n    local bounds = obj.getBounds()\r\n    deltaPos.x = (p2.x-p1.x)\r\n    deltaPos.y = (p2.y-p1.y) + (bounds.size.y - bounds.offset.y)\r\n    deltaPos.z = (p2.z-p1.z)\r\n    return deltaPos\r\nend\r\n\r\n--Used to rotate a set of coordinates by an angle\r\nfunction rotateLocalCoordinates(desiredPos, obj)\r\n\tlocal objPos, objRot = obj.getPosition(), obj.getRotation()\r\n    local angle = math.rad(objRot.y)\r\n\tlocal x = desiredPos.x * math.cos(angle) - desiredPos.z * math.sin(angle)\r\n\tlocal z = desiredPos.x * math.sin(angle) + desiredPos.z * math.cos(angle)\r\n\t--return {x=objPos.x+x, y=objPos.y+desiredPos.y, z=objPos.z+z}\r\n    return {x=x, y=desiredPos.y, z=z}\r\nend\r\n\r\n--Coroutine delay, in seconds\r\nfunction wait(time)\r\n    local start = os.time()\r\n    repeat coroutine.yield(0) until os.time() > start + time\r\nend\r\n\r\n--Duplicates a table (needed to prevent it making reference to the same objects)\r\nfunction duplicateTable(oldTable)\r\n    local newTable = {}\r\n    for k, v in pairs(oldTable) do\r\n        newTable[k] = v\r\n    end\r\n    return newTable\r\nend\r\n\r\n--Moves scripted highlight from all objects\r\nfunction removeAllHighlights()\r\n    for _, obj in ipairs(getAllObjects()) do\r\n        obj.highlightOff()\r\n    end\r\nend\r\n\r\n--Round number (num) to the Nth decimal (dec)\r\nfunction round(num, dec)\r\n  local mult = 10^(dec or 0)\r\n  return math.floor(num * mult + 0.5) / mult\r\nend\r\n",
              "LuaScriptState": "{\"ml\":{\"3ed627\":{\"lock\":true,\"pos\":{\"x\":-18.0244,\"y\":1.8019,\"z\":-0.3394},\"rot\":{\"x\":359.9201,\"y\":269.9998,\"z\":180.0169}},\"59e518\":{\"lock\":true,\"pos\":{\"x\":-10.5244,\"y\":1.8019,\"z\":5.1605},\"rot\":{\"x\":359.9201,\"y\":270.004,\"z\":180.0169}},\"5d08e0\":{\"lock\":true,\"pos\":{\"x\":-25.5244,\"y\":1.8019,\"z\":-5.8394},\"rot\":{\"x\":359.9201,\"y\":269.9998,\"z\":180.0169}},\"865ad3\":{\"lock\":true,\"pos\":{\"x\":-25.5244,\"y\":1.8019,\"z\":5.1606},\"rot\":{\"x\":359.9201,\"y\":270.0028,\"z\":180.0169}},\"e40c47\":{\"lock\":true,\"pos\":{\"x\":-10.5245,\"y\":1.8019,\"z\":-5.8395},\"rot\":{\"x\":359.9201,\"y\":270.0008,\"z\":180.0168}}}}",
              "ContainedObjects": [
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.5244284,
                    "posY": 1.80186582,
                    "posZ": 5.16049576,
                    "rotX": 359.9201,
                    "rotY": 270.004028,
                    "rotZ": 180.016876,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313874/ECF016C27A2471C16013396BB4D97893DE4F5B4B/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "59e518",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -10.5000029,
                        "posY": 1.62934065,
                        "posZ": 5.1499033,
                        "rotX": 359.9201,
                        "rotY": 270.004059,
                        "rotZ": 180.016876,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "299209"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -10.5245285,
                    "posY": 1.80186582,
                    "posZ": -5.839503,
                    "rotX": 359.920074,
                    "rotY": 270.0008,
                    "rotZ": 180.01683,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314661/D52D33F1840F8DB3A19344F7E6A8F8A9110D5B3E/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "e40c47",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -10.5000849,
                        "posY": 1.62610173,
                        "posZ": -5.850105,
                        "rotX": 359.920074,
                        "rotY": 270.0008,
                        "rotZ": 180.01683,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "2d0fdd"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -18.0244,
                    "posY": 1.80186582,
                    "posZ": -0.339396,
                    "rotX": 359.9201,
                    "rotY": 269.999756,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310430/FCC68A22CEA5301DB1B24A1C96181B82416193DB/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "3ed627",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -18.00004,
                        "posY": 1.63817716,
                        "posZ": -0.349991381,
                        "rotX": 359.9201,
                        "rotY": 269.999756,
                        "rotZ": 180.016861,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "3d814b"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.5244,
                    "posY": 1.80186582,
                    "posZ": -5.83940172,
                    "rotX": 359.9201,
                    "rotY": 269.999817,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940314265/CB39DB70E8C1BA0506D139BBFFE08E9D593FF1C2/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "5d08e0",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -25.5000267,
                        "posY": 1.64701331,
                        "posZ": -5.849995,
                        "rotX": 359.9201,
                        "rotY": 269.999847,
                        "rotZ": 180.016861,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "c16cad"
                    }
                  }
                },
                {
                  "Name": "Custom_Tile",
                  "Transform": {
                    "posX": -25.5244,
                    "posY": 1.80186582,
                    "posZ": 5.160596,
                    "rotX": 359.9201,
                    "rotY": 270.002777,
                    "rotZ": 180.016861,
                    "scaleX": 0.508209646,
                    "scaleY": 1.0,
                    "scaleZ": 0.508209646
                  },
                  "Nickname": "",
                  "Description": "",
                  "GMNotes": "",
                  "ColorDiffuse": {
                    "r": 1.0,
                    "g": 1.0,
                    "b": 1.0
                  },
                  "Locked": true,
                  "Grid": true,
                  "Snap": true,
                  "IgnoreFoW": false,
                  "Autoraise": true,
                  "Sticky": true,
                  "Tooltip": true,
                  "GridProjection": false,
                  "HideWhenFaceDown": false,
                  "Hands": false,
                  "CustomImage": {
                    "ImageURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940313470/15585C097BA4309CB2981F273CAC56E3AF0F7F7D/",
                    "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/2439138553940310637/858AB58AD64C775A13B7FB16B4246756A858D603/",
                    "ImageScalar": 1.0,
                    "WidthScale": 0.0,
                    "CustomTile": {
                      "Type": 2,
                      "Thickness": 0.25,
                      "Stackable": false,
                      "Stretch": false
                    }
                  },
                  "XmlUI": "",
                  "LuaScript": "",
                  "LuaScriptState": "",
                  "GUID": "865ad3",
                  "States": {
                    "2": {
                      "Name": "Custom_Model",
                      "Transform": {
                        "posX": -25.5000057,
                        "posY": 1.65025234,
                        "posZ": 5.14996,
                        "rotX": 359.9201,
                        "rotY": 270.002777,
                        "rotZ": 180.016861,
                        "scaleX": 0.8,
                        "scaleY": 0.8,
                        "scaleZ": 0.8
                      },
                      "Nickname": "2\" Objective Sphere",
                      "Description": "",
                      "GMNotes": "",
                      "ColorDiffuse": {
                        "r": 1.0,
                        "g": 1.0,
                        "b": 1.0
                      },
                      "Locked": true,
                      "Grid": true,
                      "Snap": true,
                      "IgnoreFoW": false,
                      "Autoraise": true,
                      "Sticky": true,
                      "Tooltip": true,
                      "GridProjection": false,
                      "HideWhenFaceDown": false,
                      "Hands": false,
                      "CustomMesh": {
                        "MeshURL": "https://my.mixtape.moe/emagjw.obj",
                        "DiffuseURL": "",
                        "NormalURL": "",
                        "ColliderURL": "http://pastebin.com/raw.php?i=ahfaXzUd",
                        "Convex": true,
                        "MaterialIndex": 1,
                        "TypeIndex": 0,
                        "CastShadows": true
                      },
                      "XmlUI": "",
                      "LuaScript": "",
                      "LuaScriptState": "",
                      "GUID": "72bbf1"
                    }
                  }
                }
              ],
              "GUID": "d7e634"
            }
          ],
          "GUID": "a2da37"
        }
      ],
      "GUID": "e2581f"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 43.14071,
        "posY": 2.78301549,
        "posZ": -45.3446,
        "rotX": 359.983124,
        "rotY": 0.00381673174,
        "rotZ": 359.919952,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Commander",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -42.0001335,
            "posY": 5.955221,
            "posZ": -32.5000076,
            "rotX": 0.07860482,
            "rotY": 180.000412,
            "rotZ": 359.331146,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Commander Tactics",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/951838881992130582/4B1A0B54253E0DA4AE9ED2663C048E64A7AF49B5/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a96630"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -42.0,
            "posY": 5.90248,
            "posZ": -27.5,
            "rotX": -0.0002167399,
            "rotY": 180.003815,
            "rotZ": 0.055563014,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Commander Tactics",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/951838881992131793/B07E2C2B60037673A57B919328EC18FD61D18686/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4f210b"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": -50.0,
            "posY": 5.904252,
            "posZ": -32.5,
            "rotX": 2.13336847E-07,
            "rotY": 180.00145,
            "rotZ": -1.3561233E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Commander Tactics",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/951838881992132648/E61D5C6772B675959CC5F3ADC8AC370060977881/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "f86249"
        }
      ],
      "GUID": "e38881"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 2.44470072,
        "posY": 1.47558534,
        "posZ": -8.543704,
        "rotX": 359.920074,
        "rotY": 269.9994,
        "rotZ": 0.0169145819,
        "scaleX": 0.2911521,
        "scaleY": 1.0,
        "scaleZ": 0.2911521
      },
      "Nickname": "[b]Shaken[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.1289998,
        "g": 0.694,
        "b": 0.606999934
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886936559/799B760D37CD4E859208F10C07F535A7D4F27A45/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886941091/0EE4A94A070A08FA50DD14625FED4776446962BE/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e3f491"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 46.2103233,
        "posY": 2.78109169,
        "posZ": -37.3445,
        "rotX": 359.983124,
        "rotY": 0.000626790046,
        "rotZ": 359.919952,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Psyker",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 6.0,
            "posY": 5.979685,
            "posZ": -32.5,
            "rotX": -4.947078E-05,
            "rotY": 180.004211,
            "rotZ": -4.908139E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Psyker Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498967417/01C84FED06BAE27549ECE9870B3C021741AEE515/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "f98596"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 6.0,
            "posY": 5.97728539,
            "posZ": -22.5,
            "rotX": -1.78016251E-07,
            "rotY": 180.006058,
            "rotZ": 4.00271638E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Psyker Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498966210/630A98DFC0FC89F591C54D4B594C2FC77F1F72BB/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "2055eb"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 6.0,
            "posY": 5.97728539,
            "posZ": -27.5,
            "rotX": -3.69924145E-08,
            "rotY": 180.001556,
            "rotZ": -6.93426E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Psyker Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/940583049498966827/F8ECD8CB5BA380B02A5A3089982A417414505296/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1d4f6f"
        }
      ],
      "GUID": "e3f69e"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 45.67571,
        "posY": 2.807793,
        "posZ": 50.7948151,
        "rotX": 0.0169032216,
        "rotY": 179.997162,
        "rotZ": 0.08000409,
        "scaleX": 0.5500004,
        "scaleY": 0.5500004,
        "scaleZ": 0.5500004
      },
      "Nickname": "Scout",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 28.9993038,
            "posY": 6.02948761,
            "posZ": 1.64852263E-05,
            "rotX": 0.0005891195,
            "rotY": 180.000244,
            "rotZ": 1.30165386,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Scout Level 3 - Move Unseen",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486959756/FA59CE2E517FA6CD9DCB95809FBF98DAD97B0E0D/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b9bf1b"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 27.9967518,
            "posY": 6.046486,
            "posZ": 0.0004364634,
            "rotX": 359.991058,
            "rotY": 179.9978,
            "rotZ": 359.674347,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Scout Level 2 - Marked Positions",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486959138/BD322C600B06A87218628CCB9CA8E7F9393865E7/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "12d1bc"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 28.0008755,
            "posY": 6.05088949,
            "posZ": 0.000231699843,
            "rotX": 0.0200365391,
            "rotY": 180.0099,
            "rotZ": 0.08112973,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Scout Level 1 - Quick March",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173486957942/1684695DFCD65A3800C9087903DD2570CBC6D074/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b2b50c"
        }
      ],
      "GUID": "e65a90"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 6.1648016,
        "posY": 1.47162414,
        "posZ": -4.38350153,
        "rotX": 359.920074,
        "rotY": 269.999939,
        "rotZ": 0.0168361478,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Ready[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391996056,
        "b": 0.112996064
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173490690683/354F16A77EF1372CD5B5F5AB42FEFF19CAAE0AEB/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173490722307/B317E8B9AAE84A14F097D65F1A2C707D38284E60/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e8c3ab"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 46.2103157,
        "posY": 2.7763803,
        "posZ": -53.3447037,
        "rotX": 359.9831,
        "rotY": -0.0008763699,
        "rotZ": 359.919983,
        "scaleX": 0.55,
        "scaleY": 0.55,
        "scaleZ": 0.55
      },
      "Nickname": "Strength",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 38.0,
            "posY": 5.979757,
            "posZ": -32.5,
            "rotX": -4.33196074E-05,
            "rotY": 180.00206,
            "rotZ": -4.311051E-05,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Strength Level 3 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/951838881991977995/A44897CA7B0634C5A49CECBC83E5B450B2A91850/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b74cd7"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 38.0,
            "posY": 5.977778,
            "posZ": -22.5,
            "rotX": -1.372515E-08,
            "rotY": 180.00647,
            "rotZ": -8.353213E-08,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Strength Level 1 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/951838881991976123/66F84FF309057B65F6EFD6BDCA56C0AD5D81F808/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a4ed3a"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 38.0,
            "posY": 5.977778,
            "posZ": -27.5,
            "rotX": -5.586848E-08,
            "rotY": 180.003662,
            "rotZ": -1.40007558E-07,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Strength Level 2 - ",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/951838881991977355/BCD46EC43659D197ABF2B45AE807DC4ED2A14C3B/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "dfc7bc"
        }
      ],
      "GUID": "e99591"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 8.224802,
        "posY": 1.468752,
        "posZ": -4.383701,
        "rotX": 359.920135,
        "rotY": 270.000977,
        "rotZ": 0.016876867,
        "scaleX": 0.382619947,
        "scaleY": 1.0,
        "scaleZ": 0.382619947
      },
      "Nickname": "[b]Charge[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.391996026,
        "b": 0.112996034
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173490520149/E738D0513F1E6AEE8E9324E8198CF079A39BE267/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173490722307/B317E8B9AAE84A14F097D65F1A2C707D38284E60/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 2,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "eba193"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 45.6759224,
        "posY": 2.804259,
        "posZ": 38.7949142,
        "rotX": 0.0169098619,
        "rotY": 179.9945,
        "rotZ": 0.08001313,
        "scaleX": 0.5500004,
        "scaleY": 0.5500004,
        "scaleZ": 0.5500004
      },
      "Nickname": "Zealot",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/831328194712735675/8CCFA7C97DAAAA46D410729FCF03E9306FD7D5C9/",
        "DiffuseURL": "http://cloud-3.steamusercontent.com/ugc/974352173487255794/B3A673ECDF6CAFFC54306C488325F0824AE4E9A0/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 28.9995117,
            "posY": 6.029299,
            "posZ": 7.000747,
            "rotX": 359.977966,
            "rotY": 180.008865,
            "rotZ": 1.30785453,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Zealot Level 3 - Terrifying Rampage",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173487092761/140DF713E87A25FF95CDA876B4A0A16C0FE1E307/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "68c7f2"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 28.9993153,
            "posY": 6.029305,
            "posZ": 7.000091,
            "rotX": -0.000262383866,
            "rotY": 179.998062,
            "rotZ": 1.3081069,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Zealot Level 2 - Martyr",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173487092205/6C33039CACE43C938AE6676B8294B4A0A6AC1F7A/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "65df0a"
        },
        {
          "Name": "Custom_Tile",
          "Transform": {
            "posX": 28.9996052,
            "posY": 5.99260235,
            "posZ": 7.000294,
            "rotX": 359.984619,
            "rotY": 179.999878,
            "rotZ": 2.706069,
            "scaleX": 2.0,
            "scaleY": 1.0,
            "scaleZ": 2.0
          },
          "Nickname": "Zealot Level 1 - Killing Frenzy",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "Hands": false,
          "CustomImage": {
            "ImageURL": "http://cloud-3.steamusercontent.com/ugc/974352173487091247/181EFFDD99286C75B387F4A78ECA2398316C039B/",
            "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
            "ImageScalar": 1.0,
            "WidthScale": 0.0,
            "CustomTile": {
              "Type": 3,
              "Thickness": 0.1,
              "Stackable": false,
              "Stretch": true
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "6fb7f2"
        }
      ],
      "GUID": "ec2799"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 7.400702,
        "posY": 1.4716841,
        "posZ": 1.67149973,
        "rotX": 359.9201,
        "rotY": 269.892334,
        "rotZ": 0.0170669779,
        "scaleX": 0.2911521,
        "scaleY": 1.0,
        "scaleZ": 0.2911521
      },
      "Nickname": "[b]Shaken[/b]",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.117999829,
        "g": 0.53,
        "b": 1.0
      },
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/776225031886938009/BC4DFD6FA6A429560B332C17A7A34085C96EB150/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/776225031886942174/A299A0F28DBF60CB7C4C0D5149E2DA9076AAF2E0/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f162fd"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": 28.3,
        "posY": 1.4302,
        "posZ": -40.4001,
        "rotX": 0.016899595,
        "rotY": 179.979828,
        "rotZ": 0.07987065,
        "scaleX": 2.0,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "Point-Blank Overwatch - Arena/Rogue Trader",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/791983956791704620/68E2DC820450D55D06CFD0B82CDAAD1E5DDBFB52/",
        "ImageSecondaryURL": "http://cloud-3.steamusercontent.com/ugc/974352173486354526/859FBA09B787CBBF2CED2679571455994BB02CB1/",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 3,
          "Thickness": 0.1,
          "Stackable": false,
          "Stretch": true
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f330fb"
    }
  ],
  "DecalPallet": [],
  "TabStates": {
    "1": {
      "title": "Credits",
      "body": "*******************Credits*******************\nBaconCatBug's Warhammer 40k Maps - 6'x4' Template (id: 1364668572)\n\nWarhammer 40k Map Sector Imperialis 6 x 4 by lotusdreams (id: 1055691506)\n\nKustom 40k Dice Roller\r by BaconCatBug (id: 959360907)\n\nTactical Objective Decks by GenWilhelm and BaconCatBug (id: 950253690)\n\nTokens by Malice of the Reddit 40k TTS Discord http://discord.gg/XkBbs5M\n(id: 1364449509) \n\nMemory Bag 2.0 by MrStump (id: 953770080)\n\nWargame Rulers by D6 (id: 1255723994)",
      "color": "Grey",
      "visibleColor": {
        "r": 0.5,
        "g": 0.5,
        "b": 0.5
      },
      "id": 1
    },
    "2": {
      "title": "Instructions",
      "body": "Click the white button on the lower left corner of the table (to the bottom and right of the blue players dice roller), copy the template URL and open in a browser to save it.\r\n\r\nEdit the maps background using GIMP or whatever. The black part is the 6'x4' playing area.\r\n\r\nMake a custom tile, and put your map onto it to upload it to the Steam Cloud. Copy this URL.\r\n\r\nClick the white button on the lower left corner of the table, replace the template URL with the Steam Cloud URL of your map. Click \"Apply Image to Table Surface\". Save the game then reload.\r\n\r\nSet up terrain as desired etc.\r\n\r\nSave game, Load Game, Upload to workshop as usual if so desired.\n\nHow to import a table image: https://youtu.be/xKzAf-fu1KQ",
      "color": "Grey",
      "visibleColor": {
        "r": 0.5,
        "g": 0.5,
        "b": 0.5
      },
      "id": 2
    }
  },
  "VersionNumber": "v12.2.2"
}