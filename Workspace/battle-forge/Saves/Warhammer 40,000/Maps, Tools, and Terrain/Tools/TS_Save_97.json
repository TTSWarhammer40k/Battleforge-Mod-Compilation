{
  "SaveName": "BCB Army Builder 2.11",
  "GameMode": "BCB Army Builder 2.0",
  "Gravity": 0.5,
  "PlayArea": 1.0,
  "Date": "3/14/2020 10:47:54 AM",
  "Table": "Table_None",
  "Sky": "Sky_Museum",
  "Note": "This map is made to prepare armies for the BaconCatBug Gaming Template v2.0 or later versions.\n\r\nThis could be useful for preparing your army in the spare time and having multiple armies ready.\n\r\nAlthough it is not needed and you can bring you army by grabbing it from the saved objects, this method keeps things clean and organized and ensures that will be no mess when importing armies as they will be placed by script in the right position of the table.\r\n\r\nRead the Notepad for the instructions.\r\n\r\nThis tool map is made by [BCS]Phubar",
  "Rules": "",
  "XmlUI": "<!-- Xml UI. See documentation: https://api.tabletopsimulator.com/ui/introUI/ -->",
  "LuaScript": "--[[ Lua code. See documentation: https://api.tabletopsimulator.com/ --]]\n\n--[[ The onLoad event is called after the game save finishes loading. --]]\nfunction onLoad()\n \nend\n\n--[[ The onUpdate event is called once per frame. --]]\nfunction onUpdate()\n    --[[ print('onUpdate loop!') --]]\nend",
  "LuaScriptState": "",
  "MusicPlayer": {
    "RepeatSong": true,
    "PlaylistEntry": -1,
    "CurrentAudioTitle": "Ultramarines Chant",
    "CurrentAudioURL": "http://cloud-3.steamusercontent.com/ugc/773976977327440295/17C1CAA1F70F178395E93C05E55946061E695598/",
    "AudioLibrary": [
      {
        "Item1": "http://cloud-3.steamusercontent.com/ugc/773976977327440295/17C1CAA1F70F178395E93C05E55946061E695598/",
        "Item2": "Ultramarines Chant"
      }
    ]
  },
  "Grid": {
    "Type": 0,
    "Lines": false,
    "Color": {
      "r": 0.0,
      "g": 0.0,
      "b": 0.0
    },
    "Opacity": 0.75,
    "ThickLines": false,
    "Snapping": false,
    "Offset": false,
    "BothSnapping": false,
    "xSize": 2.0,
    "ySize": 2.0,
    "PosOffset": {
      "x": 0.0,
      "y": 1.0,
      "z": 0.0
    }
  },
  "Lighting": {
    "LightIntensity": 0.54,
    "LightColor": {
      "r": 1.0,
      "g": 0.9804,
      "b": 0.8902
    },
    "AmbientIntensity": 1.3,
    "AmbientType": 0,
    "AmbientSkyColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientEquatorColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientGroundColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "ReflectionIntensity": 1.0,
    "LutIndex": 0,
    "LutContribution": 1.0
  },
  "Hands": {
    "Enable": true,
    "DisableUnused": false,
    "Hiding": 0,
    "HandTransforms": [
      {
        "Color": "White",
        "Transform": {
          "posX": -219.4729,
          "posY": 5.0,
          "posZ": 0.758474469,
          "rotX": 0.0,
          "rotY": 90.46,
          "rotZ": 0.0,
          "scaleX": 1.30354559,
          "scaleY": 1.29675269,
          "scaleZ": 1.31496108
        }
      }
    ]
  },
  "Turns": {
    "Enable": false,
    "Type": 0,
    "TurnOrder": [],
    "Reverse": false,
    "SkipEmpty": false,
    "DisableInteractions": false,
    "PassTurns": true,
    "TurnColor": ""
  },
  "ObjectStates": [
    {
      "Name": "BlockSquare",
      "Transform": {
        "posX": -76.0,
        "posY": 0.279999137,
        "posZ": 2.10954254E-09,
        "rotX": 1.43343073E-07,
        "rotY": -2.59632515E-09,
        "rotZ": 1.00618945E-06,
        "scaleX": 200.0,
        "scaleY": 1.0,
        "scaleZ": 200.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.5,
        "g": 0.5,
        "b": 0.5
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "function onLoad(save_state)\r\n  self.interactable=false\r\nend\r\n",
      "LuaScriptState": "",
      "GUID": "948ce5"
    },
    {
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -32.0,
        "posY": -8.25,
        "posZ": 0.0,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 3.5,
        "scaleY": 3.5,
        "scaleZ": 3.5
      },
      "Nickname": "Save and delete",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.5,
        "g": 0.5,
        "b": 0.5
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "Number": 0,
      "CustomMesh": {
        "MeshURL": "http://cloud-3.steamusercontent.com/ugc/786374678935837063/2F68BC7FA71E051E2BBA46C0D1B06A5972D52E7C/",
        "DiffuseURL": "",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 0,
        "TypeIndex": 6,
        "CastShadows": true
      },
      "XmlUI": "",
      "LuaScript": "\r\n\r\nmenuX=0\r\nmenuZ=13\r\narrowOffset=10.5\r\n\r\nimageSelected=1\r\nmatImage={\r\n    \"http://cloud-3.steamusercontent.com/ugc/786374678935908784/7E16C361F995197F4EC82D0F907A6B4303ED9F63/\",\r\n    \"http://cloud-3.steamusercontent.com/ugc/789758618465933784/6274EB286C6B059C46E84F2FE6466B554A8507F4///\",\r\n    \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Flag_of_Taliban_%28original%29.svg/1200px-Flag_of_Taliban_%28original%29.svg.png\"\r\n    }\r\n\r\n\r\n\r\nimageMenuBtn={\r\n    index=1, label=\"S E L E C T     B A T T L E F I E L D     S I Z E\", click_function=\"none\", function_owner=self,\r\n    position={menuX,5,menuZ-1.35}, rotation={0,0,0}, height=450, width=8000,\r\n    font_size=800, color={0,0,0}, font_color={1,1,1}\r\n}\r\n\r\nimageBtn={\r\n    index= i, label=\"Zone\", click_function=\"none\", function_owner=self,\r\n    position={-menuX,5,menuZ}, rotation={0,0,0}, height=450, width=6000,\r\n    font_size=300, color={0.6,0.6,0.6}, font_color={0,0,0}\r\n}\r\nimageUpBtn={\r\n    index=1, label=\"->\", click_function=\"imageUp\", function_owner=self,\r\n    position={-menuX+arrowOffset,2.8,menuZ}, rotation={0,0,0}, height=900, width=1200,\r\n    font_size=800, color='Black', font_color={1,1,1}\r\n}\r\nimageDownBtn={\r\n    index=1, label=\"<-\", click_function=\"imageDown\", function_owner=self,\r\n    position={-menuX-arrowOffset,2.8,menuZ}, rotation={0,0,0}, height=900, width=1200,\r\n    font_size=800, color='Black', font_color={1,1,1}\r\n}\r\nconfirmBtn={\r\n    index= i, label=\"C O N F I R M\\n(no more changes)\", click_function=\"reimageMat\", function_owner=self,\r\n    position={-menuX,5,menuZ+2.3}, rotation={0,0,0}, height=1400, width=4400,\r\n    font_size=500, color={0,0.7,0}, font_color={0,0,0}\r\n}\r\n\r\nfunction refreshMat()\r\n    mat = getObjectFromGUID(\"c35ec8\")\r\nend\r\n\r\n\r\nfunction onLoad2(saved_data)\r\n--[[\r\n    self.setPosition({56,-4,0})\r\n    --self.setScale({1,1,1})\r\n    self.setScale({1.3,1,1.3})\r\n    self.interactable=false\r\n    startObject= getObjectFromGUID(\"738804\")\r\n    mat = getObjectFromGUID(\"4ee1f2\")\r\n    mat.setPosition({0,-9.52,0})\r\n\r\n    --mat.setScale({0.5,0.5,0.5})\r\n    if saved_data ~= \"\" then\r\n         local loaded_data = JSON.decode(saved_data)\r\n         imageSelected = loaded_data.svimageSelected\r\n         imageConfirmed = loaded_data.svimageConfirmed\r\n    end\r\n    writeImageMenu()\r\n    ]]\r\nend\r\n\r\n\r\n\r\nfunction writeImageMenu()\r\n    self.clearButtons()\r\n    createLockButton()\r\n    --self.createButton(imageMenuBtn)\r\n    --imageBtn.label=imageName[imageSelected]\r\n    --self.createButton(imageBtn)\r\n    self.createButton(imageUpBtn)\r\n    self.createButton(imageDownBtn)\r\n    --self.createButton(confirmBtn)\r\n\r\n\r\n\r\nend\r\n\r\nfunction imageUp()\r\n    imageSelected=imageSelected+1\r\n    if imageSelected > #matImage then\r\n        imageSelected=1\r\n    end\r\n    changeImageMat()\r\n    --writeImageMenu()\r\n\r\nend\r\n\r\nfunction imageDown()\r\n    imageSelected=imageSelected-1\r\n    if imageSelected < 1 then\r\n        imageSelected=#matImage\r\n    end\r\n    changeImageMat()\r\n    --writeImageMenu()\r\n\r\nend\r\n\r\nfunction changeImageMat()\r\n    local custom = mat.getCustomObject()\r\n    custom.image=matImage[imageSelected]\r\n    mat.setCustomObject(custom)\r\n    mat.reload()\r\n    Wait.frames(refreshMat,10)\r\nend\r\n\r\nfunction none()\r\nend\r\n\r\n\r\nplayZone=nil\r\nplayZoneData={\r\n    type = \"ScriptingTrigger\",\r\n    position          = {x=-78, y=10, z=0},\r\n    rotation          = {x=0, y=0, z=0},\r\n    scale             = {x=47.9, y=40, z=53.3},\r\n    sound             = false,\r\n    snap_to_grid      = false,\r\n}\r\n\r\nfunction onLoad()\r\n    assignVariables()\r\n    createLockButton()\r\n    self.setPosition({-32,1.75-10,0})\r\n    self.setRotation({0,270,0})\r\n    self.interactable = false\r\n    writeImageMenu()\r\nend\r\n\r\nfunction assignVariables()\r\n    table=getObjectFromGUID('948ce5')\r\n    text=getObjectFromGUID('acffa0')\r\n    mat = getObjectFromGUID(\"c35ec8\")\r\n    --matUrlDisplay=getObjectFromGUID('c5e288')\r\n    --flexControl=getObjectFromGUID('bd69bd')\r\n    YNButtons=false\r\n    label0=\" E X P O R T \"\r\n    scaleBtn=3\r\n    offsetBtn=1.7\r\n    offsetYBtn=2.8\r\nend\r\n\r\nfunction createLockButton()\r\n    button_parameters = {}\r\n    button_parameters.click_function = 'showYNButtons'\r\n    button_parameters.function_owner = self\r\n    button_parameters.label = label0\r\n    button_parameters.position = {0,offsetYBtn,0.9+offsetBtn}\r\n    button_parameters.rotation = {0,0,0}\r\n    button_parameters.width = 1000*scaleBtn\r\n    button_parameters.height = 300*scaleBtn\r\n    button_parameters.font_size = 120*scaleBtn\r\n    button_parameters.color = 'Black'\r\n    button_parameters.font_color = 'White'\r\n    self.createButton(button_parameters)\r\nend\r\n\r\nfunction createLockButton2()\r\n    button_parameters = {}\r\n    button_parameters.click_function = 'none'\r\n    button_parameters.function_owner = self\r\n    button_parameters.label = \"Are you sure?\"\r\n    button_parameters.position = {0,offsetYBtn,0.9+offsetBtn}\r\n    button_parameters.rotation = {0,0,0}\r\n    button_parameters.width = 1000*scaleBtn\r\n    button_parameters.height = 300*scaleBtn\r\n    button_parameters.font_size = 120*scaleBtn\r\n    button_parameters.color = 'Black'\r\n    button_parameters.font_color = 'White'\r\n    self.createButton(button_parameters)\r\nend\r\n\r\nfunction createNoButton()\r\n    button_parameters = {}\r\n    button_parameters.click_function = 'hideYNButtons'\r\n    button_parameters.function_owner = self\r\n    button_parameters.label = 'No'\r\n    button_parameters.position = {-2,offsetYBtn,3+offsetBtn}\r\n    button_parameters.rotation = {0,0,0}\r\n    button_parameters.width = 300*scaleBtn\r\n    button_parameters.height = 300*scaleBtn\r\n    button_parameters.font_size = 120*scaleBtn\r\n    self.createButton(button_parameters)\r\nend\r\n\r\nfunction createYesButton()\r\n    button_parameters = {}\r\n    button_parameters.click_function = 'extract'\r\n    button_parameters.function_owner = self\r\n    button_parameters.label = 'Yes'\r\n    button_parameters.position = {2,offsetYBtn,3+offsetBtn}\r\n    button_parameters.rotation = {0,0,0}\r\n    button_parameters.width = 300*scaleBtn\r\n    button_parameters.height = 300*scaleBtn\r\n    button_parameters.font_size = 120*scaleBtn\r\n    self.createButton(button_parameters)\r\nend\r\n\r\nfunction showYNButtons()\r\n    if YNButtons == false then\r\n        self.clearButtons()\r\n        createLockButton2()\r\n        --self.editButton({index=0, label=\"Are you sure?\"})\r\n    createYesButton()\r\n    createNoButton()\r\n    self.createButton(imageUpBtn)\r\n    self.createButton(imageDownBtn)\r\n    YNButtons= true\r\n    end\r\nend\r\n\r\nfunction hideYNButtons()\r\n    if YNButtons== true then\r\n        self.clearButtons()\r\n\r\n        createLockButton()\r\n\r\n        self.createButton(imageUpBtn)\r\n        self.createButton(imageDownBtn)\r\n        YNButtons=false\r\n    end\r\nend\r\n\r\nfunction extract()\r\n    spawnPlayZone()\r\n    Wait.frames(extract2, 3)\r\nend\r\n\r\nfunction extract2()\r\n    --print(\"Starting to delete\")\r\n    --deleteTable()\r\n    local allObj=getAllObjects()\r\n    local zoneObj=playZone.getObjects()\r\n    for i, objA in ipairs(allObj) do\r\n        local delete=true\r\n        for j, objZ in ipairs (zoneObj) do\r\n            if objA == objZ or objA == self or objA == matUrlDisplay then\r\n                delete=false\r\n                objZ.setLock(true)\r\n            end\r\n        end\r\n        if delete then\r\n            objA.destroy()\r\n        end\r\n    end\r\n    deleteTable()\r\n    --self.setPosition({37,2,0})\r\n    --self.destroy()\r\nend\r\n\r\nfunction deleteTable()\r\n\r\n    --flexTable=getObjectFromGUID(flexTableGuid)\r\n    local guidList = {\r\n        \"afc863\",\"c8edca\",\"393bf7\",\"12c65e\",\"f938a2\",\"9f95fd\",\"35b95f\",\r\n        \"5af8f2\",\"4ee1f2\",\"bd69bd\", \"28865a\", \"9f95fd\"\r\n    }\r\n    guidList = {}\r\n    for i, tbl in ipairs(guidList) do\r\n        getObjectFromGUID(tbl).destroy()\r\n    end\r\n    table.destroy()\r\n    text.destroy()\r\n    --mat.destroy()\r\n    --flexControl.destroy()\r\n    self.destroy()\r\nend\r\n\r\n\r\nfunction spawnPlayZone()\r\n    playZone=spawnObject(playZoneData)\r\nend",
      "LuaScriptState": "",
      "GUID": "70b9f6"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": -56.37389,
        "posY": 0.9500014,
        "posZ": -6.42163658,
        "rotX": 90.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.2,
        "scaleY": 2.5,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": " ----------   D O N ' T   P L A C E   ----------\n\n \n-----   M I N I A T U R E S   H E R E   -----",
        "colorstate": {
          "r": 0.856,
          "g": 0.1,
          "b": 0.094
        },
        "fontSize": 150
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "acffa0"
    },
    {
      "Name": "Custom_Tile",
      "Transform": {
        "posX": -78.0,
        "posY": 0.75,
        "posZ": 0.0,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 26.6,
        "scaleY": 1.0,
        "scaleZ": 24.0
      },
      "Nickname": "Army mat",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.249995679,
        "g": 0.249995679,
        "b": 0.249995679
      },
      "Locked": true,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": false,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "http://cloud-3.steamusercontent.com/ugc/789758618465933784/6274EB286C6B059C46E84F2FE6466B554A8507F4///",
        "ImageSecondaryURL": "",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomTile": {
          "Type": 0,
          "Thickness": 0.2,
          "Stackable": false,
          "Stretch": false
        }
      },
      "XmlUI": "",
      "LuaScript": "BCBtype= \"armyMat\"\n\nfunction onLoad()\r\n    armyPlacer=getObjectFromGUID(\"8b7aa6\")\r\n    Wait.frames(showMenu,3)\r\nend\r\n\r\nfunction showMenu()\r\n    if self.getPosition().x < -40 then\r\n        if armyPlacer ~= nil then\r\n            armyPlacer.call(\"armyLoaded\")\r\n        end\r\n    end\r\nend",
      "LuaScriptState": "{\"cvarmyPlaced\":false}",
      "GUID": "c35ec8"
    }
  ],
  "DecalPallet": [],
  "TabStates": {
    "0": {
      "title": "Instructions",
      "body": "INSTRUCTIONS\r\n\r\nPREPARING THE ARMY:\r\n\r\nPrepare your army placing the miniatures on the army chalk board, be sure that all elements are totally inside the gaming mat, any parts outside of the board will not be saved.\r\n\r\n\r\nWhen the army is ready, press the \"Export\" button and confirm.\nYou will then have a map only with the army and the board.\r\n\r\nALL objects outside the board will be DELETED.\r\n\r\nThen save the map in another local save file or upload it to the workshop.\r\n\r\n\r\nLOADING THE ARMY:\r\n\r\nAfter loading in and preparing your map, simply ADDITIVE LOAD the save file. Once loaded, click the correct button to place it on your side of the battlefield.\r\n\r\n\r\nMake sure that nobody loads a new army until the previous one is placed or deleted to prevent physics spaz.",
      "color": "Grey",
      "visibleColor": {
        "r": 0.5,
        "g": 0.5,
        "b": 0.5
      },
      "id": 0
    }
  },
  "CameraStates": [
    {
      "Position": {
        "x": -74.35572,
        "y": -2.5,
        "z": 2.704634
      },
      "Rotation": {
        "x": 65.66638,
        "y": 89.96018,
        "z": 0.0
      },
      "Distance": 81.35759,
      "Zoomed": false,
      "AbsolutePosition": {
        "x": -107.879036,
        "y": 71.62991,
        "z": 2.68133545
      }
    },
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null
  ],
  "VersionNumber": "v12.2.2"
}